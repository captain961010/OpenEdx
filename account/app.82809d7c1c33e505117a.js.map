{"version":3,"file":"app.82809d7c1c33e505117a.js","mappings":"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","sources":["webpack://@edx/frontend-app-account/./src/account-settings/AccountSettingsPage.messages.jsx","webpack://@edx/frontend-app-account/./src/account-settings/data/utils/reduxUtils.js","webpack://@edx/frontend-app-account/./src/account-settings/data/utils/sagaUtils.js","webpack://@edx/frontend-app-account/./src/account-settings/data/utils/serviceUtils.js","webpack://@edx/frontend-app-account/./src/account-settings/data/actions.js","webpack://@edx/frontend-app-account/./src/account-settings/site-language/actions.js","webpack://@edx/frontend-app-account/./src/account-settings/site-language/reducers.js","webpack://@edx/frontend-app-account/./src/account-settings/site-language/constants.js","webpack://@edx/frontend-app-account/./src/account-settings/site-language/service.js","webpack://@edx/frontend-app-account/./src/account-settings/site-language/sagas.js","webpack://@edx/frontend-app-account/./src/account-settings/site-language/selectors.js","webpack://@edx/frontend-app-account/./src/utils.js","webpack://@edx/frontend-app-account/./src/account-settings/data/selectors.js","webpack://@edx/frontend-app-account/./src/account-settings/PageLoading.jsx","webpack://@edx/frontend-app-account/./src/notification-preferences/data/selectors.js","webpack://@edx/frontend-app-account/./src/account-settings/JumpNav.jsx","webpack://@edx/frontend-app-account/./src/account-settings/delete-account/data/actions.js","webpack://@edx/frontend-app-account/./src/account-settings/delete-account/messages.js","webpack://@edx/frontend-app-account/./src/account-settings/Alert.jsx","webpack://@edx/frontend-app-account/./src/account-settings/delete-account/PrintingInstructions.jsx","webpack://@edx/frontend-app-account/./src/account-settings/delete-account/ConfirmationModal.jsx","webpack://@edx/frontend-app-account/./src/account-settings/delete-account/SuccessModal.jsx","webpack://@edx/frontend-app-account/./src/account-settings/delete-account/BeforeProceedingBanner.jsx","webpack://@edx/frontend-app-account/./src/account-settings/delete-account/DeleteAccount.jsx","webpack://@edx/frontend-app-account/./src/account-settings/delete-account/data/reducers.js","webpack://@edx/frontend-app-account/./src/account-settings/delete-account/data/service.js","webpack://@edx/frontend-app-account/./src/account-settings/delete-account/data/sagas.js","webpack://@edx/frontend-app-account/./src/account-settings/SwitchContent.jsx","webpack://@edx/frontend-app-account/./src/account-settings/certificate-preference/messages.js","webpack://@edx/frontend-app-account/./src/account-settings/certificate-preference/CertificatePreference.jsx","webpack://@edx/frontend-app-account/./src/account-settings/EditableField.jsx","webpack://@edx/frontend-app-account/./src/account-settings/EditableSelectField.jsx","webpack://@edx/frontend-app-account/./src/account-settings/reset-password/data/actions.js","webpack://@edx/frontend-app-account/./src/account-settings/reset-password/messages.js","webpack://@edx/frontend-app-account/./src/account-settings/reset-password/ConfirmationAlert.jsx","webpack://@edx/frontend-app-account/./src/account-settings/reset-password/RequestInProgressAlert.jsx","webpack://@edx/frontend-app-account/./src/account-settings/reset-password/ResetPassword.jsx","webpack://@edx/frontend-app-account/./src/account-settings/reset-password/data/reducers.js","webpack://@edx/frontend-app-account/./src/account-settings/reset-password/data/service.js","webpack://@edx/frontend-app-account/./src/account-settings/reset-password/data/sagas.js","webpack://@edx/frontend-app-account/./src/account-settings/name-change/data/actions.js","webpack://@edx/frontend-app-account/./src/account-settings/name-change/messages.js","webpack://@edx/frontend-app-account/./src/account-settings/name-change/NameChange.jsx","webpack://@edx/frontend-app-account/./src/account-settings/name-change/data/reducers.js","webpack://@edx/frontend-app-account/./src/account-settings/third-party-auth/data/actions.js","webpack://@edx/frontend-app-account/./src/account-settings/third-party-auth/ThirdPartyAuth.jsx","webpack://@edx/frontend-app-account/./src/account-settings/third-party-auth/data/reducers.js","webpack://@edx/frontend-app-account/./src/account-settings/third-party-auth/data/service.js","webpack://@edx/frontend-app-account/./src/account-settings/third-party-auth/data/sagas.js","webpack://@edx/frontend-app-account/./src/account-settings/demographics/data/utils.js","webpack://@edx/frontend-app-account/./src/account-settings/demographics/data/service.js","webpack://@edx/frontend-app-account/./src/account-settings/data/service.js","webpack://@edx/frontend-app-account/./src/account-settings/certificate-preference/data/service.js","webpack://@edx/frontend-app-account/./src/account-settings/name-change/data/service.js","webpack://@edx/frontend-app-account/./src/account-settings/name-change/data/sagas.js","webpack://@edx/frontend-app-account/./src/account-settings/data/constants.js","webpack://@edx/frontend-app-account/./src/account-settings/BetaLanguageBanner.jsx","webpack://@edx/frontend-app-account/./src/account-settings/EmailField.jsx","webpack://@edx/frontend-app-account/./src/account-settings/OneTimeDismissibleAlert.jsx","webpack://@edx/frontend-app-account/./src/account-settings/DOBForm.jsx","webpack://@edx/frontend-app-account/./src/account-settings/demographics/Checkboxes.jsx","webpack://@edx/frontend-app-account/./src/account-settings/demographics/DemographicsSection.messages.jsx","webpack://@edx/frontend-app-account/./src/account-settings/demographics/DemographicsSection.jsx","webpack://@edx/frontend-app-account/./src/notification-preferences/data/actions.js","webpack://@edx/frontend-app-account/./src/notification-preferences/data/service.js","webpack://@edx/frontend-app-account/./src/notification-preferences/data/thunks.js","webpack://@edx/frontend-app-account/./src/account-settings/AccountSettingsPage.jsx","webpack://@edx/frontend-app-account/./src/account-settings/hoc.jsx","webpack://@edx/frontend-app-account/./src/account-settings/data/reducers.js","webpack://@edx/frontend-app-account/./src/account-settings/data/sagas.js","webpack://@edx/frontend-app-account/./src/account-settings/NotFoundPage.jsx","webpack://@edx/frontend-app-account/./src/constants.js","webpack://@edx/frontend-app-account/./src/notification-preferences/data/reducers.js","webpack://@edx/frontend-app-account/./src/data/sagas.js","webpack://@edx/frontend-app-account/./src/data/configureStore.js","webpack://@edx/frontend-app-account/./src/data/reducers.js","webpack://@edx/frontend-app-account/./src/id-verification/data/selectors.js","webpack://@edx/frontend-app-account/./src/id-verification/getUserMediaShim.js","webpack://@edx/frontend-app-account/./src/hooks.js","webpack://@edx/frontend-app-account/./src/id-verification/data/service.js","webpack://@edx/frontend-app-account/./src/id-verification/IdVerification.messages.js","webpack://@edx/frontend-app-account/./src/id-verification/IdVerificationContext.jsx","webpack://@edx/frontend-app-account/./src/id-verification/AccessBlocked.jsx","webpack://@edx/frontend-app-account/./src/id-verification/VerifiedNameContext.jsx","webpack://@edx/frontend-app-account/./src/id-verification/IdVerificationContextProvider.jsx","webpack://@edx/frontend-app-account/./src/id-verification/routing-utilities.js","webpack://@edx/frontend-app-account/./src/id-verification/panels/BasePanel.jsx","webpack://@edx/frontend-app-account/./src/id-verification/assets/example-card.png","webpack://@edx/frontend-app-account/./src/id-verification/panels/ReviewRequirementsPanel.jsx","webpack://@edx/frontend-app-account/./src/id-verification/panels/EnableCameraDirectionsPanel.jsx","webpack://@edx/frontend-app-account/./src/id-verification/panels/UnsupportedCameraDirectionsPanel.jsx","webpack://@edx/frontend-app-account/./src/id-verification/panels/RequestCameraAccessPanel.jsx","webpack://@edx/frontend-app-account/./src/id-verification/CameraHelp.jsx","webpack://@edx/frontend-app-account/./src/id-verification/panels/PortraitPhotoContextPanel.jsx","webpack://@edx/frontend-app-account/./src/id-verification/Camera.jsx","webpack://@edx/frontend-app-account/./src/id-verification/panels/TakePortraitPhotoPanel.jsx","webpack://@edx/frontend-app-account/./src/id-verification/panels/IdContextPanel.jsx","webpack://@edx/frontend-app-account/./src/id-verification/panels/GetNameIdPanel.jsx","webpack://@edx/frontend-app-account/./src/id-verification/ImagePreview.jsx","webpack://@edx/frontend-app-account/./src/id-verification/SupportedMediaTypes.jsx","webpack://@edx/frontend-app-account/./src/id-verification/ImageFileUpload.jsx","webpack://@edx/frontend-app-account/./src/id-verification/CollapsibleImageHelp.jsx","webpack://@edx/frontend-app-account/./src/id-verification/panels/TakeIdPhotoPanel.jsx","webpack://@edx/frontend-app-account/./src/id-verification/CameraHelpWithUpload.jsx","webpack://@edx/frontend-app-account/./src/id-verification/panels/SummaryPanel.jsx","webpack://@edx/frontend-app-account/./src/id-verification/panels/SubmittedPanel.jsx","webpack://@edx/frontend-app-account/./src/id-verification/IdVerificationPage.jsx","webpack://@edx/frontend-app-account/./src/i18n/index.js","webpack://@edx/frontend-app-account/./src/head/messages.js","webpack://@edx/frontend-app-account/./src/head/Head.jsx","webpack://@edx/frontend-app-account/./src/notification-preferences/messages.js","webpack://@edx/frontend-app-account/./src/notification-preferences/NotificationCourses.jsx","webpack://@edx/frontend-app-account/./src/notification-preferences/ToggleSwitch.jsx","webpack://@edx/frontend-app-account/./src/notification-preferences/NotificationPreferenceRow.jsx","webpack://@edx/frontend-app-account/./src/notification-preferences/NotificationPreferenceApp.jsx","webpack://@edx/frontend-app-account/./src/notification-preferences/NotificationPreferences.jsx","webpack://@edx/frontend-app-account/./src/index.jsx"],"sourcesContent":["import { defineMessages } from '@edx/frontend-platform/i18n';\n\nconst messages = defineMessages({\n  'account.settings.page.heading': {\n    id: 'account.settings.page.heading',\n    defaultMessage: 'Account Settings',\n    description: 'The page heading for the account settings page.',\n  },\n  'account.settings.loading.message': {\n    id: 'account.settings.loading.message',\n    defaultMessage: 'Loading...',\n    description: 'Message when data is being loaded',\n  },\n  'account.settings.loading.error': {\n    id: 'account.settings.loading.error',\n    defaultMessage: 'Error: {error}',\n    description: 'Message when data failed to load',\n  },\n  'account.settings.banner.beta.language': {\n    id: 'account.settings.banner.beta.language',\n    defaultMessage: 'You have set your language to {beta_language}, which is currently not fully translated. You can help us translate this language fully by joining the Transifex community and adding translations from English for learners that speak {beta_language}.',\n    description: 'Message when the user selects a beta language this is not yet fully translated.',\n  },\n  'account.settings.banner.beta.language.action.switch.back': {\n    id: 'account.settings.banner.beta.language.action.switch.back',\n    defaultMessage: 'Switch Back to {previous_language}',\n    description: 'Button on the beta language message to switch back to the previous language.',\n  },\n  'account.settings.banner.beta.language.action.help.translate': {\n    id: 'account.settings.banner.beta.language.action.help.translate',\n    defaultMessage: 'Help Translate into {beta_language}',\n    description: 'Button on the beta language message to help translate the beta language.',\n  },\n  'account.settings.section.account.information': {\n    id: 'account.settings.section.account.information',\n    defaultMessage: 'Account Information',\n    description: 'The basic account information section heading.',\n  },\n  'account.settings.section.account.information.description': {\n    id: 'account.settings.section.account.information.description',\n    defaultMessage: 'These settings include basic information about your account.',\n    description: 'The basic account information section heading description.',\n  },\n  'account.settings.section.profile.information': {\n    id: 'account.settings.section.profile.information',\n    defaultMessage: 'Profile Information',\n    description: 'The profile information section heading.',\n  },\n  'account.settings.section.demographics.information': {\n    id: 'account.settings.section.demographics.information',\n    defaultMessage: 'Optional Information',\n    description: 'The optional information section heading.',\n  },\n  'account.settings.section.site.preferences': {\n    id: 'account.settings.section.site.preferences',\n    defaultMessage: 'Site Preferences',\n    description: 'The site preferences section heading.',\n  },\n  'account.settings.section.linked.accounts': {\n    id: 'account.settings.section.linked.accounts',\n    defaultMessage: 'Linked Accounts',\n    description: 'The linked accounts section heading.',\n  },\n  'account.settings.section.linked.accounts.description': {\n    id: 'account.settings.section.linked.accounts.description',\n    defaultMessage: 'You can link your identity accounts to simplify signing in to {siteName}.',\n    description: 'The linked accounts section heading description.',\n  },\n  'account.settings.field.username': {\n    id: 'account.settings.field.username',\n    defaultMessage: 'Username',\n    description: 'Label for account settings username field.',\n  },\n  'account.settings.field.username.help.text': {\n    id: 'account.settings.field.username.help.text',\n    defaultMessage: 'The name that identifies you on {siteName}. You cannot change your username.',\n    description: 'Help text for the account settings username field.',\n  },\n  'account.settings.field.full.name': {\n    id: 'account.settings.field.full.name',\n    defaultMessage: 'Full name',\n    description: 'Label for account settings name field.',\n  },\n  'account.settings.field.full.name.empty': {\n    id: 'account.settings.field.full.name.empty',\n    defaultMessage: 'Add name',\n    description: 'Placeholder for empty account settings name field.',\n  },\n  'account.settings.field.full.name.help.text': {\n    id: 'account.settings.field.full.name.help.text',\n    defaultMessage: 'The name that is used for ID verification and that appears on your certificates.',\n    description: 'Help text for the account settings name field.',\n  },\n  'account.settings.field.full.name.help.text.default': {\n    id: 'account.settings.field.full.name.help.text.default',\n    defaultMessage: 'The name that appears on your public profile.',\n    description: 'Help text for the account settings name field.',\n  },\n  'account.settings.field.full.name.help.text.default.certificate': {\n    id: 'account.settings.field.full.name.help.text.default.certificate',\n    defaultMessage: 'This name is selected to appear on your certificates and public-facing records.',\n    description: 'Help text for the account settings name field.',\n  },\n  'account.settings.field.name.verified': {\n    id: 'account.settings.field.name.verified',\n    defaultMessage: 'Verified name',\n    description: 'Label for account settings verified name field.',\n  },\n  'account.settings.field.name.verified.help.text.verified': {\n    id: 'account.settings.field.name.verified.help.text.verified',\n    defaultMessage: 'This name has been verified by photo ID.',\n    description: 'Help text for the account settings verified name field when the name is verified.',\n  },\n  'account.settings.field.name.verified.help.text.verified.proctored': {\n    id: 'account.settings.field.name.verified.help.text.verified.proctored',\n    defaultMessage: 'This name has been verified by proctoring.',\n    description: 'Help text for the account settings verified name field when the name is verified through proctoring.',\n  },\n  'account.settings.field.name.verified.help.text.verified.certificate': {\n    id: 'account.settings.field.name.verified.help.text.verified.certificate',\n    defaultMessage: 'This name has been verified by photo ID, and is selected to appear on your certificates and public-facing records.',\n    description: 'Help text for the account settings verified name field when the name is selected for certificates.',\n  },\n  'account.settings.field.name.verified.help.text.verified.proctored.certificate': {\n    id: 'account.settings.field.name.verified.help.text.verified.proctored.certificate',\n    defaultMessage: 'This name has been verified by proctoring, and is selected to appear on your certificates and public-facing records.',\n    description: 'Help text for the account settings verified name field when the name is selected for certificates, and the name is verified through proctoring.',\n  },\n  'account.settings.field.name.verified.help.text.submitted': {\n    id: 'account.settings.field.name.verified.help.text.submitted',\n    defaultMessage: 'Verification has been submitted. This usually takes 48 hours or less. Verified name cannot be changed at this time.',\n    description: 'Help text for the account settings verified name field when a verified name has been submitted.',\n  },\n  'account.settings.field.name.verified.help.text.submitted.proctored': {\n    id: 'account.settings.field.name.verified.help.text.submitted.proctored',\n    defaultMessage: 'Your proctored exam has been submitted. Verified name cannot be changed at this time. Please check back in 2-5 days.',\n    description: 'Help text for the account settings verified name field when a verified name has been submitted through proctoring.',\n  },\n  'account.settings.field.name.verified.help.text.submitted.certificate': {\n    id: 'account.settings.field.name.verified.help.text.submitted.certificate',\n    defaultMessage: 'When identity verification is successful, this name will appear on your certificates and public-facing records. Verified name cannot be changed at this time.',\n    description: 'Help text for the account settings verified name field when a verified name has been submitted and will appear on certificates.',\n  },\n  'account.settings.field.name.verified.help.text.submitted.proctored.certificate': {\n    id: 'account.settings.field.name.verified.help.text.submitted.proctored.certificate',\n    defaultMessage: 'Once your proctored exam passes review, this name will appear on your certificate and public-facing records. Verified Name cannot be changed at this time.',\n    description: 'Help text for the account settings verified name field when a verified name has been submitted through proctoring and will appear on certificates.',\n  },\n  'account.settings.field.name.verified.verification.alert': {\n    id: 'account.settings.field.name.verified.verification.help',\n    defaultMessage: 'Enter your name as it appears on your unexpired student, work, or government-issued identification card.',\n    description: 'Form label instructing the user to enter the name on their ID.',\n  },\n  'account.settings.field.full.name.help.text.submitted': {\n    id: 'account.settings.field.full.name.help.text.submitted',\n    defaultMessage: 'Verification has been submitted. This usually takes 48 hours or less. Full name cannot be changed at this time.',\n    description: 'Help text for the account settings full name field when a verified name has been submitted.',\n  },\n  'account.settings.field.full.name.help.text.submitted.proctored': {\n    id: 'account.settings.field.full.name.help.text.submitted.proctored',\n    defaultMessage: 'Your proctored exam has been submitted. Full name cannot be changed at this time. Please check back in 2-5 days.',\n    description: 'Help text for the account settings full name field when a verified name has been submitted through proctoring.',\n  },\n  'account.settings.field.full.name.help.text.submitted.certificate': {\n    id: 'account.settings.field.full.name.help.text.submitted.certificate',\n    defaultMessage: 'When identity verification is successful, this name will appear on your certificates and public-facing records. Full name cannot be changed at this time.',\n    description: 'Help text for the account settings full name field when a full name has been submitted and will appear on certificates.',\n  },\n  'account.settings.field.full.name.help.text.submitted.proctored.certificate': {\n    id: 'account.settings.field.full.name.help.text.submitted.proctored.certificate',\n    defaultMessage: 'Once your proctored exam passes review, this name will appear on your certificates and public-facing records. Full name cannot be changed at this time.',\n    description: 'Help text for the account settings full name field when a full name has been submitted and will appear on certificates.',\n  },\n  'account.settings.field.name.verified.success.message': {\n    id: 'account.settings.field.name.verified.success.message',\n    defaultMessage: 'Your identity verification request has successfully completed. You now have the option of selecting which name you prefer to appear on your certificates and public-records.',\n    description: 'The body of the success alert indicating that a user\\'s name has been verified',\n  },\n  'account.settings.field.name.verified.success.message.header': {\n    id: 'account.settings.field.name.verified.success.message.header',\n    defaultMessage: 'Your name change request is complete!',\n    description: 'The header of the success alert indicating that a user\\'s name has been verified',\n  },\n  'account.settings.field.name.verified.failure.message': {\n    id: 'account.settings.field.name.verified.failure.message',\n    defaultMessage: 'Your most recent identity verification attempt did not pass. Related account settings have been restored.',\n    description: 'The body of the failure alert indicating that a user\\'s name was not able to be verified',\n  },\n  'account.settings.field.name.verified.failure.message.header': {\n    id: 'account.settings.field.name.verified.failure.message.header',\n    defaultMessage: 'We were not able to verify your identity.',\n    description: 'The header of the failure alert indicating that a user\\'s name was not able to be verified',\n  },\n  'account.settings.field.name.verified.failure.message.help.link': {\n    id: 'account.settings.field.name.verified.failure.message.help.link',\n    defaultMessage: 'Learn more about ID verification',\n    description: 'The text of the button displayed when a user\\'s name was not able to be verified, intended to direct the user to a help article about ID verification.',\n  },\n  'account.settings.field.name.verified.submitted.message': {\n    id: 'account.settings.field.name.verified.submitted.message',\n    defaultMessage: 'Your identity verification request has been submitted and usually takes between 24 and 48 hours to complete.',\n    description: 'The body of the submitted alert indicating that a user\\'s name has been submitted for verification',\n  },\n  'account.settings.field.name.verified.submitted.message.certificate': {\n    id: 'account.settings.field.name.verified.submitted.message.certificate',\n    defaultMessage: 'When your request is approved, your updated name will appear on all associated certificates and public-facing records.',\n    description: 'The body of the submitted alert indicating that a user\\'s name will be updated on certificates.',\n  },\n  'account.settings.field.name.verified.submitted.message.header': {\n    id: 'account.settings.field.name.verified.submitted.message.header',\n    defaultMessage: 'Your name change request is almost complete!',\n    description: 'The header of the submitted alert indicating that a user\\'s name has been submitted for verification',\n  },\n  'account.settings.field.email': {\n    id: 'account.settings.field.email',\n    defaultMessage: 'Email address (Sign in)',\n    description: 'Label for account settings email field.',\n  },\n  'account.settings.field.email.empty': {\n    id: 'account.settings.field.email.empty',\n    defaultMessage: 'Add email address',\n    description: 'Placeholder for empty account settings email field.',\n  },\n  'account.settings.field.email.confirmation': {\n    id: 'account.settings.field.email.confirmation',\n    defaultMessage: 'Weve sent a confirmation message to {value}. Click the link in the message to update your email address.',\n    description: 'Confirmation message for saving the account settings email field.',\n  },\n  'account.settings.field.email.help.text': {\n    id: 'account.settings.field.email.help.text',\n    defaultMessage: 'You receive messages from {siteName} and course teams at this address.',\n    description: 'Help text for the account settings email field.',\n  },\n  'account.settings.field.secondary.email': {\n    id: 'account.settings.field.secondary.email',\n    defaultMessage: 'Recovery email address',\n    description: 'Label for account settings recovery email field.',\n  },\n  'account.settings.field.secondary.email.empty': {\n    id: 'account.settings.field.secondary.email.empty',\n    defaultMessage: 'Add a recovery email address',\n    description: 'Placeholder for empty account settings recovery email field.',\n  },\n  'account.settings.field.secondary.email.confirmation': {\n    id: 'account.settings.field.secondary.email.confirmation',\n    defaultMessage: 'Weve sent a confirmation message to {value}. Click the link in the message to update your recovery email address.',\n    description: 'Confirmation message for saving the account settings recovery email field.',\n  },\n  'account.settings.email.field.confirmation.header': {\n    id: 'account.settings.email.field.confirmation.header',\n    defaultMessage: 'One more step!',\n    description: 'The header of the confirmation alert saying we\\'ve sent a confirmation email',\n  },\n  'account.settings.field.dob': {\n    id: 'account.settings.field.dob',\n    defaultMessage: 'Year of birth',\n    description: 'Label for account settings year of birth field.',\n  },\n  'account.settings.field.dob.empty': {\n    id: 'account.settings.field.dob.empty',\n    defaultMessage: 'Add year of birth',\n    description: 'Placeholder for empty account settings year of birth field.',\n  },\n  'account.settings.field.year_of_birth.options.empty': {\n    id: 'account.settings.field.year_of_birth.options.empty',\n    defaultMessage: 'Select a year of birth',\n    description: 'Option for empty value on account settings year of birth field.',\n  },\n  'account.settings.field.dob.month': {\n    id: 'account.settings.field.dob.month',\n    defaultMessage: 'Month',\n    description: 'Label for account settings month of birth field.',\n  },\n  'account.settings.field.dob.year': {\n    id: 'account.settings.field.dob.year',\n    defaultMessage: 'Year',\n    description: 'Label for account settings year of birth field.',\n  },\n  'account.settings.field.dob.month.default': {\n    id: 'account.settings.field.month.year.default',\n    defaultMessage: 'Select month',\n    description: 'Default label for account settings month of birth field.',\n  },\n  'account.settings.field.dob.year.default': {\n    id: 'account.settings.field.dob.year.default',\n    defaultMessage: 'Select year',\n    description: 'Default label for account settings year of birth field.',\n  },\n  'account.settings.field.dob.form.button': {\n    id: 'account.settings.field.dob.form.button',\n    defaultMessage: 'Please confirm your date of birth',\n    description: 'Message to prompt user to enter dob',\n  },\n  'account.settings.field.dob.form.title': {\n    id: 'account.settings.field.dob.form.title',\n    defaultMessage: 'Enter your birth month and year',\n    description: 'Title of DOB form',\n  },\n  'account.settings.field.dob.form.help.text': {\n    id: 'account.settings.field.dob.form.help.text',\n    defaultMessage: 'We ask for birth month and year information to help us comply with our legal obligations.',\n    description: 'Help text for DOB form',\n  },\n  'account.settings.field.dob.form.success': {\n    id: 'account.settings.field.dob.form.success',\n    defaultMessage: 'Thank you for entering your information.',\n    description: 'Title of banner when date of birth is successfully entered',\n  },\n  'account.settings.field.month_of_birth.options.empty': {\n    id: 'account.settings.field.month_of_birth.options.empty',\n    defaultMessage: 'Select a month of birth',\n    description: 'Option for empty value on account settings month of birth field.',\n  },\n  'account.settingsfield.dob.error.general': {\n    id: 'account.settingsfield.dob.error.general',\n    defaultMessage: 'A technical error occurred. Please try again.',\n    description: 'Generic error message.',\n  },\n  'account.settings.field.country': {\n    id: 'account.settings.field.country',\n    defaultMessage: 'Country',\n    description: 'Label for account settings country field.',\n  },\n  'account.settings.field.country.empty': {\n    id: 'account.settings.field.country.empty',\n    defaultMessage: 'Add country',\n    description: 'Placeholder for empty account settings country field.',\n  },\n  'account.settings.field.country.options.empty': {\n    id: 'account.settings.field.country.options.empty',\n    defaultMessage: 'Select a Country',\n    description: 'Option for empty value on account settings country field.',\n  },\n  'account.settings.field.state': {\n    id: 'account.settings.field.state',\n    defaultMessage: 'State',\n    description: 'Label for account settings state field.',\n  },\n  'account.settings.field.state.empty': {\n    id: 'account.settings.field.state.empty',\n    defaultMessage: 'Add state',\n    description: 'Placeholder for empty account settings state field.',\n  },\n  'account.settings.field.state.options.empty': {\n    id: 'account.settings.field.state.options.empty',\n    defaultMessage: 'Select a State',\n    description: 'Option for empty value on account settings state field.',\n  },\n  'account.settings.field.site.language': {\n    id: 'account.settings.field.site.language',\n    defaultMessage: 'Site language',\n    description: 'Label for account settings site language field.',\n  },\n  'account.settings.field.site.language.help.text': {\n    id: 'account.settings.field.site.language.help.text',\n    defaultMessage: 'The language used throughout this site. This site is currently available in a limited number of languages.',\n    description: 'Help text for the site language field.',\n  },\n  'account.settings.field.education': {\n    id: 'account.settings.field.education',\n    defaultMessage: 'Education',\n    description: 'Label for account settings education field.',\n  },\n  'account.settings.field.education.empty': {\n    id: 'account.settings.field.education.empty',\n    defaultMessage: 'Add level of education',\n    description: 'Placeholder for empty account settings education field.',\n  },\n  'account.settings.field.education.levels.empty': {\n    id: 'account.settings.field.education.levels.empty',\n    defaultMessage: 'Select a level of education',\n    description: 'Placeholder for the education levels dropdown.',\n  },\n  'account.settings.field.education.levels.p': {\n    id: 'account.settings.field.education.levels.p',\n    defaultMessage: 'Doctorate',\n    description: 'Selected by the user if their highest level of education is a doctorate degree.',\n  },\n  'account.settings.field.education.levels.m': {\n    id: 'account.settings.field.education.levels.m',\n    defaultMessage: \"Master's or professional degree\",\n    description: \"Selected by the user if their highest level of education is a master's or professional degree from a college or university.\",\n  },\n  'account.settings.field.education.levels.b': {\n    id: 'account.settings.field.education.levels.b',\n    defaultMessage: \"Bachelor's Degree\",\n    description: \"Selected by the user if their highest level of education is a four year college or university bachelor's degree.\",\n  },\n  'account.settings.field.education.levels.a': {\n    id: 'account.settings.field.education.levels.a',\n    defaultMessage: \"Associate's degree\",\n    description: \"Selected by the user if their highest level of education is an associate's degree. 1-2 years of college or university.\",\n  },\n  'account.settings.field.education.levels.hs': {\n    id: 'account.settings.field.education.levels.hs',\n    defaultMessage: 'Secondary/high school',\n    description: 'Selected by the user if their highest level of education is secondary or high school.  9-12 years of education.',\n  },\n  'account.settings.field.education.levels.jhs': {\n    id: 'account.settings.field.education.levels.jhs',\n    defaultMessage: 'Junior secondary/junior high/middle school',\n    description: 'Selected by the user if their highest level of education is junior or middle school. 6-8 years of education.',\n  },\n  'account.settings.field.education.levels.el': {\n    id: 'account.settings.field.education.levels.el',\n    defaultMessage: 'Elementary/primary school',\n    description: 'Selected by the user if their highest level of education is elementary or primary school.  1-5 years of education.',\n  },\n  'account.settings.field.education.levels.none': {\n    id: 'account.settings.field.education.levels.none',\n    defaultMessage: 'No formal education',\n    description: 'Selected by the user to describe their education.',\n  },\n  'account.settings.field.education.levels.other': {\n    id: 'account.settings.field.education.levels.other',\n    defaultMessage: 'Other education',\n    description: 'Selected by the user if they have a type of education not described by the other choices.',\n  },\n\n  'account.settings.field.gender': {\n    id: 'account.settings.field.gender',\n    defaultMessage: 'Gender',\n    description: 'Label for account settings gender field.',\n  },\n  'account.settings.field.gender.empty': {\n    id: 'account.settings.field.gender.empty',\n    defaultMessage: 'Add gender',\n    description: 'Placeholder for empty account settings gender field.',\n  },\n  'account.settings.field.gender.options.empty': {\n    id: 'account.settings.field.gender.options.empty',\n    defaultMessage: 'Select a gender',\n    description: 'Placeholder for the gender options dropdown.',\n  },\n  'account.settings.field.gender.options.f': {\n    id: 'account.settings.field.gender.options.f',\n    defaultMessage: 'Female',\n    description: 'The label for the female gender option.',\n  },\n  'account.settings.field.gender.options.m': {\n    id: 'account.settings.field.gender.options.m',\n    defaultMessage: 'Male',\n    description: 'The label for the male gender option.',\n  },\n  'account.settings.field.gender.options.o': {\n    id: 'account.settings.field.gender.options.o',\n    defaultMessage: 'Other',\n    description: 'The label for catch-all gender option.',\n  },\n  'account.settings.field.language.proficiencies': {\n    id: 'account.settings.field.language.proficiencies',\n    defaultMessage: 'Spoken language',\n    description: 'Label for account settings spoken language field.',\n  },\n  'account.settings.field.language.proficiencies.empty': {\n    id: 'account.settings.field.language.proficiencies.empty',\n    defaultMessage: 'Add a spoken language',\n    description: 'Placeholder for empty account settings spoken language field.',\n  },\n  'account.settings.field.language_proficiencies.options.empty': {\n    id: 'account.settings.field.language_proficiencies.options.empty',\n    defaultMessage: 'Select a Language',\n    description: 'Option for an empty value on account settings spoken language field.',\n  },\n\n  'account.settings.field.time.zone': {\n    id: 'account.settings.field.time.zone',\n    defaultMessage: 'Time zone',\n    description: 'Label for time zone settings field.',\n  },\n  'account.settings.field.time.zone.empty': {\n    id: 'account.settings.field.time.zone.empty',\n    defaultMessage: 'Set time zone',\n    description: 'Placeholder for empty for time zone settings field.',\n  },\n  'account.settings.field.time.zone.description': {\n    id: 'account.settings.field.time.zone.description',\n    defaultMessage: 'Select the time zone for displaying course dates. If you do not specify a time zone, course dates, including assignment deadlines, will be displayed in your browsers local time zone.',\n    description: 'Description for time zone settings field.',\n  },\n  'account.settings.field.time.zone.default': {\n    id: 'account.settings.field.time.zone.default',\n    defaultMessage: 'Default (Local Time Zone)',\n    description: 'The default option for a time zone.',\n  },\n  'account.settings.field.time.zone.all': {\n    id: 'account.settings.field.time.zone.all',\n    defaultMessage: 'All time zones',\n    description: 'The label for the group of options for all time zones.',\n  },\n  'account.settings.field.time.zone.country': {\n    id: 'account.settings.field.time.zone.country',\n    defaultMessage: 'Country time zones',\n    description: 'The group of time zone options for a country.',\n  },\n\n  'account.settings.section.social.media': {\n    id: 'account.settings.section.social.media',\n    defaultMessage: 'Social Media Links',\n    description: 'Section header for social media links settings',\n  },\n  'account.settings.section.social.media.description': {\n    id: 'account.settings.section.social.media.description',\n    defaultMessage: 'Optionally, link your personal accounts to the social media icons on your {siteName} profile.',\n    description: 'Section subheader for social media links settings',\n  },\n  'account.settings.field.social.platform.name.linkedin': {\n    id: 'account.settings.field.social.platform.name.linkedin',\n    defaultMessage: 'LinkedIn',\n    description: 'Label for LinkedIn',\n  },\n  'account.settings.field.social.platform.name.linkedin.empty': {\n    id: 'account.settings.field.social.platform.name.linkedin.empty',\n    defaultMessage: 'Add LinkedIn profile',\n    description: 'Placeholder for an empty LinkedIn field',\n  },\n  'account.settings.jump.nav.delete.account': {\n    id: 'account.settings.jump.nav.delete.account',\n    defaultMessage: 'Delete My Account',\n    description: 'Header for the user account deletion area',\n  },\n  'account.settings.field.social.platform.name.twitter': {\n    id: 'account.settings.field.social.platform.name.twitter',\n    defaultMessage: 'Twitter',\n    description: 'Label for Twitter',\n  },\n  'account.settings.field.social.platform.name.twitter.empty': {\n    id: 'account.settings.field.social.platform.name.twitter.empty',\n    defaultMessage: 'Add Twitter profile',\n    description: 'Placeholder for an empty Twitter field',\n  },\n\n  'account.settings.field.social.platform.name.facebook': {\n    id: 'account.settings.field.social.platform.name.facebook',\n    defaultMessage: 'Facebook',\n    description: 'Label for Facebook',\n  },\n  'account.settings.field.social.platform.name.facebook.empty': {\n    id: 'account.settings.field.social.platform.name.facebook.empty',\n    defaultMessage: 'Add Facebook profile',\n    description: 'Placeholder for an empty Facebook field',\n  },\n  'account.settings.editable.field.action.save': {\n    id: 'account.settings.editable.field.action.save',\n    defaultMessage: 'Save',\n    description: 'The save button on an editable field',\n  },\n  'account.settings.editable.field.action.cancel': {\n    id: 'account.settings.editable.field.action.cancel',\n    defaultMessage: 'Cancel',\n    description: 'The cancel button on an editable field',\n  },\n  'account.settings.editable.field.action.edit': {\n    id: 'account.settings.editable.field.action.edit',\n    defaultMessage: 'Edit',\n    description: 'The edit button on an editable field',\n  },\n  'account.settings.static.field.empty': {\n    id: 'account.settings.static.field.empty',\n    defaultMessage: 'No value set. Contact your {enterprise} administrator to make changes.',\n    description: 'The placeholder for an empty but uneditable field',\n  },\n  'account.settings.static.field.empty.no.admin': {\n    id: 'account.settings.static.field.empty.no.admin',\n    defaultMessage: 'No value set.',\n    description: 'The placeholder for an empty but uneditable field when there is no administrator',\n  },\n  'notification.preferences.notifications.label': {\n    id: 'notification.preferences.notifications.label',\n    defaultMessage: 'Notifications',\n    description: 'Label for Notifications',\n  },\n});\n\nexport default messages;\n","/**\n * Helper class to save time when writing out action types for asynchronous methods.  Also helps\n * ensure that actions are namespaced.\n */\nexport class AsyncActionType {\n  constructor(topic, name) {\n    this.topic = topic;\n    this.name = name;\n  }\n\n  get BASE() {\n    return `${this.topic}__${this.name}`;\n  }\n\n  get BEGIN() {\n    return `${this.topic}__${this.name}__BEGIN`;\n  }\n\n  get SUCCESS() {\n    return `${this.topic}__${this.name}__SUCCESS`;\n  }\n\n  get FAILURE() {\n    return `${this.topic}__${this.name}__FAILURE`;\n  }\n\n  get RESET() {\n    return `${this.topic}__${this.name}__RESET`;\n  }\n\n  get FORBIDDEN() {\n    return `${this.topic}__${this.name}__FORBIDDEN`;\n  }\n}\n\n/**\n * Given a state tree and an array representing a set of keys to traverse in that tree, returns\n * the portion of the tree at that key path.\n *\n * Example:\n *\n * const result = getModuleState(\n *   {\n *     first: { red: { awesome: 'sauce' }, blue: { weak: 'sauce' } },\n *     second: { other: 'data', }\n *   },\n *   ['first', 'red']\n * );\n *\n * result will be:\n *\n * {\n *   awesome: 'sauce'\n * }\n */\nexport function getModuleState(state, originalPath) {\n  const path = [...originalPath]; // don't modify your argument\n  if (path.length < 1) {\n    return state;\n  }\n  const key = path.shift();\n  if (state[key] === undefined) {\n    throw new Error(`Unexpected state key ${key} given to getModuleState. Is your state path set up correctly?`);\n  }\n  return getModuleState(state[key], path);\n}\n","import { put } from 'redux-saga/effects';\nimport { logError } from '@edx/frontend-platform/logging';\n\nexport default function* handleFailure(error, navigate, failureAction = null, failureRedirectPath = null) {\n  if (error.fieldErrors && failureAction !== null) {\n    yield put(failureAction({ fieldErrors: error.fieldErrors }));\n  }\n  logError(error);\n  if (failureAction !== null) {\n    yield put(failureAction(error.message));\n  }\n  if (failureRedirectPath !== null) {\n    navigate(failureRedirectPath);\n  }\n}\n","/**\n * Turns field errors of the form:\n *\n * {\n *   \"name\":{\n *     \"developer_message\": \"Nerdy message here\",\n *     \"user_message\": \"This value is invalid.\"\n *   },\n *   \"other_field\": {\n *     \"developer_message\": \"Other Nerdy message here\",\n *     \"user_message\": \"This other value is invalid.\"\n *   }\n * }\n *\n * Into:\n *\n * {\n *   \"name\": \"This value is invalid.\",\n *   \"other_field\": \"This other value is invalid\"\n * }\n */\nexport function unpackFieldErrors(fieldErrors) {\n  return Object.entries(fieldErrors).reduce((acc, [k, v]) => {\n    acc[k] = v.user_message;\n    return acc;\n  }, {});\n}\n\n/**\n * Processes and re-throws request errors.  If the response contains a field_errors field, will\n * massage the data into a form expected by the client.\n *\n * Field errors will be packaged as an api error with a fieldErrors field usable by the client.\n * Takes an optional unpack function which is used to process the field errors,\n * otherwise uses the default unpackFieldErrors function.\n *\n * @param error The original error object.\n * @param unpackFunction (Optional) A function to use to unpack the field errors as a replacement\n * for the default.\n */\nexport function handleRequestError(error, unpackFunction = unpackFieldErrors) {\n  if (error.response && error.response.data.field_errors) {\n    const apiError = Object.create(error);\n    apiError.fieldErrors = unpackFunction(error.response.data.field_errors);\n    throw apiError;\n  }\n  throw error;\n}\n","import { AsyncActionType } from './utils';\n\nexport const FETCH_SETTINGS = new AsyncActionType('ACCOUNT_SETTINGS', 'FETCH_SETTINGS');\nexport const SAVE_SETTINGS = new AsyncActionType('ACCOUNT_SETTINGS', 'SAVE_SETTINGS');\nexport const SAVE_MULTIPLE_SETTINGS = new AsyncActionType('ACCOUNT_SETTINGS', 'SAVE_MULTIPLE_SETTINGS');\nexport const FETCH_TIME_ZONES = new AsyncActionType('ACCOUNT_SETTINGS', 'FETCH_TIME_ZONES');\nexport const SAVE_PREVIOUS_SITE_LANGUAGE = 'SAVE_PREVIOUS_SITE_LANGUAGE';\nexport const OPEN_FORM = 'OPEN_FORM';\nexport const CLOSE_FORM = 'CLOSE_FORM';\nexport const UPDATE_DRAFT = 'UPDATE_DRAFT';\nexport const RESET_DRAFTS = 'RESET_DRAFTS';\nexport const BEGIN_NAME_CHANGE = 'BEGIN_NAME_CHANGE';\n\n// FETCH SETTINGS ACTIONS\n\nexport const fetchSettings = () => ({\n  type: FETCH_SETTINGS.BASE,\n});\n\nexport const fetchSettingsBegin = () => ({\n  type: FETCH_SETTINGS.BEGIN,\n});\n\nexport const fetchSettingsSuccess = ({\n  values,\n  thirdPartyAuthProviders,\n  profileDataManager,\n  timeZones,\n  verifiedNameHistory,\n}) => ({\n  type: FETCH_SETTINGS.SUCCESS,\n  payload: {\n    values,\n    thirdPartyAuthProviders,\n    profileDataManager,\n    timeZones,\n    verifiedNameHistory,\n  },\n});\n\nexport const fetchSettingsFailure = error => ({\n  type: FETCH_SETTINGS.FAILURE,\n  payload: { error },\n});\n\nexport const fetchSettingsReset = () => ({\n  type: FETCH_SETTINGS.RESET,\n});\n\n// FORM STATE ACTIONS\n\nexport const openForm = formId => ({\n  type: OPEN_FORM,\n  payload: { formId },\n});\n\nexport const closeForm = formId => ({\n  type: CLOSE_FORM,\n  payload: { formId },\n});\n\nexport const updateDraft = (name, value) => ({\n  type: UPDATE_DRAFT,\n  payload: {\n    name,\n    value,\n  },\n});\n\nexport const resetDrafts = () => ({\n  type: RESET_DRAFTS,\n});\n\nexport const beginNameChange = (formId) => ({\n  type: BEGIN_NAME_CHANGE,\n  payload: { formId },\n});\n// SAVE SETTINGS ACTIONS\n\nexport const saveSettings = (formId, commitValues) => ({\n  type: SAVE_SETTINGS.BASE,\n  payload: { formId, commitValues },\n});\n\nexport const saveSettingsBegin = () => ({\n  type: SAVE_SETTINGS.BEGIN,\n});\n\nexport const saveSettingsSuccess = (values, confirmationValues) => ({\n  type: SAVE_SETTINGS.SUCCESS,\n  payload: { values, confirmationValues },\n});\n\nexport const saveSettingsReset = () => ({\n  type: SAVE_SETTINGS.RESET,\n});\n\nexport const saveSettingsFailure = ({ fieldErrors, message }) => ({\n  type: SAVE_SETTINGS.FAILURE,\n  payload: { errors: fieldErrors, message },\n});\n\nexport const savePreviousSiteLanguage = previousSiteLanguage => ({\n  type: SAVE_PREVIOUS_SITE_LANGUAGE,\n  payload: { previousSiteLanguage },\n});\n\nexport const saveMultipleSettings = (settingsArray, form = null) => ({\n  type: SAVE_MULTIPLE_SETTINGS.BASE,\n  payload: { settingsArray, form },\n});\n\nexport const saveMultipleSettingsBegin = () => ({\n  type: SAVE_MULTIPLE_SETTINGS.BEGIN,\n});\n\nexport const saveMultipleSettingsSuccess = settingsArray => ({\n  type: SAVE_MULTIPLE_SETTINGS.SUCCESS,\n  payload: { settingsArray },\n});\n\nexport const saveMultipleSettingsFailure = ({ fieldErrors, message }) => ({\n  type: SAVE_MULTIPLE_SETTINGS.FAILURE,\n  payload: { errors: fieldErrors, message },\n});\n\n// FETCH TIME_ZONE ACTIONS\n\nexport const fetchTimeZones = country => ({\n  type: FETCH_TIME_ZONES.BASE,\n  payload: { country },\n});\n\nexport const fetchTimeZonesSuccess = timeZones => ({\n  type: FETCH_TIME_ZONES.SUCCESS,\n  payload: { timeZones },\n});\n","import { AsyncActionType } from '../data/utils';\n\nexport const FETCH_SITE_LANGUAGES = new AsyncActionType('SITE_LANGUAGE', 'FETCH_SITE_LANGUAGES');\n\nexport const fetchSiteLanguages = handleNavigation => ({\n  type: FETCH_SITE_LANGUAGES.BASE,\n  payload: { handleNavigation },\n});\n\nexport const fetchSiteLanguagesBegin = () => ({\n  type: FETCH_SITE_LANGUAGES.BEGIN,\n});\n\nexport const fetchSiteLanguagesSuccess = siteLanguageList => ({\n  type: FETCH_SITE_LANGUAGES.SUCCESS,\n  payload: { siteLanguageList },\n});\n\nexport const fetchSiteLanguagesFailure = error => ({\n  type: FETCH_SITE_LANGUAGES.FAILURE,\n  payload: { error },\n});\n\nexport const fetchSiteLanguagesReset = () => ({\n  type: FETCH_SITE_LANGUAGES.RESET,\n});\n","import { FETCH_SITE_LANGUAGES } from './actions';\n\nexport const defaultState = {\n  loading: false,\n  loaded: false,\n  loadingError: null,\n  siteLanguageList: [],\n};\n\nconst reducer = (state = defaultState, action = null) => {\n  if (action !== null) {\n    switch (action.type) {\n      case FETCH_SITE_LANGUAGES.BEGIN:\n        return {\n          ...state,\n          loading: true,\n          loaded: false,\n          loadingError: null,\n        };\n      case FETCH_SITE_LANGUAGES.SUCCESS:\n        return {\n          ...state,\n          siteLanguageList: action.payload.siteLanguageList,\n          loading: false,\n          loaded: true,\n          loadingError: null,\n        };\n      case FETCH_SITE_LANGUAGES.FAILURE:\n        return {\n          ...state,\n          loading: false,\n          loaded: false,\n          loadingError: action.payload.error,\n        };\n      case FETCH_SITE_LANGUAGES.RESET:\n        return {\n          ...state,\n          loading: false,\n          loaded: false,\n          loadingError: null,\n        };\n      default:\n    }\n  }\n  return state;\n};\n\nexport default reducer;\n","const siteLanguageList = [\n  {\n    code: 'en',\n    name: 'English',\n    released: true,\n  },\n  {\n    code: 'ar',\n    name: '',\n    released: true,\n  },\n  {\n    code: 'ca',\n    name: 'Catal',\n    released: false,\n  },\n  {\n    code: 'es-419',\n    name: 'Espaol (Latinoamrica)',\n    released: true,\n  },\n  {\n    code: 'fa-ir',\n    name: '',\n    released: true,\n  },\n  {\n    code: 'fr',\n    name: 'Franais',\n    released: true,\n  },\n  {\n    code: 'he',\n    name: '',\n    released: false,\n  },\n  {\n    code: 'id',\n    name: 'Bahasa Indonesia',\n    released: false,\n  },\n  {\n    code: 'ko-kr',\n    name: ' ()',\n    released: false,\n  },\n  {\n    code: 'pl',\n    name: 'Polski',\n    released: false,\n  },\n  {\n    code: 'pt-br',\n    name: 'Portugus (Brasil)',\n    released: false,\n  },\n  {\n    code: 'ru',\n    name: '',\n    released: false,\n  },\n  {\n    code: 'th',\n    name: '',\n    released: false,\n  },\n  {\n    code: 'uk',\n    name: '',\n    released: false,\n  },\n  {\n    code: 'zh-cn',\n    name: ' ()',\n    released: true,\n  },\n  {\n    code: 'pt',\n    name: 'Portugus',\n    released: true,\n  },\n  {\n    code: 'it',\n    name: 'Italian',\n    released: true,\n  },\n  {\n    code: 'de',\n    name: 'German',\n    released: true,\n  },\n  {\n    code: 'hi',\n    name: 'Hindi',\n    released: true,\n  },\n  {\n    code: 'fr-ca',\n    name: 'French (CA)',\n    released: true,\n  },\n];\n\nexport default siteLanguageList;\n","import { getConfig } from '@edx/frontend-platform';\nimport { getAuthenticatedHttpClient } from '@edx/frontend-platform/auth';\nimport { convertKeyNames, snakeCaseObject } from '@edx/frontend-platform/utils';\nimport siteLanguageList from './constants';\n\nexport async function getSiteLanguageList() {\n  return siteLanguageList;\n}\n\nexport async function patchPreferences(username, params) {\n  let processedParams = snakeCaseObject(params);\n  processedParams = convertKeyNames(processedParams, {\n    pref_lang: 'pref-lang',\n  });\n\n  await getAuthenticatedHttpClient()\n    .patch(`${getConfig().LMS_BASE_URL}/api/user/v1/preferences/${username}`, processedParams, {\n      headers: { 'Content-Type': 'application/merge-patch+json' },\n    });\n\n  return params; // TODO: Once the server returns the updated preferences object, return that.\n}\n\nexport async function postSetLang(code) {\n  const formData = new FormData();\n  formData.append('language', code);\n\n  await getAuthenticatedHttpClient()\n    .post(`${getConfig().LMS_BASE_URL}/i18n/setlang/`, formData, {\n      headers: { 'X-Requested-With': 'XMLHttpRequest' },\n    });\n}\n","import { call, put, takeEvery } from 'redux-saga/effects';\n\nimport {\n  fetchSiteLanguagesBegin,\n  fetchSiteLanguagesSuccess,\n  fetchSiteLanguagesFailure,\n  FETCH_SITE_LANGUAGES,\n} from './actions';\n\nimport { getSiteLanguageList } from './service';\nimport { handleFailure } from '../data/utils';\n\nfunction* handleFetchSiteLanguages(action) {\n  try {\n    yield put(fetchSiteLanguagesBegin());\n    const siteLanguageList = yield call(getSiteLanguageList);\n    yield put(fetchSiteLanguagesSuccess(siteLanguageList));\n  } catch (e) {\n    yield call(handleFailure, e, action.payload.handleNavigation, fetchSiteLanguagesFailure);\n  }\n}\n\nexport default function* saga() {\n  yield takeEvery(FETCH_SITE_LANGUAGES.BASE, handleFetchSiteLanguages);\n}\n","import { createSelector } from 'reselect';\nimport { getModuleState } from '../data/utils';\n\nexport const storePath = ['accountSettings', 'siteLanguage'];\n\nconst siteLanguageSelector = state => getModuleState(state, storePath);\n\nexport const siteLanguageListSelector = createSelector(\n  siteLanguageSelector,\n  siteLanguage => siteLanguage.siteLanguageList,\n);\n\nexport const siteLanguageOptionsSelector = createSelector(\n  siteLanguageSelector,\n  siteLanguage => siteLanguage.siteLanguageList.map(({ code, name }) => ({\n    value: code,\n    label: name,\n  })),\n);\n","/**\n * Compare two dates.\n * @param {*} a the first date\n * @param {*} b the second date\n * @returns a negative integer if a > b, a positive integer if a < b, or 0 if a = b\n */\nexport function compareVerifiedNamesByCreatedDate(a, b) {\n  const aTimeSinceEpoch = new Date(a.created).getTime();\n  const bTimeSinceEpoch = new Date(b.created).getTime();\n  return bTimeSinceEpoch - aTimeSinceEpoch;\n}\n\n/**\n *\n * @param {*} verifiedNames a list of verified name objects, where each object has at least the\n *                          following keys: created, status, and verified_name.\n * @returns the most recent verified name object from the list parameter with the 'pending' or\n *          'accepted' status, if one exists; otherwise, null\n */\nexport function getMostRecentApprovedOrPendingVerifiedName(verifiedNames) {\n  // clone array so as not to modify original array\n  const names = [...verifiedNames];\n\n  if (Array.isArray(names)) {\n    names.sort(compareVerifiedNamesByCreatedDate);\n  }\n\n  // We only want to consider a subset of verified names when determining the value of nameOnAccount.\n  // approved: consider this status, as the name has been verified by IDV and should supersede the full name\n  //           (profile name).\n  // pending: consider this status, as the learner has started the name change process through the\n  //          Account Settings page, and has been navigated to IDV to complete the name change process.\n  // submitted: do not consider this status, as the name has already been submitted for verification through\n  //            IDV but has not yet been verified\n  // denied: do not consider this status because the name was already denied via the IDV process\n  const applicableNames = names.filter(name => ['approved', 'pending'].includes(name.status));\n  const applicableName = applicableNames.length > 0 ? applicableNames[0].verified_name : null;\n\n  return applicableName;\n}\n","import { createSelector, createStructuredSelector } from 'reselect';\nimport { siteLanguageListSelector, siteLanguageOptionsSelector } from '../site-language';\nimport { compareVerifiedNamesByCreatedDate } from '../../utils';\n\nexport const storeName = 'accountSettings';\n\nexport const accountSettingsSelector = state => ({ ...state[storeName] });\n\nconst editableFieldNameSelector = (state, props) => props.name;\n\nconst verifiedNameSettingsSelector = createSelector(\n  accountSettingsSelector,\n  accountSettings => ({\n    history: accountSettings.verifiedNameHistory.results,\n    useVerifiedNameForCerts: accountSettings?.verifiedNameHistory.use_verified_name_for_certs,\n  }),\n);\n\nconst sortedVerifiedNameHistorySelector = createSelector(\n  verifiedNameSettingsSelector,\n  verifiedNameSettings => {\n    const { history } = verifiedNameSettings;\n\n    if (Array.isArray(history)) {\n      return history.sort(compareVerifiedNamesByCreatedDate);\n    }\n\n    return [];\n  },\n);\n\nconst mostRecentVerifiedNameSelector = createSelector(\n  sortedVerifiedNameHistorySelector,\n  sortedHistory => (sortedHistory.length > 0 ? sortedHistory[0] : null),\n);\n\nconst mostRecentApprovedVerifiedNameValueSelector = createSelector(\n  sortedVerifiedNameHistorySelector,\n  mostRecentVerifiedNameSelector,\n  (sortedHistory, mostRecentVerifiedName) => {\n    const approvedVerifiedNames = sortedHistory.filter(name => name.status === 'approved');\n    const approvedVerifiedName = approvedVerifiedNames.length > 0 ? approvedVerifiedNames[0] : null;\n\n    let verifiedName = null;\n    switch (mostRecentVerifiedName && mostRecentVerifiedName.status) {\n      case 'approved':\n      case 'denied':\n      case 'pending':\n        verifiedName = approvedVerifiedName;\n        break;\n      case 'submitted':\n        verifiedName = mostRecentVerifiedName;\n        break;\n      default:\n        verifiedName = null;\n    }\n    return verifiedName;\n  },\n);\n\nconst valuesSelector = createSelector(\n  accountSettingsSelector,\n  mostRecentApprovedVerifiedNameValueSelector,\n  (accountSettings, mostRecentApprovedVerifiedNameValue) => {\n    let useVerifiedNameForCerts = (\n      accountSettings.verifiedNameHistory?.use_verified_name_for_certs || false\n    );\n\n    if (Object.keys(accountSettings.confirmationValues).includes('useVerifiedNameForCerts')) {\n      useVerifiedNameForCerts = accountSettings.confirmationValues.useVerifiedNameForCerts;\n    }\n\n    return {\n      ...accountSettings.values,\n      verified_name: mostRecentApprovedVerifiedNameValue?.verified_name,\n      useVerifiedNameForCerts,\n    };\n  },\n);\n\nconst draftsSelector = createSelector(\n  accountSettingsSelector,\n  accountSettings => accountSettings.drafts,\n);\n\nconst previousSiteLanguageSelector = createSelector(\n  accountSettingsSelector,\n  accountSettings => accountSettings.previousSiteLanguage,\n);\n\nconst editableFieldErrorSelector = createSelector(\n  editableFieldNameSelector,\n  accountSettingsSelector,\n  (name, accountSettings) => accountSettings.errors[name],\n);\n\nconst editableFieldConfirmationValuesSelector = createSelector(\n  editableFieldNameSelector,\n  accountSettingsSelector,\n  (name, accountSettings) => accountSettings.confirmationValues[name],\n);\n\nconst isEditingSelector = createSelector(\n  editableFieldNameSelector,\n  accountSettingsSelector,\n  (name, accountSettings) => accountSettings.openFormId === name,\n);\n\nconst errorSelector = createSelector(\n  accountSettingsSelector,\n  accountSettings => accountSettings.errors,\n);\n\nconst nameChangeModalSelector = createSelector(\n  accountSettingsSelector,\n  accountSettings => accountSettings.nameChangeModal,\n);\n\nconst saveStateSelector = createSelector(\n  accountSettingsSelector,\n  accountSettings => accountSettings.saveState,\n);\n\nexport const editableFieldSelector = createStructuredSelector({\n  error: editableFieldErrorSelector,\n  confirmationValue: editableFieldConfirmationValuesSelector,\n  saveState: saveStateSelector,\n  isEditing: isEditingSelector,\n});\n\nexport const profileDataManagerSelector = createSelector(\n  accountSettingsSelector,\n  accountSettings => accountSettings.profileDataManager,\n);\n\nexport const staticFieldsSelector = createSelector(\n  accountSettingsSelector,\n  mostRecentVerifiedNameSelector,\n  (accountSettings, verifiedName) => {\n    const staticFields = [];\n    if (accountSettings.profileDataManager) {\n      staticFields.push('name', 'email', 'country');\n    }\n    if (verifiedName && ['submitted'].includes(verifiedName.status)) {\n      staticFields.push('verifiedName');\n    }\n\n    return staticFields;\n  },\n);\n\n/**\n * If there's no draft present at all (undefined), use the original committed value.\n */\nfunction chooseFormValue(draft, committed) {\n  return draft !== undefined ? draft : committed;\n}\n\nconst formValuesSelector = createSelector(\n  valuesSelector,\n  draftsSelector,\n  (values, drafts) => {\n    const formValues = {};\n    Object.entries(values).forEach(([name, value]) => {\n      if (typeof value === 'boolean') {\n        formValues[name] = chooseFormValue(drafts[name], value);\n      } else {\n        formValues[name] = chooseFormValue(drafts[name], value) || '';\n      }\n    });\n    return formValues;\n  },\n);\n\nconst transformTimeZonesToOptions = timeZoneArr => timeZoneArr\n  .map(({ time_zone, description }) => ({ // eslint-disable-line camelcase\n    value: time_zone, label: description, // eslint-disable-line camelcase\n  }));\n\nconst timeZonesSelector = createSelector(\n  accountSettingsSelector,\n  accountSettings => transformTimeZonesToOptions(accountSettings.timeZones),\n);\n\nconst countryTimeZonesSelector = createSelector(\n  accountSettingsSelector,\n  accountSettings => transformTimeZonesToOptions(accountSettings.countryTimeZones),\n);\n\nconst activeAccountSelector = createSelector(\n  accountSettingsSelector,\n  accountSettings => accountSettings.values.is_active,\n);\n\nexport const siteLanguageSelector = createSelector(\n  previousSiteLanguageSelector,\n  draftsSelector,\n  (previousValue, drafts) => ({\n    previousValue,\n    draft: drafts.siteLanguage,\n  }),\n);\n\nexport const betaLanguageBannerSelector = createStructuredSelector({\n  siteLanguageList: siteLanguageListSelector,\n  siteLanguage: siteLanguageSelector,\n});\n\nexport const accountSettingsPageSelector = createSelector(\n  accountSettingsSelector,\n  siteLanguageOptionsSelector,\n  siteLanguageSelector,\n  formValuesSelector,\n  valuesSelector,\n  draftsSelector,\n  errorSelector,\n  profileDataManagerSelector,\n  staticFieldsSelector,\n  timeZonesSelector,\n  countryTimeZonesSelector,\n  activeAccountSelector,\n  nameChangeModalSelector,\n  mostRecentApprovedVerifiedNameValueSelector,\n  mostRecentVerifiedNameSelector,\n  sortedVerifiedNameHistorySelector,\n  (\n    accountSettings,\n    siteLanguageOptions,\n    siteLanguage,\n    formValues,\n    committedValues,\n    drafts,\n    formErrors,\n    profileDataManager,\n    staticFields,\n    timeZoneOptions,\n    countryTimeZoneOptions,\n    activeAccount,\n    nameChangeModal,\n    verifiedName,\n    mostRecentVerifiedName,\n    verifiedNameHistory,\n  ) => ({\n    siteLanguageOptions,\n    siteLanguage,\n    loading: accountSettings.loading,\n    loaded: accountSettings.loaded,\n    loadingError: accountSettings.loadingError,\n    timeZoneOptions,\n    countryTimeZoneOptions,\n    isActive: activeAccount,\n    formValues,\n    committedValues,\n    drafts,\n    formErrors,\n    profileDataManager,\n    staticFields,\n    tpaProviders: accountSettings.thirdPartyAuth.providers,\n    nameChangeModal,\n    verifiedName,\n    mostRecentVerifiedName,\n    verifiedNameHistory,\n  }),\n);\n\nexport const certPreferenceSelector = createSelector(\n  valuesSelector,\n  formValuesSelector,\n  mostRecentApprovedVerifiedNameValueSelector,\n  saveStateSelector,\n  errorSelector,\n  (\n    committedValues,\n    formValues,\n    mostRecentApprovedVerifiedNameValue,\n    saveState,\n    errors,\n  ) => ({\n    originalFullName: committedValues?.name || '',\n    originalVerifiedName: mostRecentApprovedVerifiedNameValue?.verified_name || '',\n    useVerifiedNameForCerts: formValues.useVerifiedNameForCerts || false,\n    saveState,\n    formErrors: errors,\n  }),\n);\n\nexport const demographicsSectionSelector = createSelector(\n  formValuesSelector,\n  draftsSelector,\n  errorSelector,\n  (\n    formValues,\n    drafts,\n    errors,\n  ) => ({\n    formValues,\n    drafts,\n    formErrors: errors,\n  }),\n);\n\nexport const nameChangeSelector = createSelector(\n  accountSettingsSelector,\n  formValuesSelector,\n  (accountSettings, formValues) => ({\n    ...accountSettings.nameChange,\n    formValues,\n  }),\n);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class PageLoading extends Component {\n  renderSrMessage() {\n    if (!this.props.srMessage) {\n      return null;\n    }\n\n    return (\n      <span className=\"sr-only\">\n        {this.props.srMessage}\n      </span>\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <div\n          className=\"d-flex justify-content-center align-items-center flex-column\"\n          style={{\n            height: '50vh',\n          }}\n        >\n          <div className=\"spinner-border text-primary\" role=\"status\">\n            {this.renderSrMessage()}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPageLoading.propTypes = {\n  srMessage: PropTypes.string.isRequired,\n};\n","export const selectNotificationPreferencesStatus = () => state => (\n  state.notificationPreferences.preferences.status\n);\n\nexport const selectPreferences = () => state => (\n  state.notificationPreferences.preferences?.preferences\n);\n\nexport const selectCourseListStatus = () => state => (\n  state.notificationPreferences.courses.status\n);\n\nexport const selectCourseList = () => state => (\n  state.notificationPreferences.courses.courses\n);\n\nexport const selectCourse = courseId => state => (\n  selectCourseList()(state).find(\n    course => course.id === courseId,\n  )\n);\n\nexport const selectPreferenceAppsId = () => state => (\n  state.notificationPreferences.preferences.apps.map(app => app.id)\n);\n\nexport const selectPreferencesOfApp = appId => state => (\n  selectPreferences()(state).filter(preference => (\n    preference.appId === appId\n  ))\n);\n\nexport const selectPreferenceApp = appId => state => (\n  state.notificationPreferences.preferences.apps.find(app => (\n    app.id === appId\n  ))\n);\n\nexport const selectPreferenceAppToggleValue = appId => state => (\n  selectPreferenceApp(appId)(state).enabled\n);\n\nexport const selectPreference = (appId, name) => state => (\n  selectPreferences()(state).find((preference) => (\n    preference.id === name && preference.appId === appId\n  ))\n);\n\nexport const selectPreferenceNonEditableChannels = (appId, name) => state => (\n  state?.notificationPreferences.preferences.nonEditable[appId]?.[name] || []\n);\n\nexport const selectSelectedCourseId = () => state => (\n  state.notificationPreferences.preferences.selectedCourse\n);\n\nexport const selectPagination = () => state => (\n  state.notificationPreferences.courses.pagination\n);\n\nexport const selectShowPreferences = () => state => (\n  state.notificationPreferences.showPreferences\n);\n","import { getConfig } from '@edx/frontend-platform';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { breakpoints, useWindowSize, Icon } from '@edx/paragon';\nimport { OpenInNew } from '@edx/paragon/icons';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useSelector } from 'react-redux';\nimport { NavHashLink } from 'react-router-hash-link';\nimport Scrollspy from 'react-scrollspy';\nimport { Link } from 'react-router-dom';\nimport messages from './AccountSettingsPage.messages';\nimport { selectShowPreferences } from '../notification-preferences/data/selectors';\n\nconst JumpNav = ({\n  intl,\n  displayDemographicsLink,\n}) => {\n  const stickToTop = useWindowSize().width > breakpoints.small.minWidth;\n  const showPreferences = useSelector(selectShowPreferences());\n\n  return (\n    <div className={classNames('jump-nav px-2.25', { 'jump-nav-sm position-sticky pt-3': stickToTop })}>\n      <Scrollspy\n        items={[\n          'basic-information',\n          'profile-information',\n          'demographics-information',\n          'social-media',\n          'site-preferences',\n          'linked-accounts',\n          'delete-account',\n        ]}\n        className=\"list-unstyled\"\n        currentClassName=\"font-weight-bold\"\n      >\n        <li>\n          <NavHashLink to=\"#basic-information\">\n            {intl.formatMessage(messages['account.settings.section.account.information'])}\n          </NavHashLink>\n        </li>\n        <li>\n          <NavHashLink to=\"#profile-information\">\n            {intl.formatMessage(messages['account.settings.section.profile.information'])}\n          </NavHashLink>\n        </li>\n        {getConfig().ENABLE_DEMOGRAPHICS_COLLECTION && displayDemographicsLink\n          && (\n          <li>\n            <NavHashLink to=\"#demographics-information\">\n              {intl.formatMessage(messages['account.settings.section.demographics.information'])}\n            </NavHashLink>\n          </li>\n          )}\n        <li>\n          <NavHashLink to=\"#social-media\">\n            {intl.formatMessage(messages['account.settings.section.social.media'])}\n          </NavHashLink>\n        </li>\n        <li>\n          <NavHashLink to=\"#site-preferences\">\n            {intl.formatMessage(messages['account.settings.section.site.preferences'])}\n          </NavHashLink>\n        </li>\n        <li>\n          <NavHashLink to=\"#linked-accounts\">\n            {intl.formatMessage(messages['account.settings.section.linked.accounts'])}\n          </NavHashLink>\n        </li>\n        {getConfig().ENABLE_ACCOUNT_DELETION\n          && (\n          <li>\n            <NavHashLink to=\"#delete-account\">\n              {intl.formatMessage(messages['account.settings.jump.nav.delete.account'])}\n            </NavHashLink>\n          </li>\n          )}\n      </Scrollspy>\n      {showPreferences && (\n        <>\n          <hr />\n          <Scrollspy\n            className=\"list-unstyled\"\n          >\n            <li>\n              <Link to=\"/notifications\" target=\"_blank\" rel=\"noopener noreferrer\">\n                <span>{intl.formatMessage(messages['notification.preferences.notifications.label'])}</span>\n                <Icon className=\"d-inline-block align-bottom ml-1\" src={OpenInNew} />\n              </Link>\n            </li>\n          </Scrollspy>\n        </>\n      )}\n    </div>\n  );\n};\n\nJumpNav.propTypes = {\n  intl: intlShape.isRequired,\n  displayDemographicsLink: PropTypes.bool.isRequired,\n};\n\nexport default injectIntl(JumpNav);\n","import { AsyncActionType } from '../../data/utils';\n\nexport const DELETE_ACCOUNT = new AsyncActionType('ACCOUNT_SETTINGS', 'DELETE_ACCOUNT');\nDELETE_ACCOUNT.CONFIRMATION = 'ACCOUNT_SETTINGS__DELETE_ACCOUNT__CONFIRMATION';\nDELETE_ACCOUNT.CANCEL = 'ACCOUNT_SETTINGS__DELETE_ACCOUNT__CANCEL';\n\nexport const deleteAccount = password => ({\n  type: DELETE_ACCOUNT.BASE,\n  payload: { password },\n});\n\nexport const deleteAccountConfirmation = () => ({\n  type: DELETE_ACCOUNT.CONFIRMATION,\n});\n\nexport const deleteAccountBegin = () => ({\n  type: DELETE_ACCOUNT.BEGIN,\n});\n\nexport const deleteAccountSuccess = () => ({\n  type: DELETE_ACCOUNT.SUCCESS,\n});\n\nexport const deleteAccountFailure = reason => ({\n  type: DELETE_ACCOUNT.FAILURE,\n  payload: { reason },\n});\n\n// to clear errors from the confirmation modal\nexport const deleteAccountReset = () => ({\n  type: DELETE_ACCOUNT.RESET,\n});\n\n// to close the modal\nexport const deleteAccountCancel = () => ({\n  type: DELETE_ACCOUNT.CANCEL,\n});\n","import { defineMessages } from '@edx/frontend-platform/i18n';\n\nconst messages = defineMessages({\n  'account.settings.delete.account.header': {\n    id: 'account.settings.delete.account.header',\n    defaultMessage: 'Delete My Account',\n    description: 'Header for the user account deletion area',\n  },\n  'account.settings.delete.account.subheader': {\n    id: 'account.settings.delete.account.subheader',\n    defaultMessage: 'We\\'re sorry to see you go!',\n    description: 'A message in the user account deletion area',\n  },\n  'account.settings.delete.account.text.1': {\n    id: 'account.settings.delete.account.text.1',\n    defaultMessage: 'Please note: Deletion of your account and personal data is permanent and cannot be undone. {siteName} will not be able to recover your account or the data that is deleted.',\n    description: 'A message in the user account deletion area',\n  },\n  'account.settings.delete.account.text.2': {\n    id: 'account.settings.delete.account.text.2',\n    defaultMessage: 'Once your account is deleted, you cannot use it to take courses on {siteName}.',\n    description: 'A message in the user account deletion area',\n  },\n  'account.settings.delete.account.text.2.edX': {\n    id: 'account.settings.delete.account.text.2.edX',\n    defaultMessage: 'Once your account is deleted, you cannot use it to take courses on the edX app, edx.org, or any other site hosted by edX. This includes access to edx.org from your employers or universitys system and access to private sites offered by MIT Open Learning, Wharton Executive Education, and Harvard Medical School.',\n    description: 'A message in the user account deletion area',\n  },\n  'account.settings.delete.account.text.3.link': {\n    id: 'account.settings.delete.account.text.3.link',\n    defaultMessage: 'Follow these instructions for printing or downloading a certificate',\n    description: 'This text is a link to a technical support page where users can learn how to print or download their certificates.',\n  },\n  'account.settings.delete.account.text.warning': {\n    id: 'account.settings.delete.account.text.warning',\n    defaultMessage: 'Warning: Account deletion is permanent. Please read the above carefully before proceeding. This is an irreversible action, and you will no longer be able to use the same email on {siteName}.',\n    description: 'A message in the user account deletion area',\n  },\n  'account.settings.delete.account.text.change.instead': {\n    id: 'account.settings.delete.account.text.change.instead',\n    defaultMessage: 'Want to change your email, name, or password instead?',\n    description: 'A message in the user account deletion area',\n  },\n  'account.settings.delete.account.button': {\n    id: 'account.settings.delete.account.button',\n    defaultMessage: 'Delete My Account',\n    description: 'Button label to permanently delete your platform account',\n  },\n  'account.settings.delete.account.please.activate': {\n    id: 'account.settings.delete.account.please.activate',\n    defaultMessage: 'activate your account',\n    description: 'This is the text on a link that goes to the support page.  It is part of this sentence: Before proceeding, please activate your account.',\n  },\n  'account.settings.delete.account.please.confirm': {\n    id: 'account.settings.delete.account.please.confirm',\n    defaultMessage: 'confirm your account',\n    description: 'This is the text on a link that goes to the support page.  It is part of this sentence: Before proceeding, please confirm your account.',\n  },\n  'account.settings.delete.account.please.unlink': {\n    id: 'account.settings.delete.account.please.unlink',\n    defaultMessage: 'unlink all social media accounts',\n    description: 'This is the text on a link that goes to the support page.  It is part of this sentence: Before proceeding, please unlink all social media accounts.',\n  },\n  'account.settings.delete.account.modal.header': {\n    id: 'account.settings.delete.account.modal.header',\n    defaultMessage: 'Are you sure?',\n    description: 'Title of the dialog asking user to confirm that they want to delete their entire account',\n  },\n  'account.settings.delete.account.modal.text.1': {\n    id: 'account.settings.delete.account.modal.text.1',\n    defaultMessage: 'You have selected \"Delete My Account\". Deletion of your account and personal data is permanent and cannot be undone. {siteName} will not be able to recover your account or the data that is deleted.',\n    description: 'Messaging in the dialog asking user to confirm that they want to delete their entire account',\n  },\n  'account.settings.delete.account.modal.text.2': {\n    id: 'account.settings.delete.account.modal.text.2',\n    defaultMessage: 'If you proceed, you will be unable to use this account to take courses on {siteName}.',\n    description: 'Messaging in the dialog asking user to confirm that they want to delete their entire account',\n  },\n  'account.settings.delete.account.modal.text.2.edX': {\n    id: 'account.settings.delete.account.modal.text.2.edX',\n    defaultMessage: 'If you proceed, you will be unable to use this account to take courses on the edX app, edx.org, or any other site hosted by edX. This includes access to edx.org from your employer\\'s or university\\'s system and access to private sites offered by MIT Open Learning, Wharton Executive Education, and Harvard Medical School.',\n    description: 'Messaging in the dialog asking user to confirm that they want to delete their entire account',\n  },\n  'account.settings.delete.account.modal.enter.password': {\n    id: 'account.settings.delete.account.modal.enter.password',\n    defaultMessage: 'If you still wish to continue and delete your account, please enter your account password:',\n    description: 'Asking for the user\\'s account password',\n  },\n  'account.settings.delete.account.modal.confirm.delete': {\n    id: 'account.settings.delete.account.modal.confirm.delete',\n    defaultMessage: 'Yes, Delete',\n    description: 'Button label for user to confirm it is okay to delete their account',\n  },\n  'account.settings.delete.account.modal.confirm.cancel': {\n    id: 'account.settings.delete.account.modal.confirm.cancel',\n    defaultMessage: 'Cancel',\n    description: 'The cancel button on the delete my account modal confirmation',\n  },\n  'account.settings.delete.account.error.unable.to.delete': {\n    id: 'account.settings.delete.account.error.unable.to.delete',\n    defaultMessage: 'Unable to delete account',\n    description: 'Error message when account deletion failed',\n  },\n  'account.settings.delete.account.error.no.password': {\n    id: 'account.settings.delete.account.error.no.password',\n    defaultMessage: 'A password is required',\n    description: 'Error message when user has not entered their password',\n  },\n  'account.settings.delete.account.error.invalid.password': {\n    id: 'account.settings.delete.account.error.invalid.password',\n    defaultMessage: 'Password is incorrect',\n    description: 'Error message when user has entered incorrect password',\n  },\n  'account.settings.delete.account.error.unable.to.delete.details': {\n    id: 'account.settings.delete.account.error.unable.to.delete.details',\n    defaultMessage: 'Sorry, there was an error trying to process your request. Please try again later.',\n    description: 'Error message when account deletion failed',\n  },\n  'account.settings.delete.account.modal.after.header': {\n    id: 'account.settings.delete.account.modal.after.header',\n    defaultMessage: 'We\\'re sorry to see you go!  Your account will be deleted shortly.',\n    description: 'Title displayed after user account is deleted',\n  },\n  'account.settings.delete.account.modal.after.text': {\n    id: 'account.settings.delete.account.modal.after.text',\n    defaultMessage: 'Account deletion, including removal from email lists, may take a few weeks to fully process through our system. If you want to opt-out of emails before then, please unsubscribe from the footer of any email.',\n    description: 'Text displayed after user account is deleted',\n  },\n  'account.settings.delete.account.modal.after.button': {\n    id: 'account.settings.delete.account.modal.after.button',\n    defaultMessage: 'Close',\n    description: 'Label on button to close a dialog',\n  },\n});\n\nexport default messages;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nconst Alert = (props) => (\n  <div className={classNames('alert d-flex align-items-start', props.className)}>\n    <div>\n      {props.icon}\n    </div>\n    <div>\n      {props.children}\n    </div>\n  </div>\n);\n\nAlert.propTypes = {\n  className: PropTypes.string,\n  icon: PropTypes.node,\n  children: PropTypes.node,\n};\n\nAlert.defaultProps = {\n  className: undefined,\n  icon: undefined,\n  children: undefined,\n};\n\nexport default Alert;\n","import React from 'react';\nimport { FormattedMessage, injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { Hyperlink } from '@edx/paragon';\n\nimport { getConfig } from '@edx/frontend-platform';\nimport messages from './messages';\n\nconst PrintingInstructions = (props) => {\n  const actionLink = (\n    <Hyperlink\n      // TODO: What would a generic version of this link look like?  Should\n      // CERTIFICATE_SHARING_HELP_URL really be a configuration variable?  In the meantime,\n      // We've removed the link from the default message.\n      destination=\"https://support.edx.org/hc/en-us/sections/115004173027-Receive-and-Share-edX-Certificates\"\n    >\n      {props.intl.formatMessage(messages['account.settings.delete.account.text.3.link'])}\n    </Hyperlink>\n  );\n\n  // TODO: We lack a good way of providing custom language for a particular site.  This is a hack\n  // to allow edx.org to mention MicroMasters certificates to fulfill its business requirements.\n  if (getConfig().SITE_NAME === 'edX') {\n    return (\n      <FormattedMessage\n        id=\"account.settings.delete.account.text.3.edX\"\n        defaultMessage=\"You may also lose access to verified certificates and other program credentials like MicroMasters certificates. You can make a copy of these for your records before proceeding with deletion. {actionLink}.\"\n        description=\"A message in the user account deletion area warning users that deleting their account will prevent them from accessing their certificates. 'actionLink' is a HTML link with a full sentence that describes how to print a certificate.\"\n        values={{ actionLink }}\n      />\n    );\n  }\n\n  return (\n    <FormattedMessage\n      id=\"account.settings.delete.account.text.3\"\n      defaultMessage=\"You may also lose access to verified certificates and other program credentials. You can make a copy of these for your records before proceeding with deletion.\"\n      description=\"A message in the user account deletion area warning users that deleting their account will prevent them from accessing their certificates.\"\n      values={{ actionLink }}\n    />\n  );\n};\n\nPrintingInstructions.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default injectIntl(PrintingInstructions);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  AlertModal,\n  Button, Input, ValidationFormGroup, ActionRow,\n} from '@edx/paragon';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { faExclamationCircle, faExclamationTriangle } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { getConfig } from '@edx/frontend-platform';\nimport messages from './messages';\nimport Alert from '../Alert';\nimport PrintingInstructions from './PrintingInstructions';\n\nexport class ConfirmationModal extends Component {\n  /**\n   * @returns String The message id for a short description of the error, suitable for a header or\n   * as the error message under an input field.\n   */\n  getShortErrorMessageId(reason) {\n    switch (reason) {\n      case 'empty-password':\n        return 'account.settings.delete.account.error.no.password';\n      case 'invalid-password':\n        return 'account.settings.delete.account.error.invalid.password';\n      default:\n        return 'account.settings.delete.account.error.unable.to.delete';\n    }\n  }\n\n  renderError(reason) {\n    const { errorType, intl } = this.props;\n\n    if (errorType === null) {\n      return null;\n    }\n    const headerMessageId = this.getShortErrorMessageId(errorType);\n    const detailsMessageId = reason === 'empty-password'\n      ? null\n      : 'account.settings.delete.account.error.unable.to.delete.details';\n\n    return (\n      <Alert\n        className=\"alert-danger mt-n2\"\n        icon={<FontAwesomeIcon className=\"mr-2\" icon={faExclamationCircle} />}\n      >\n        <h6>{intl.formatMessage(messages[headerMessageId])}</h6>\n        {detailsMessageId ? (\n          <p className=\"text-danger\">{intl.formatMessage(messages[detailsMessageId])}</p>\n        ) : null}\n      </Alert>\n    );\n  }\n\n  render() {\n    const {\n      status,\n      errorType,\n      intl,\n      onCancel,\n      onChange,\n      onSubmit,\n      password,\n    } = this.props;\n    const open = ['confirming', 'pending', 'failed'].includes(status);\n    const passwordFieldId = 'passwordFieldId';\n    const invalidMessage = messages[this.getShortErrorMessageId(errorType)];\n\n    // TODO: We lack a good way of providing custom language for a particular site.  This is a hack\n    // to allow edx.org to fulfill its business requirements.\n    const deleteAccountModalText2MessageKey = getConfig().SITE_NAME === 'edX'\n      ? 'account.settings.delete.account.modal.text.2.edX'\n      : 'account.settings.delete.account.modal.text.2';\n\n    return (\n      <AlertModal\n        isOpen={open}\n        title={intl.formatMessage(messages['account.settings.delete.account.modal.header'])}\n        onClose={onCancel}\n        footerNode={(\n          <ActionRow>\n            <Button variant=\"link\" onClick={onCancel}>Cancel</Button>\n            <Button variant=\"danger\" onClick={onSubmit}>Yes, Delete</Button>\n          </ActionRow>\n        )}\n      >\n        <div className=\"p-3\">\n          {this.renderError()}\n          <Alert\n            className=\"alert-warning mt-n2\"\n            icon={<FontAwesomeIcon className=\"mr-2\" icon={faExclamationTriangle} />}\n          >\n            <h6>\n              {intl.formatMessage(\n                messages['account.settings.delete.account.modal.text.1'],\n                { siteName: getConfig().SITE_NAME },\n              )}\n            </h6>\n            <p>\n              {intl.formatMessage(\n                messages[deleteAccountModalText2MessageKey],\n                { siteName: getConfig().SITE_NAME },\n              )}\n            </p>\n            <p>\n              <PrintingInstructions />\n            </p>\n          </Alert>\n          <ValidationFormGroup\n            for={passwordFieldId}\n            invalid={errorType !== null}\n            invalidMessage={intl.formatMessage(invalidMessage)}\n          >\n            <label className=\"d-block\" htmlFor={passwordFieldId}>\n              {intl.formatMessage(messages['account.settings.delete.account.modal.enter.password'])}\n            </label>\n            <Input\n              name=\"password\"\n              id={passwordFieldId}\n              type=\"password\"\n              value={password}\n              onChange={onChange}\n            />\n          </ValidationFormGroup>\n        </div>\n\n      </AlertModal>\n    );\n  }\n}\n\nConfirmationModal.propTypes = {\n  status: PropTypes.oneOf(['confirming', 'pending', 'deleted', 'failed']),\n  errorType: PropTypes.oneOf(['empty-password', 'server']),\n  intl: intlShape.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  password: PropTypes.string.isRequired,\n};\n\nConfirmationModal.defaultProps = {\n  status: null,\n  errorType: null,\n};\n\nexport default injectIntl(ConfirmationModal);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { ModalLayer, ModalCloseButton } from '@edx/paragon';\n\nimport messages from './messages';\n\nexport const SuccessModal = (props) => {\n  const { status, intl, onClose } = props;\n  return (\n\n    <ModalLayer isOpen={status === 'deleted'} onClose={onClose}>\n      <div className=\"mw-sm p-5 bg-white mx-auto my-3\">\n        <h3>\n          {intl.formatMessage(messages['account.settings.delete.account.modal.after.header'])}\n        </h3>\n        <div className=\"p-3\">\n          <p className=\"h6\">\n            {intl.formatMessage(messages['account.settings.delete.account.modal.after.text'])}\n          </p>\n        </div>\n        <p>\n          <ModalCloseButton className=\"float-right\" variant=\"link\">Close</ModalCloseButton>\n        </p>\n      </div>\n\n    </ModalLayer>\n\n  );\n};\n\nSuccessModal.propTypes = {\n  status: PropTypes.oneOf(['confirming', 'pending', 'deleted', 'failed']),\n  intl: intlShape.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nSuccessModal.defaultProps = {\n  status: null,\n};\n\nexport default injectIntl(SuccessModal);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage, injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { faExclamationTriangle } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Hyperlink } from '@edx/paragon';\n\n// Messages\nimport { getConfig } from '@edx/frontend-platform';\nimport messages from './messages';\n\n// Components\nimport Alert from '../Alert';\n\nconst BeforeProceedingBanner = (props) => {\n  const { instructionMessageId, intl, supportArticleUrl } = props;\n\n  return (\n    <Alert\n      className=\"alert-warning mt-n2\"\n      icon={<FontAwesomeIcon className=\"mr-2\" icon={faExclamationTriangle} />}\n    >\n      <FormattedMessage\n        id=\"account.settings.delete.account.before.proceeding\"\n        defaultMessage=\"Before proceeding, please {actionLink}.\"\n        description=\"Error that appears if you are trying to delete your account, but something about your account needs attention first.  The actionLink will be instructions, such as 'unlink your Facebook account'.\"\n        values={{\n          actionLink: supportArticleUrl ? (\n            <Hyperlink destination={supportArticleUrl}>\n              {intl.formatMessage(messages[instructionMessageId])}\n            </Hyperlink>\n          ) : (\n            intl.formatMessage(messages[instructionMessageId])\n          ),\n          siteName: getConfig().SITE_NAME,\n        }}\n      />\n    </Alert>\n  );\n};\n\nBeforeProceedingBanner.propTypes = {\n  instructionMessageId: PropTypes.string.isRequired,\n  intl: intlShape.isRequired,\n  supportArticleUrl: PropTypes.string.isRequired,\n};\n\nexport default injectIntl(BeforeProceedingBanner);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { getConfig } from '@edx/frontend-platform';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { Button, Hyperlink } from '@edx/paragon';\n\n// Actions\nimport {\n  deleteAccount,\n  deleteAccountConfirmation,\n  deleteAccountFailure,\n  deleteAccountReset,\n  deleteAccountCancel,\n} from './data/actions';\n\n// Messages\nimport messages from './messages';\n\n// Components\nimport ConnectedConfirmationModal from './ConfirmationModal';\nimport PrintingInstructions from './PrintingInstructions';\nimport ConnectedSuccessModal from './SuccessModal';\nimport BeforeProceedingBanner from './BeforeProceedingBanner';\n\nexport class DeleteAccount extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      password: '',\n    };\n  }\n\n  handleSubmit = () => {\n    if (this.state.password === '') {\n      this.props.deleteAccountFailure('empty-password');\n    } else {\n      this.props.deleteAccount(this.state.password);\n    }\n  };\n\n  handleCancel = () => {\n    this.setState({ password: '' });\n    this.props.deleteAccountCancel();\n  };\n\n  handlePasswordChange = (e) => {\n    this.setState({ password: e.target.value.trim() });\n    this.props.deleteAccountReset();\n  };\n\n  handleFinalClose = () => {\n    global.location = getConfig().LOGOUT_URL;\n  };\n\n  render() {\n    const {\n      hasLinkedTPA, isVerifiedAccount, status, errorType, intl,\n    } = this.props;\n    const canDelete = isVerifiedAccount && !hasLinkedTPA;\n    const supportArticleUrl = process.env.SUPPORT_URL_TO_UNLINK_SOCIAL_MEDIA_ACCOUNT;\n\n    // TODO: We lack a good way of providing custom language for a particular site.  This is a hack\n    // to allow edx.org to fulfill its business requirements.\n    const deleteAccountText2MessageKey = getConfig().SITE_NAME === 'edX'\n      ? 'account.settings.delete.account.text.2.edX'\n      : 'account.settings.delete.account.text.2';\n\n    const optInInstructionMessageId = getConfig().MARKETING_EMAILS_OPT_IN\n      ? 'account.settings.delete.account.please.confirm'\n      : 'account.settings.delete.account.please.activate';\n\n    return (\n      <div>\n        <h2 className=\"section-heading h4 mb-3\">\n          {intl.formatMessage(messages['account.settings.delete.account.header'])}\n        </h2>\n        <p>{intl.formatMessage(messages['account.settings.delete.account.subheader'])}</p>\n        <p>\n          {intl.formatMessage(\n            messages['account.settings.delete.account.text.1'],\n            { siteName: getConfig().SITE_NAME },\n          )}\n        </p>\n        <p>\n          {intl.formatMessage(\n            messages[deleteAccountText2MessageKey],\n            { siteName: getConfig().SITE_NAME },\n          )}\n        </p>\n        <p>\n          <PrintingInstructions />\n        </p>\n        <p className=\"text-danger h6\">\n          {intl.formatMessage(\n            messages['account.settings.delete.account.text.warning'],\n            { siteName: getConfig().SITE_NAME },\n          )}\n        </p>\n        <p>\n          <Hyperlink destination=\"https://support.edx.org/hc/en-us/sections/115004139268-Manage-Your-Account-Settings\">\n            {intl.formatMessage(messages['account.settings.delete.account.text.change.instead'])}\n          </Hyperlink>\n        </p>\n        <p>\n          <Button\n            variant=\"outline-danger\"\n            onClick={canDelete ? this.props.deleteAccountConfirmation : null}\n            disabled={!canDelete}\n          >\n            {intl.formatMessage(messages['account.settings.delete.account.button'])}\n          </Button>\n        </p>\n\n        {isVerifiedAccount ? null : (\n          <BeforeProceedingBanner\n            instructionMessageId={optInInstructionMessageId}\n            supportArticleUrl=\"https://support.edx.org/hc/en-us/articles/115000940568-How-do-I-confirm-my-email-\"\n          />\n        )}\n\n        {hasLinkedTPA ? (\n          <BeforeProceedingBanner\n            instructionMessageId=\"account.settings.delete.account.please.unlink\"\n            supportArticleUrl={supportArticleUrl}\n          />\n        ) : null}\n\n        <ConnectedConfirmationModal\n          status={status}\n          errorType={errorType}\n          onSubmit={this.handleSubmit}\n          onCancel={this.handleCancel}\n          onChange={this.handlePasswordChange}\n          password={this.state.password}\n        />\n\n        <ConnectedSuccessModal status={status} onClose={this.handleFinalClose} />\n      </div>\n    );\n  }\n}\n\nDeleteAccount.propTypes = {\n  deleteAccount: PropTypes.func.isRequired,\n  deleteAccountConfirmation: PropTypes.func.isRequired,\n  deleteAccountFailure: PropTypes.func.isRequired,\n  deleteAccountReset: PropTypes.func.isRequired,\n  deleteAccountCancel: PropTypes.func.isRequired,\n  status: PropTypes.oneOf(['confirming', 'pending', 'deleted', 'failed']),\n  errorType: PropTypes.oneOf(['empty-password', 'server']),\n  hasLinkedTPA: PropTypes.bool,\n  isVerifiedAccount: PropTypes.bool,\n  intl: intlShape.isRequired,\n};\n\nDeleteAccount.defaultProps = {\n  hasLinkedTPA: false,\n  isVerifiedAccount: true,\n  status: null,\n  errorType: null,\n};\n\n// Assume we're part of the accountSettings state.\nconst mapStateToProps = state => state.accountSettings.deleteAccount;\n\nexport default connect(\n  mapStateToProps,\n  {\n    deleteAccount,\n    deleteAccountConfirmation,\n    deleteAccountFailure,\n    deleteAccountReset,\n    deleteAccountCancel,\n  },\n)(injectIntl(DeleteAccount));\n","import { DELETE_ACCOUNT } from './actions';\n\nexport const defaultState = {\n  status: null,\n  errorType: null,\n};\n\nconst reducer = (state = defaultState, action = null) => {\n  if (action !== null) {\n    switch (action.type) {\n      case DELETE_ACCOUNT.CONFIRMATION:\n        return {\n          ...state,\n          status: 'confirming',\n        };\n\n      case DELETE_ACCOUNT.BEGIN:\n        return {\n          ...state,\n          status: 'pending',\n        };\n\n      case DELETE_ACCOUNT.SUCCESS:\n        return {\n          ...state,\n          status: 'deleted',\n        };\n\n      case DELETE_ACCOUNT.FAILURE:\n        return {\n          ...state,\n          status: 'failed',\n          errorType: action.payload.reason || 'server',\n        };\n\n      case DELETE_ACCOUNT.RESET: {\n        const oldStatus = state.status;\n\n        return {\n          ...state,\n          // clear the error state if applicable, otherwise don't change state\n          status: oldStatus === 'failed' ? 'confirming' : oldStatus,\n          errorType: null,\n        };\n      }\n\n      case DELETE_ACCOUNT.CANCEL:\n        return {\n          ...state,\n          status: null,\n          errorType: null,\n        };\n\n      default:\n    }\n  }\n  return state;\n};\n\nexport default reducer;\n","import { getConfig } from '@edx/frontend-platform';\nimport { getAuthenticatedHttpClient } from '@edx/frontend-platform/auth';\nimport formurlencoded from 'form-urlencoded';\nimport { handleRequestError } from '../../data/utils';\n\n/**\n * Request deletion of the user's account.\n */\n// eslint-disable-next-line import/prefer-default-export\nexport async function postDeleteAccount(password) {\n  const { data } = await getAuthenticatedHttpClient()\n    .post(\n      `${getConfig().LMS_BASE_URL}/api/user/v1/accounts/deactivate_logout/`,\n      formurlencoded({ password }),\n      {\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      },\n    )\n    .catch(handleRequestError);\n  return data;\n}\n","import { put, call, takeEvery } from 'redux-saga/effects';\n\nimport {\n  DELETE_ACCOUNT,\n  deleteAccountBegin,\n  deleteAccountSuccess,\n  deleteAccountFailure,\n} from './actions';\n\nimport { postDeleteAccount } from './service';\n\nexport function* handleDeleteAccount(action) {\n  try {\n    yield put(deleteAccountBegin());\n    const response = yield call(postDeleteAccount, action.payload.password);\n    yield put(deleteAccountSuccess(response));\n  } catch (e) {\n    if (e.response.status === 403) {\n      yield put(deleteAccountFailure('invalid-password'));\n    } else if (typeof e.response.data === 'string') {\n      yield put(deleteAccountFailure());\n    } else {\n      throw e;\n    }\n  }\n}\n\nexport default function* saga() {\n  yield takeEvery(DELETE_ACCOUNT.BASE, handleDeleteAccount);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { TransitionReplace } from '@edx/paragon';\n\nconst onChildExit = (htmlNode) => {\n  // If the leaving child has focus, take control and redirect it\n  if (htmlNode.contains(document.activeElement)) {\n    // Get the newly entering sibling.\n    // It's the previousSibling, but not for any explicit reason. So checking for both.\n    const enteringChild = htmlNode.previousSibling || htmlNode.nextSibling;\n\n    // There's no replacement, do nothing.\n    if (!enteringChild) {\n      return;\n    }\n\n    // Get all the focusable elements in the entering child and focus the first one\n    const focusableElements = enteringChild.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])');\n    if (focusableElements.length) {\n      focusableElements[0].focus();\n    }\n  }\n};\n\nconst SwitchContent = ({ expression, cases, className }) => {\n  const getContent = (caseKey) => {\n    if (cases[caseKey]) {\n      if (typeof cases[caseKey] === 'string') {\n        return getContent(cases[caseKey]);\n      }\n      return React.cloneElement(cases[caseKey], { key: caseKey });\n    }\n    if (cases.default) {\n      if (typeof cases.default === 'string') {\n        return getContent(cases.default);\n      }\n      React.cloneElement(cases.default, { key: 'default' });\n    }\n\n    return null;\n  };\n\n  return (\n    <TransitionReplace\n      className={className}\n      onChildExit={onChildExit}\n    >\n      {getContent(expression)}\n    </TransitionReplace>\n  );\n};\n\nSwitchContent.propTypes = {\n  expression: PropTypes.string,\n  cases: PropTypes.objectOf(PropTypes.node).isRequired,\n  className: PropTypes.string,\n};\n\nSwitchContent.defaultProps = {\n  expression: null,\n  className: null,\n};\n\nexport default SwitchContent;\n","import { defineMessages } from '@edx/frontend-platform/i18n';\n\nconst messages = defineMessages({\n  'account.settings.field.name.checkbox.certificate.select': {\n    id: 'account.settings.field.name.certificate.select',\n    defaultMessage: 'If checked, this name will appear on your certificates and public-facing records.',\n    description: 'Label for checkbox describing that the selected name will appear on the users certificates.',\n  },\n  'account.settings.field.name.modal.certificate.title': {\n    id: 'account.settings.field.name.modal.certificate.title',\n    defaultMessage: 'Choose a preferred name for certificates and public-facing records',\n    description: 'Title instructing the user to choose a preferred name.',\n  },\n  'account.settings.field.name.modal.certificate.select': {\n    id: 'account.settings.field.name.modal.certificate.select',\n    defaultMessage: 'Select a name',\n    description: 'Label instructing the user to select a name.',\n  },\n  'account.settings.field.name.modal.certificate.option.full': {\n    id: 'account.settings.field.name.modal.certificate.option.full',\n    defaultMessage: 'Full Name',\n    description: 'Option representing the users full name.',\n  },\n  'account.settings.field.name.modal.certificate.option.verified': {\n    id: 'account.settings.field.name.modal.certificate.option.verified',\n    defaultMessage: 'Verified Name',\n    description: 'Option representing the users verified name.',\n  },\n  'account.settings.field.name.modal.certificate.button.choose': {\n    id: 'account.settings.field.name.modal.certificate.button.choose',\n    defaultMessage: 'Choose name',\n    description: 'Button to confirm the users name choice.',\n  },\n});\n\nexport default messages;\n","import React, { useState, useEffect } from 'react';\nimport { connect, useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport {\n  ActionRow,\n  Form,\n  ModalDialog,\n  StatefulButton,\n} from '@edx/paragon';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\n\nimport {\n  closeForm,\n  resetDrafts,\n  saveSettings,\n  updateDraft,\n} from '../data/actions';\nimport { certPreferenceSelector } from '../data/selectors';\n\nimport commonMessages from '../AccountSettingsPage.messages';\nimport messages from './messages';\n\nconst CertificatePreference = ({\n  intl,\n  fieldName,\n  originalFullName,\n  originalVerifiedName,\n  saveState,\n  useVerifiedNameForCerts,\n}) => {\n  const dispatch = useDispatch();\n  const [checked, setChecked] = useState(false);\n  const [modalIsOpen, setModalIsOpen] = useState(false);\n  const formId = 'useVerifiedNameForCerts';\n\n  const handleCheckboxChange = () => {\n    if (!checked) {\n      if (fieldName === 'verified_name') {\n        dispatch(updateDraft(formId, true));\n      } else {\n        dispatch(updateDraft(formId, false));\n      }\n    } else {\n      setModalIsOpen(true);\n    }\n  };\n\n  const handleCancel = () => {\n    setModalIsOpen(false);\n    dispatch(resetDrafts());\n  };\n\n  const handleModalChange = (e) => {\n    if (e.target.value === 'fullName') {\n      dispatch(updateDraft(formId, false));\n    } else {\n      dispatch(updateDraft(formId, true));\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (saveState === 'pending') {\n      return;\n    }\n\n    dispatch(saveSettings(formId, useVerifiedNameForCerts));\n  };\n\n  useEffect(() => {\n    if (originalVerifiedName) {\n      if (fieldName === 'verified_name') {\n        setChecked(useVerifiedNameForCerts);\n      } else {\n        setChecked(!useVerifiedNameForCerts);\n      }\n    }\n  }, [originalVerifiedName, fieldName, useVerifiedNameForCerts]);\n\n  useEffect(() => {\n    if (originalVerifiedName) {\n      if (modalIsOpen && saveState === 'complete') {\n        setModalIsOpen(false);\n        dispatch(closeForm(fieldName));\n      }\n    }\n  }, [dispatch, originalVerifiedName, fieldName, modalIsOpen, saveState]);\n\n  // If the user doesn't have an approved verified name, do not display this component\n\n  return originalVerifiedName ? (\n    <>\n      <Form.Checkbox className=\"mt-1 mb-4\" checked={checked} onChange={handleCheckboxChange}>\n        {intl.formatMessage(messages['account.settings.field.name.checkbox.certificate.select'])}\n      </Form.Checkbox>\n\n      <ModalDialog\n        title={intl.formatMessage(messages['account.settings.field.name.modal.certificate.title'])}\n        isOpen={modalIsOpen}\n        onClose={handleCancel}\n        size=\"lg\"\n        hasCloseButton\n        isFullscreenOnMobile\n      >\n        <Form onSubmit={handleSubmit}>\n          <ModalDialog.Header>\n            <ModalDialog.Title>\n              {intl.formatMessage(messages['account.settings.field.name.modal.certificate.title'])}\n            </ModalDialog.Title>\n          </ModalDialog.Header>\n\n          <ModalDialog.Body className=\"overflow-hidden\">\n            <Form.Group className=\"mb-4\">\n              <Form.Label>\n                {intl.formatMessage(messages['account.settings.field.name.modal.certificate.select'])}\n              </Form.Label>\n              <Form.RadioSet\n                name={formId}\n                value={useVerifiedNameForCerts ? 'verifiedName' : 'fullName'}\n                onChange={handleModalChange}\n              >\n                <Form.Radio value=\"fullName\">\n                  {originalFullName}{' '}\n                  ({intl.formatMessage(messages['account.settings.field.name.modal.certificate.option.full'])})\n                </Form.Radio>\n                <Form.Radio value=\"verifiedName\">\n                  {originalVerifiedName}{' '}\n                  ({intl.formatMessage(messages['account.settings.field.name.modal.certificate.option.verified'])})\n                </Form.Radio>\n              </Form.RadioSet>\n            </Form.Group>\n          </ModalDialog.Body>\n\n          <ModalDialog.Footer>\n            <ActionRow>\n              <ModalDialog.CloseButton variant=\"outline-primary\" disabled={saveState === 'pending'}>\n                {intl.formatMessage(commonMessages['account.settings.editable.field.action.cancel'])}\n              </ModalDialog.CloseButton>\n              <StatefulButton\n                type=\"submit\"\n                state={saveState}\n                labels={{\n                  default: intl.formatMessage(messages['account.settings.field.name.modal.certificate.button.choose']),\n                }}\n                disabledStates={[]}\n              />\n            </ActionRow>\n          </ModalDialog.Footer>\n        </Form>\n      </ModalDialog>\n    </>\n  ) : null;\n};\n\nCertificatePreference.propTypes = {\n  intl: intlShape.isRequired,\n  fieldName: PropTypes.string.isRequired,\n  originalFullName: PropTypes.string,\n  originalVerifiedName: PropTypes.string,\n  saveState: PropTypes.string,\n  useVerifiedNameForCerts: PropTypes.bool,\n};\n\nCertificatePreference.defaultProps = {\n  originalFullName: '',\n  originalVerifiedName: '',\n  saveState: null,\n  useVerifiedNameForCerts: false,\n};\n\nexport default connect(certPreferenceSelector)(injectIntl(CertificatePreference));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport {\n  Button, Form, StatefulButton,\n} from '@edx/paragon';\nimport { faPencilAlt } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport SwitchContent from './SwitchContent';\nimport messages from './AccountSettingsPage.messages';\n\nimport {\n  openForm,\n  closeForm,\n} from './data/actions';\nimport { editableFieldSelector } from './data/selectors';\nimport CertificatePreference from './certificate-preference/CertificatePreference';\n\nconst EditableField = (props) => {\n  const {\n    name,\n    label,\n    emptyLabel,\n    type,\n    value,\n    userSuppliedValue,\n    saveState,\n    error,\n    confirmationMessageDefinition,\n    confirmationValue,\n    helpText,\n    onEdit,\n    onCancel,\n    onSubmit,\n    onChange,\n    isEditing,\n    isEditable,\n    isGrayedOut,\n    intl,\n    ...others\n  } = props;\n  const id = `field-${name}`;\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit(name, new FormData(e.target).get(name));\n  };\n\n  const handleChange = (e) => {\n    onChange(name, e.target.value);\n  };\n\n  const handleEdit = () => {\n    onEdit(name);\n  };\n\n  const handleCancel = () => {\n    onCancel(name);\n  };\n\n  const renderEmptyLabel = () => {\n    if (isEditable) {\n      return <Button variant=\"link\" onClick={handleEdit} className=\"p-0\">{emptyLabel}</Button>;\n    }\n    return <span className=\"text-muted\">{emptyLabel}</span>;\n  };\n\n  const renderValue = (rawValue) => {\n    if (!rawValue) {\n      return renderEmptyLabel();\n    }\n    let finalValue = rawValue;\n\n    if (userSuppliedValue) {\n      finalValue += `: ${userSuppliedValue}`;\n    }\n\n    return finalValue;\n  };\n\n  const renderConfirmationMessage = () => {\n    if (!confirmationMessageDefinition || !confirmationValue) {\n      return null;\n    }\n    return intl.formatMessage(confirmationMessageDefinition, {\n      value: confirmationValue,\n    });\n  };\n\n  return (\n    <SwitchContent\n      expression={isEditing ? 'editing' : 'default'}\n      cases={{\n        editing: (\n          <>\n            <form onSubmit={handleSubmit}>\n              <Form.Group\n                controlId={id}\n                isInvalid={error != null}\n              >\n                <Form.Label size=\"sm\" className=\"h6 d-block\" htmlFor={id}>{label}</Form.Label>\n                <Form.Control\n                  data-hj-suppress\n                  name={name}\n                  id={id}\n                  type={type}\n                  value={value}\n                  onChange={handleChange}\n                  {...others}\n                />\n                {!!helpText && <Form.Text>{helpText}</Form.Text>}\n                {error != null && <Form.Control.Feedback hasIcon={false}>{error}</Form.Control.Feedback>}\n                {others.children}\n              </Form.Group>\n              <p>\n                <StatefulButton\n                  type=\"submit\"\n                  className=\"mr-2\"\n                  state={saveState}\n                  labels={{\n                    default: intl.formatMessage(messages['account.settings.editable.field.action.save']),\n                  }}\n                  onClick={(e) => {\n                    // Swallow clicks if the state is pending.\n                    // We do this instead of disabling the button to prevent\n                    // it from losing focus (disabled elements cannot have focus).\n                    // Disabling it would causes upstream issues in focus management.\n                    // Swallowing the onSubmit event on the form would be better, but\n                    // we would have to add that logic for every field given our\n                    // current structure of the application.\n                    if (saveState === 'pending') { e.preventDefault(); }\n                  }}\n                  disabledStates={[]}\n                />\n                <Button\n                  variant=\"outline-primary\"\n                  onClick={handleCancel}\n                >\n                  {intl.formatMessage(messages['account.settings.editable.field.action.cancel'])}\n                </Button>\n              </p>\n            </form>\n            {['name', 'verified_name'].includes(name) && <CertificatePreference fieldName={name} />}\n          </>\n        ),\n        default: (\n          <div className=\"form-group\">\n            <div className=\"d-flex align-items-start\">\n              <h6 aria-level=\"3\">{label}</h6>\n              {isEditable ? (\n                <Button variant=\"link\" onClick={handleEdit} className=\"ml-3\">\n                  <FontAwesomeIcon className=\"mr-1\" icon={faPencilAlt} />{intl.formatMessage(messages['account.settings.editable.field.action.edit'])}\n                </Button>\n              ) : null}\n            </div>\n            <p data-hj-suppress className={classNames('text-truncate', { 'grayed-out': isGrayedOut })}>{renderValue(value)}</p>\n            <p className=\"small text-muted mt-n2\">{renderConfirmationMessage() || helpText}</p>\n          </div>\n        ),\n      }}\n    />\n  );\n};\n\nEditableField.propTypes = {\n  name: PropTypes.string.isRequired,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.node]),\n  emptyLabel: PropTypes.node,\n  type: PropTypes.string.isRequired,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  userSuppliedValue: PropTypes.string,\n  saveState: PropTypes.oneOf(['default', 'pending', 'complete', 'error']),\n  error: PropTypes.string,\n  confirmationMessageDefinition: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    defaultMessage: PropTypes.string.isRequired,\n    description: PropTypes.string,\n  }),\n  confirmationValue: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  helpText: PropTypes.node,\n  onEdit: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  isEditing: PropTypes.bool,\n  isEditable: PropTypes.bool,\n  isGrayedOut: PropTypes.bool,\n  intl: intlShape.isRequired,\n};\n\nEditableField.defaultProps = {\n  value: undefined,\n  saveState: undefined,\n  label: undefined,\n  emptyLabel: undefined,\n  error: undefined,\n  confirmationMessageDefinition: undefined,\n  confirmationValue: undefined,\n  helpText: undefined,\n  isEditing: false,\n  isEditable: true,\n  isGrayedOut: false,\n  userSuppliedValue: undefined,\n};\n\nexport default connect(editableFieldSelector, {\n  onEdit: openForm,\n  onCancel: closeForm,\n})(injectIntl(EditableField));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport {\n  Button, Form, StatefulButton,\n} from '@edx/paragon';\nimport { faPencilAlt } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport SwitchContent from './SwitchContent';\nimport messages from './AccountSettingsPage.messages';\n\nimport {\n  openForm,\n  closeForm,\n} from './data/actions';\nimport { editableFieldSelector } from './data/selectors';\nimport CertificatePreference from './certificate-preference/CertificatePreference';\n\nconst EditableSelectField = (props) => {\n  const {\n    name,\n    label,\n    emptyLabel,\n    type,\n    value,\n    userSuppliedValue,\n    options,\n    saveState,\n    error,\n    confirmationMessageDefinition,\n    confirmationValue,\n    helpText,\n    onEdit,\n    onCancel,\n    onSubmit,\n    onChange,\n    isEditing,\n    isEditable,\n    isGrayedOut,\n    intl,\n    ...others\n  } = props;\n  const id = `field-${name}`;\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit(name, new FormData(e.target).get(name));\n  };\n\n  const handleChange = (e) => {\n    onChange(name, e.target.value);\n  };\n\n  const handleEdit = () => {\n    onEdit(name);\n  };\n\n  const handleCancel = () => {\n    onCancel(name);\n  };\n\n  const renderEmptyLabel = () => {\n    if (isEditable) {\n      return <Button variant=\"link\" onClick={handleEdit} className=\"p-0\">{emptyLabel}</Button>;\n    }\n    return <span className=\"text-muted\">{emptyLabel}</span>;\n  };\n\n  const renderValue = (rawValue) => {\n    if (!rawValue) {\n      return renderEmptyLabel();\n    }\n    let finalValue = rawValue;\n\n    if (options) {\n      // Use == instead of === to prevent issues when HTML casts numbers as strings\n      // eslint-disable-next-line eqeqeq\n      const selectedOption = options.find(option => option.value == rawValue);\n      if (selectedOption) {\n        finalValue = selectedOption.label;\n      }\n    }\n\n    if (userSuppliedValue) {\n      finalValue += `: ${userSuppliedValue}`;\n    }\n\n    return finalValue;\n  };\n\n  const renderConfirmationMessage = () => {\n    if (!confirmationMessageDefinition || !confirmationValue) {\n      return null;\n    }\n    return intl.formatMessage(confirmationMessageDefinition, {\n      value: confirmationValue,\n    });\n  };\n  const selectOptions = options.map((option) => {\n    if (option.group) {\n      // If the option has a 'group' property, it represents an element with sub-options.\n      return (\n        <optgroup label={option.label} key={option.label}>\n          {option.group.map((subOption) => (\n            <option\n              value={subOption.value}\n              key={`${subOption.value}-${subOption.label}`}\n            >\n              {subOption.label}\n            </option>\n          ))}\n        </optgroup>\n      );\n    }\n    return (\n      <option value={option.value} key={`${option.value}-${option.label}`}>\n        {option.label}\n      </option>\n    );\n  });\n\n  return (\n    <SwitchContent\n      expression={isEditing ? 'editing' : 'default'}\n      cases={{\n        editing: (\n          <>\n            <form onSubmit={handleSubmit}>\n              <Form.Group\n                controlId={id}\n                isInvalid={error != null}\n              >\n                <Form.Label size=\"sm\" className=\"h6 d-block\" htmlFor={id}>{label}</Form.Label>\n                <Form.Control\n                  data-hj-suppress\n                  name={name}\n                  id={id}\n                  type={type}\n                  as={type}\n                  value={value}\n                  onChange={handleChange}\n                  {...others}\n                >\n                  {options.length > 0 && selectOptions}\n                </Form.Control>\n                {!!helpText && <Form.Text>{helpText}</Form.Text>}\n                {error != null && <Form.Control.Feedback>{error}</Form.Control.Feedback>}\n                {others.children}\n              </Form.Group>\n              <p>\n                <StatefulButton\n                  type=\"submit\"\n                  className=\"mr-2\"\n                  state={saveState}\n                  labels={{\n                    default: intl.formatMessage(messages['account.settings.editable.field.action.save']),\n                  }}\n                  onClick={(e) => {\n                    // Swallow clicks if the state is pending.\n                    // We do this instead of disabling the button to prevent\n                    // it from losing focus (disabled elements cannot have focus).\n                    // Disabling it would causes upstream issues in focus management.\n                    // Swallowing the onSubmit event on the form would be better, but\n                    // we would have to add that logic for every field given our\n                    // current structure of the application.\n                    if (saveState === 'pending') { e.preventDefault(); }\n                  }}\n                  disabledStates={[]}\n                />\n                <Button\n                  variant=\"outline-primary\"\n                  onClick={handleCancel}\n                >\n                  {intl.formatMessage(messages['account.settings.editable.field.action.cancel'])}\n                </Button>\n              </p>\n            </form>\n            {['name', 'verified_name'].includes(name) && <CertificatePreference fieldName={name} />}\n          </>\n        ),\n        default: (\n          <div className=\"form-group\">\n            <div className=\"d-flex align-items-start\">\n              <h6 aria-level=\"3\">{label}</h6>\n              {isEditable ? (\n                <Button variant=\"link\" onClick={handleEdit} className=\"ml-3\">\n                  <FontAwesomeIcon className=\"mr-1\" icon={faPencilAlt} />{intl.formatMessage(messages['account.settings.editable.field.action.edit'])}\n                </Button>\n              ) : null}\n            </div>\n            <p data-hj-suppress className={isGrayedOut ? 'grayed-out' : null}>{renderValue(value)}</p>\n            <p className=\"small text-muted mt-n2\">{renderConfirmationMessage() || helpText}</p>\n          </div>\n        ),\n      }}\n    />\n  );\n};\n\nEditableSelectField.propTypes = {\n  name: PropTypes.string.isRequired,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.node]),\n  emptyLabel: PropTypes.node,\n  type: PropTypes.string.isRequired,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  userSuppliedValue: PropTypes.string,\n  options: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  })),\n  saveState: PropTypes.oneOf(['default', 'pending', 'complete', 'error']),\n  error: PropTypes.string,\n  confirmationMessageDefinition: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    defaultMessage: PropTypes.string.isRequired,\n    description: PropTypes.string,\n  }),\n  confirmationValue: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  helpText: PropTypes.node,\n  onEdit: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  isEditing: PropTypes.bool,\n  isEditable: PropTypes.bool,\n  isGrayedOut: PropTypes.bool,\n  intl: intlShape.isRequired,\n};\n\nEditableSelectField.defaultProps = {\n  value: undefined,\n  options: [],\n  saveState: undefined,\n  label: undefined,\n  emptyLabel: undefined,\n  error: undefined,\n  confirmationMessageDefinition: undefined,\n  confirmationValue: undefined,\n  helpText: undefined,\n  isEditing: false,\n  isEditable: true,\n  isGrayedOut: false,\n  userSuppliedValue: undefined,\n};\n\nexport default connect(editableFieldSelector, {\n  onEdit: openForm,\n  onCancel: closeForm,\n})(injectIntl(EditableSelectField));\n","import { AsyncActionType } from '../../data/utils';\n\nexport const RESET_PASSWORD = new AsyncActionType('ACCOUNT_SETTINGS', 'RESET_PASSWORD');\n\nexport const resetPassword = email => ({\n  type: RESET_PASSWORD.BASE,\n  payload: { email },\n});\n\nexport const resetPasswordBegin = () => ({\n  type: RESET_PASSWORD.BEGIN,\n});\n\nexport const resetPasswordSuccess = () => ({\n  type: RESET_PASSWORD.SUCCESS,\n});\n\nexport const resetPasswordReset = () => ({\n  type: RESET_PASSWORD.RESET,\n});\n\nexport const resetPasswordForbidden = () => ({\n  type: RESET_PASSWORD.FORBIDDEN,\n});\n","import { defineMessages } from '@edx/frontend-platform/i18n';\n\nconst messages = defineMessages({\n  'account.settings.editable.field.password.reset.button': {\n    id: 'account.settings.editable.field.password.reset.button',\n    defaultMessage: 'Reset Password',\n    description: 'The password reset button in account settings',\n  },\n});\n\nexport default messages;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { getConfig } from '@edx/frontend-platform';\nimport { FormattedMessage } from '@edx/frontend-platform/i18n';\nimport { Hyperlink } from '@edx/paragon';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faExclamationTriangle } from '@fortawesome/free-solid-svg-icons';\n\nimport Alert from '../Alert';\n\nconst ConfirmationAlert = (props) => {\n  const { email } = props;\n\n  const technicalSupportLink = (\n    <Hyperlink\n      destination={getConfig().PASSWORD_RESET_SUPPORT_LINK}\n    >\n      <FormattedMessage\n        id=\"account.settings.editable.field.password.reset.button.confirmation.support.link\"\n        defaultMessage=\"technical support\"\n        description=\"link text used in message: account.settings.editable.field.password.reset.button.confirmation 'Contact technical support.'\"\n      />\n    </Hyperlink>\n  );\n\n  return (\n    <Alert\n      className=\"alert-warning mt-n2\"\n      icon={<FontAwesomeIcon className=\"mr-2\" icon={faExclamationTriangle} />}\n    >\n      <FormattedMessage\n        id=\"account.settings.editable.field.password.reset.button.confirmation\"\n        defaultMessage=\"We've sent a message to {email}. Click the link in the message to reset your password. Didn't receive the message? Contact {technicalSupportLink}.\"\n        description=\"The password reset button in account settings\"\n        values={{\n          email,\n          technicalSupportLink,\n        }}\n      />\n    </Alert>\n  );\n};\n\nConfirmationAlert.propTypes = {\n  email: PropTypes.string.isRequired,\n};\n\nexport default ConfirmationAlert;\n","import React from 'react';\nimport { FormattedMessage } from '@edx/frontend-platform/i18n';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faExclamationTriangle } from '@fortawesome/free-solid-svg-icons';\n\nimport Alert from '../Alert';\n\nconst RequestInProgressAlert = () => (\n  <Alert\n    className=\"alert-warning mt-n2\"\n    icon={<FontAwesomeIcon className=\"mr-2\" icon={faExclamationTriangle} />}\n  >\n    <FormattedMessage\n      id=\"account.settings.editable.field.password.reset.button.forbidden\"\n      defaultMessage=\"Your previous request is in progress, please try again in few moments.\"\n      description=\"A message displayed when a previous password reset request is still in progress.\"\n    />\n  </Alert>\n);\n\nexport default RequestInProgressAlert;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { injectIntl, intlShape, FormattedMessage } from '@edx/frontend-platform/i18n';\nimport { StatefulButton } from '@edx/paragon';\n\nimport { resetPassword } from './data/actions';\nimport messages from './messages';\nimport ConfirmationAlert from './ConfirmationAlert';\nimport RequestInProgressAlert from './RequestInProgressAlert';\n\nconst ResetPassword = (props) => {\n  const { email, intl, status } = props;\n  return (\n    <div className=\"form-group\">\n      <h6 aria-level=\"3\">\n        <FormattedMessage\n          id=\"account.settings.editable.field.password.reset.label\"\n          defaultMessage=\"Password\"\n          description=\"The password label in account settings\"\n        />\n      </h6>\n      <p>\n        <StatefulButton\n          variant=\"link\"\n          state={status}\n          onClick={(e) => {\n            // Swallow clicks if the state is pending.\n            // We do this instead of disabling the button to prevent\n            // it from losing focus (disabled elements cannot have focus).\n            // Disabling it would causes upstream issues in focus management.\n            // Swallowing the onSubmit event on the form would be better, but\n            // we would have to add that logic for every field given our\n            // current structure of the application.\n            if (status === 'pending') {\n              e.preventDefault();\n            }\n            props.resetPassword(email);\n          }}\n          disabledStates={[]}\n          labels={{\n            default: intl.formatMessage(messages['account.settings.editable.field.password.reset.button']),\n          }}\n        />\n      </p>\n      {status === 'complete' ? <ConfirmationAlert email={email} /> : null}\n      {status === 'forbidden' ? <RequestInProgressAlert /> : null}\n    </div>\n  );\n};\n\nResetPassword.propTypes = {\n  email: PropTypes.string,\n  intl: intlShape.isRequired,\n  resetPassword: PropTypes.func.isRequired,\n  status: PropTypes.string,\n};\n\nResetPassword.defaultProps = {\n  email: '',\n  status: null,\n};\n\nconst mapStateToProps = state => state.accountSettings.resetPassword;\n\nexport default connect(\n  mapStateToProps,\n  {\n    resetPassword,\n  },\n)(injectIntl(ResetPassword));\n","import { RESET_PASSWORD } from './actions';\n\nexport const defaultState = {\n  status: null,\n};\n\nconst reducer = (state = defaultState, action = null) => {\n  if (action !== null) {\n    switch (action.type) {\n      case RESET_PASSWORD.BEGIN:\n        return {\n          ...state,\n          status: 'pending',\n        };\n      case RESET_PASSWORD.SUCCESS:\n        return {\n          ...state,\n          status: 'complete',\n        };\n      case RESET_PASSWORD.FORBIDDEN:\n        return {\n          ...state,\n          status: 'forbidden',\n        };\n\n      default:\n    }\n  }\n  return state;\n};\n\nexport default reducer;\n","import { getConfig } from '@edx/frontend-platform';\nimport { getAuthenticatedHttpClient } from '@edx/frontend-platform/auth';\nimport formurlencoded from 'form-urlencoded';\nimport { handleRequestError } from '../../data/utils';\n\n// eslint-disable-next-line import/prefer-default-export\nexport async function postResetPassword(email) {\n  const { data } = await getAuthenticatedHttpClient()\n    .post(\n      `${getConfig().LMS_BASE_URL}/password_reset/`,\n      formurlencoded({ email }),\n      {\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      },\n    )\n    .catch(handleRequestError);\n\n  return data;\n}\n","import { put, call, takeEvery } from 'redux-saga/effects';\n\nimport {\n  resetPasswordBegin, resetPasswordForbidden, resetPasswordSuccess, RESET_PASSWORD,\n} from './actions';\nimport { postResetPassword } from './service';\n\nfunction* handleResetPassword(action) {\n  yield put(resetPasswordBegin());\n  try {\n    const response = yield call(postResetPassword, action.payload.email);\n    yield put(resetPasswordSuccess(response));\n  } catch (error) {\n    if (error.response && error.response.status === 403) {\n      yield put(resetPasswordForbidden(error));\n    } else {\n      throw error;\n    }\n  }\n}\n\nexport default function* saga() {\n  yield takeEvery(RESET_PASSWORD.BASE, handleResetPassword);\n}\n","import { AsyncActionType } from '../../data/utils';\n\nexport const REQUEST_NAME_CHANGE = new AsyncActionType('ACCOUNT_SETTINGS', 'REQUEST_NAME_CHANGE');\n\nexport const requestNameChange = (username, profileName, verifiedName) => ({\n  type: REQUEST_NAME_CHANGE.BASE,\n  payload: { username, profileName, verifiedName },\n});\n\nexport const requestNameChangeBegin = () => ({\n  type: REQUEST_NAME_CHANGE.BEGIN,\n});\n\nexport const requestNameChangeSuccess = () => ({\n  type: REQUEST_NAME_CHANGE.SUCCESS,\n});\n\nexport const requestNameChangeFailure = errors => ({\n  type: REQUEST_NAME_CHANGE.FAILURE,\n  payload: { errors },\n});\n\nexport const requestNameChangeReset = () => ({\n  type: REQUEST_NAME_CHANGE.RESET,\n});\n","import { defineMessages } from '@edx/frontend-platform/i18n';\n\nconst messages = defineMessages({\n  'account.settings.name.change.title.id': {\n    id: 'account.settings.name.change.title.id',\n    defaultMessage: 'This name change requires identity verification',\n    description: 'Inform the user that changing their name requires identity verification',\n  },\n  'account.settings.name.change.title.begin': {\n    id: 'account.settings.name.change.title.begin',\n    defaultMessage: 'Before we begin',\n    description: 'Title before beginning the ID verification process',\n  },\n  'account.settings.name.change.warning.one': {\n    id: 'account.settings.name.change.warning.one',\n    defaultMessage: 'Warning: This action updates the name that appears on all certificates that have been earned on this account in the past and any certificates you are currently earning or will earn in the future.',\n    description: 'Warning informing the user that a name change will update the name on all of their certificates.',\n  },\n  'account.settings.name.change.warning.two': {\n    id: 'account.settings.name.change.warning.two',\n    defaultMessage: 'This action cannot be undone without verifying your identity.',\n    description: 'Warning informing the user that a name change cannot be undone without ID verification.',\n  },\n  'account.settings.name.change.id.name.label': {\n    id: 'account.settings.name.change.id.name.label',\n    defaultMessage: 'Enter your name as it appears on your unexpired student, work, or government-issued identification card.',\n    description: 'Form label instructing the user to enter the name on their ID.',\n  },\n  'account.settings.name.change.id.name.placeholder': {\n    id: 'account.settings.name.change.id.name.placeholder',\n    defaultMessage: 'Enter the name on your photo ID',\n    description: 'Form label instructing the user to enter the name on their ID.',\n  },\n  'account.settings.name.change.error.valid.name': {\n    id: 'account.settings.name.change.error.valid.name',\n    defaultMessage: 'Please enter a valid name.',\n    description: 'Error that appears when the user doesnt enter a valid name.',\n  },\n  'account.settings.name.change.error.general': {\n    id: 'account.settings.name.change.error.general',\n    defaultMessage: 'A technical error occurred. Please try again.',\n    description: 'Generic error message.',\n  },\n  'account.settings.name.change.continue': {\n    id: 'account.settings.name.change.continue',\n    defaultMessage: 'Continue',\n    description: 'Continue button.',\n  },\n  'account.settings.name.change.cancel': {\n    id: 'account.settings.name.change.cancel',\n    defaultMessage: 'Cancel',\n    description: 'Cancel button.',\n  },\n});\n\nexport default messages;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { connect, useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport { getAuthenticatedUser } from '@edx/frontend-platform/auth';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport {\n  ActionRow,\n  Alert,\n  Button,\n  Col,\n  Form,\n  ModalDialog,\n  StatefulButton,\n} from '@edx/paragon';\n\nimport { closeForm, saveSettingsReset } from '../data/actions';\nimport { nameChangeSelector } from '../data/selectors';\n\nimport { requestNameChange, requestNameChangeFailure, requestNameChangeReset } from './data/actions';\nimport messages from './messages';\n\nconst NameChangeModal = ({\n  targetFormId,\n  errors,\n  formValues,\n  intl,\n  saveState,\n}) => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const { username } = getAuthenticatedUser();\n  const [verifiedNameInput, setVerifiedNameInput] = useState(formValues.verified_name || '');\n  const [confirmedWarning, setConfirmedWarning] = useState(false);\n\n  const resetLocalState = useCallback(() => {\n    setConfirmedWarning(false);\n    dispatch(requestNameChangeReset());\n  }, [dispatch]);\n\n  const handleChange = (e) => {\n    setVerifiedNameInput(e.target.value);\n  };\n\n  const handleClose = useCallback(() => {\n    resetLocalState();\n    dispatch(closeForm(targetFormId));\n    dispatch(saveSettingsReset());\n  }, [dispatch, resetLocalState, targetFormId]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (saveState === 'pending') {\n      return;\n    }\n\n    if (!verifiedNameInput) {\n      dispatch(requestNameChangeFailure({\n        verified_name: intl.formatMessage(messages['account.settings.name.change.error.valid.name']),\n      }));\n    } else {\n      const draftProfileName = targetFormId === 'name' ? formValues.name : null;\n      dispatch(requestNameChange(username, draftProfileName, verifiedNameInput));\n    }\n  };\n\n  useEffect(() => {\n    if (saveState === 'complete') {\n      handleClose();\n      navigate(`/id-verification?next=${encodeURIComponent('account/settings')}`);\n    }\n  }, [handleClose, navigate, saveState]);\n\n  function renderErrors() {\n    if (Object.keys(errors).length > 0) {\n      return (\n        <>\n          {Object.entries(errors).map(([key, value]) => (\n            <Form.Control.Feedback type=\"invalid\" key={key}>\n              {\n                key === 'general_error'\n                  ? intl.formatMessage(messages['account.settings.name.change.error.general'])\n                  : value\n              }\n            </Form.Control.Feedback>\n          ))}\n        </>\n      );\n    }\n    return null;\n  }\n\n  function renderTitle() {\n    if (!confirmedWarning) {\n      return intl.formatMessage(messages['account.settings.name.change.title.id']);\n    }\n\n    return intl.formatMessage(messages['account.settings.name.change.title.begin']);\n  }\n\n  function renderBody() {\n    if (!confirmedWarning) {\n      return (\n        <Alert variant=\"warning\">\n          <p>\n            {intl.formatMessage(messages['account.settings.name.change.warning.one'])}\n          </p>\n          <p>\n            {intl.formatMessage(messages['account.settings.name.change.warning.two'])}\n          </p>\n        </Alert>\n      );\n    }\n\n    return (\n      <Form.Group as={Col} isInvalid={Object.keys(errors).length > 0}>\n        <Form.Label>\n          {intl.formatMessage(messages['account.settings.name.change.id.name.label'])}\n        </Form.Label>\n        <Form.Control\n          type=\"text\"\n          name=\"verifiedName\"\n          placeholder={intl.formatMessage(messages['account.settings.name.change.id.name.placeholder'])}\n          value={verifiedNameInput}\n          onChange={handleChange}\n        />\n        {renderErrors()}\n      </Form.Group>\n    );\n  }\n\n  function renderContinueButton() {\n    if (!confirmedWarning) {\n      return (\n        <Button variant=\"primary\" onClick={() => setConfirmedWarning(true)}>\n          {intl.formatMessage(messages['account.settings.name.change.continue'])}\n        </Button>\n      );\n    }\n\n    return (\n      <StatefulButton\n        type=\"submit\"\n        state={saveState}\n        labels={{\n          default: intl.formatMessage(messages['account.settings.name.change.continue']),\n        }}\n        disabledStates={[]}\n      />\n    );\n  }\n\n  return (\n    <ModalDialog\n      title={renderTitle()}\n      isOpen\n      hasCloseButton={false}\n      onClose={handleClose}\n    >\n\n      <Form onSubmit={handleSubmit}>\n        <ModalDialog.Header>\n          <ModalDialog.Title>\n            {renderTitle()}\n          </ModalDialog.Title>\n        </ModalDialog.Header>\n\n        <ModalDialog.Body className=\"mb-3 overflow-hidden\">\n          {renderBody()}\n        </ModalDialog.Body>\n\n        <ModalDialog.Footer>\n          <ActionRow>\n            <ModalDialog.CloseButton variant=\"tertiary\">\n              {intl.formatMessage(messages['account.settings.name.change.cancel'])}\n            </ModalDialog.CloseButton>\n            {renderContinueButton()}\n          </ActionRow>\n        </ModalDialog.Footer>\n      </Form>\n\n    </ModalDialog>\n  );\n};\n\nNameChangeModal.propTypes = {\n  targetFormId: PropTypes.string.isRequired,\n  errors: PropTypes.shape({}).isRequired,\n  formValues: PropTypes.shape({\n    name: PropTypes.string,\n    verified_name: PropTypes.string,\n  }).isRequired,\n  saveState: PropTypes.string,\n  intl: intlShape.isRequired,\n};\n\nNameChangeModal.defaultProps = {\n  saveState: null,\n};\n\nexport default connect(nameChangeSelector)(injectIntl(NameChangeModal));\n","import { REQUEST_NAME_CHANGE } from './actions';\n\nexport const defaultState = {\n  saveState: null,\n  errors: {},\n};\n\nconst reducer = (state = defaultState, action = null) => {\n  if (action !== null) {\n    switch (action.type) {\n      case REQUEST_NAME_CHANGE.BEGIN:\n        return {\n          ...state,\n          saveState: 'pending',\n          errors: {},\n        };\n\n      case REQUEST_NAME_CHANGE.SUCCESS:\n        return {\n          ...state,\n          saveState: 'complete',\n        };\n\n      case REQUEST_NAME_CHANGE.FAILURE:\n        return {\n          ...state,\n          saveState: 'error',\n          errors: action.payload.errors || { general_error: 'A technical error occurred. Please try again.' },\n        };\n\n      case REQUEST_NAME_CHANGE.RESET:\n        return {\n          ...state,\n          saveState: null,\n          errors: {},\n        };\n\n      default:\n    }\n  }\n  return state;\n};\n\nexport default reducer;\n","import { AsyncActionType } from '../../data/utils';\n\nexport const DISCONNECT_AUTH = new AsyncActionType('ACCOUNT_SETTINGS', 'DISCONNECT_AUTH');\n\nexport const disconnectAuth = (url, providerId) => ({\n  type: DISCONNECT_AUTH.BASE, payload: { url, providerId },\n});\nexport const disconnectAuthBegin = providerId => ({\n  type: DISCONNECT_AUTH.BEGIN, payload: { providerId },\n});\nexport const disconnectAuthSuccess = (providerId, thirdPartyAuthProviders) => ({\n  type: DISCONNECT_AUTH.SUCCESS,\n  payload: { providerId, thirdPartyAuthProviders },\n});\nexport const disconnectAuthFailure = providerId => ({\n  type: DISCONNECT_AUTH.FAILURE, payload: { providerId },\n});\nexport const disconnectAuthReset = providerId => ({\n  type: DISCONNECT_AUTH.RESET, payload: { providerId },\n});\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { FormattedMessage } from '@edx/frontend-platform/i18n';\nimport { Hyperlink, StatefulButton } from '@edx/paragon';\n\nimport Alert from '../Alert';\nimport { disconnectAuth } from './data/actions';\n\nclass ThirdPartyAuth extends Component {\n  onClickDisconnect = (e) => {\n    e.preventDefault();\n    const providerId = e.currentTarget.getAttribute('data-provider-id');\n    if (this.props.disconnectionStatuses[providerId] === 'pending') {\n      return;\n    }\n    const disconnectUrl = e.currentTarget.getAttribute('data-disconnect-url');\n    this.props.disconnectAuth(disconnectUrl, providerId);\n  };\n\n  renderUnconnectedProvider(url, name) {\n    return (\n      <>\n        <h6 aria-level=\"3\">{name}</h6>\n        <Hyperlink destination={url} className=\"btn btn-outline-primary\">\n          <FormattedMessage\n            id=\"account.settings.sso.link.account\"\n            defaultMessage=\"Sign in with {name}\"\n            description=\"An action link to link a connected third party account.m {name} will be Google, Facebook, etc.\"\n            values={{ name }}\n          />\n        </Hyperlink>\n      </>\n    );\n  }\n\n  renderConnectedProvider(url, name, id) {\n    const hasError = this.props.errors[id];\n\n    return (\n      <>\n        <h6 aria-level=\"3\">\n          {name}\n          <span className=\"small font-weight-normal text-muted ml-2\">\n            <FormattedMessage\n              id=\"account.settings.sso.account.connected\"\n              defaultMessage=\"Linked\"\n              description=\"A badge to show that a third party account is linked\"\n            />\n          </span>\n        </h6>\n        {hasError ? (\n          <Alert className=\"alert-danger\">\n            <FormattedMessage\n              id=\"account.settings.sso.account.disconnect.error\"\n              defaultMessage=\"There was a problem disconnecting this account. Contact support if the problem persists.\"\n              description=\"A message displayed when an error occurred while disconnecting a third party account\"\n            />\n          </Alert>\n        ) : null}\n\n        <StatefulButton\n          variant=\"link\"\n          state={this.props.disconnectionStatuses[id]}\n          labels={{\n            default: (\n              <FormattedMessage\n                id=\"account.settings.sso.unlink.account\"\n                defaultMessage=\"Unlink {name} account\"\n                description=\"An action link to unlink a connected third party account\"\n                values={{ name }}\n              />\n            ),\n          }}\n          onClick={this.onClickDisconnect}\n          disabledStates={[]}\n          data-disconnect-url={url}\n          data-provider-id={id}\n        />\n      </>\n    );\n  }\n\n  renderProvider({\n    name, disconnectUrl, connectUrl, connected, id,\n  }) {\n    return (\n      <div className=\"form-group\" key={id}>\n        {\n          connected\n            ? this.renderConnectedProvider(disconnectUrl, name, id)\n            : this.renderUnconnectedProvider(connectUrl, name)\n        }\n      </div>\n    );\n  }\n\n  renderNoProviders() {\n    return (\n      <FormattedMessage\n        id=\"account.settings.sso.no.providers\"\n        defaultMessage=\"No accounts can be linked at this time.\"\n        description=\"Displayed when no third-party accounts are available for the user to link to their account on the platform.\"\n      />\n    );\n  }\n\n  render() {\n    if (this.props.providers === undefined) {\n      return null;\n    }\n\n    if (this.props.providers.length === 0) {\n      return this.renderNoProviders();\n    }\n\n    return this.props.providers.map(this.renderProvider, this);\n  }\n}\n\nThirdPartyAuth.propTypes = {\n  providers: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string,\n    disconnectUrl: PropTypes.string,\n    connectUrl: PropTypes.string,\n    connected: PropTypes.bool,\n    id: PropTypes.string,\n  })),\n  disconnectionStatuses: PropTypes.objectOf(PropTypes.oneOf([null, 'pending', 'complete', 'error'])),\n  errors: PropTypes.objectOf(PropTypes.bool),\n  disconnectAuth: PropTypes.func.isRequired,\n};\n\nThirdPartyAuth.defaultProps = {\n  providers: undefined,\n  disconnectionStatuses: {},\n  errors: {},\n};\n\nconst mapStateToProps = state => state.accountSettings.thirdPartyAuth;\n\nexport default connect(\n  mapStateToProps,\n  {\n    disconnectAuth,\n  },\n)(ThirdPartyAuth);\n","import { DISCONNECT_AUTH } from './actions';\n\nexport const defaultState = {\n  providers: [],\n  disconnectionStatuses: {},\n  errors: {},\n};\n\nconst reducer = (state = defaultState, action = null) => {\n  if (action !== null) {\n    switch (action.type) {\n      case DISCONNECT_AUTH.BEGIN:\n        return {\n          ...state,\n          disconnectionStatuses: {\n            ...state.disconnectionStatuses,\n            [action.payload.providerId]: 'pending',\n          },\n        };\n      case DISCONNECT_AUTH.SUCCESS:\n        return {\n          ...state,\n          disconnectionStatuses: {\n            ...state.disconnectionStatuses,\n            [action.payload.providerId]: 'complete',\n          },\n          providers: action.payload.thirdPartyAuthProviders,\n        };\n      case DISCONNECT_AUTH.FAILURE:\n        return {\n          ...state,\n          disconnectionStatuses: {\n            ...state.disconnectionStatuses,\n            [action.payload.providerId]: 'error',\n          },\n          errors: {\n            ...state.errors,\n            [action.payload.providerId]: true,\n          },\n        };\n      case DISCONNECT_AUTH.RESET:\n        return {\n          ...state,\n          disconnectionStatuses: {\n            ...state.disconnectionStatuses,\n            [action.payload.providerId]: null,\n          },\n          errors: {\n            ...state.errors,\n            [action.payload.providerId]: null,\n          },\n        };\n      default:\n    }\n  }\n  return state;\n};\n\nexport default reducer;\n","import { getConfig } from '@edx/frontend-platform';\nimport { getAuthenticatedHttpClient } from '@edx/frontend-platform/auth';\n\nimport { handleRequestError } from '../../data/utils';\n\nexport async function getThirdPartyAuthProviders() {\n  const { data } = await getAuthenticatedHttpClient()\n    .get(`${getConfig().LMS_BASE_URL}/api/third_party_auth/v0/providers/user_status`)\n    .catch(handleRequestError);\n\n  return data.map(({ connect_url: connectUrl, disconnect_url: disconnectUrl, ...provider }) => ({\n    ...provider,\n    connectUrl: `${getConfig().LMS_BASE_URL}${connectUrl}`,\n    disconnectUrl: `${getConfig().LMS_BASE_URL}${disconnectUrl}`,\n  }));\n}\n\nexport async function postDisconnectAuth(url) {\n  const { data } = await getAuthenticatedHttpClient()\n    .post(url)\n    .catch(handleRequestError);\n  return data;\n}\n","import { call, put, takeEvery } from 'redux-saga/effects';\nimport { logError } from '@edx/frontend-platform/logging';\n\nimport {\n  disconnectAuthReset,\n  disconnectAuthBegin,\n  disconnectAuthSuccess,\n  disconnectAuthFailure,\n  DISCONNECT_AUTH,\n} from './actions';\n\nimport {\n  getThirdPartyAuthProviders,\n  postDisconnectAuth,\n} from './service';\n\nfunction* handleDisconnectAuth(action) {\n  const { providerId } = action.payload;\n  try {\n    yield put(disconnectAuthReset(providerId));\n    yield put(disconnectAuthBegin(providerId));\n    yield call(postDisconnectAuth, action.payload.url);\n    const thirdPartyAuthProviders = yield call(getThirdPartyAuthProviders);\n    yield put(disconnectAuthSuccess(providerId, thirdPartyAuthProviders));\n  } catch (e) {\n    logError(e);\n    yield put(disconnectAuthFailure(providerId));\n  }\n}\n\nexport default function* saga() {\n  yield takeEvery(DISCONNECT_AUTH.BASE, handleDisconnectAuth);\n}\n","export const TO = 'to';\nexport const FROM = 'from';\nexport const DEMOGRAPHICS_FIELDS = [\n  'demographics_gender',\n  'demographics_gender_description',\n  'demographics_income',\n  'demographics_learner_education_level',\n  'demographics_parent_education_level',\n  'demographics_military_history',\n  'demographics_work_status',\n  'demographics_work_status_description',\n  'demographics_current_work_sector',\n  'demographics_future_work_sector',\n  'demographics_user_ethnicity',\n];\n\n// Frontend wants (example):\n//    demographics_user_ethnicity: [\"asian\", \"white\", \"other\"]\n//\n// Demographics wants (example):\n//    user_ethnicity: [\n//      { ethnicity: \"asian\" },\n//      { ethnicity: \"white\" },\n//      { ethnicity: \"other\" }\n//    ]\nfunction convertEthnicity(ethnicityData, direction) {\n  if (direction === FROM) {\n    return ethnicityData.map(e => e.ethnicity);\n  }\n\n  if (direction === TO) {\n    return ethnicityData.map(e => ({ ethnicity: e }));\n  }\n\n  return ethnicityData;\n}\n\n// Handles conversion of data to/from Demographics IDA to/from format needed for\n// frontend\n//  * handles ethnicity field\n//  * adds/removes 'demographics' to/from key\n//  * replace `null` with empty string or empty string with null\nexport function convertData(dataObject, direction) {\n  const converted = {};\n\n  Object.entries(dataObject).forEach(([key, value]) => {\n    let newValue = value;\n\n    if (key.includes('ethnicity')) {\n      newValue = convertEthnicity(value, direction);\n    }\n\n    if (direction === TO) {\n      converted[key.replace('demographics_', '')] = newValue || null;\n    }\n\n    if (direction === FROM) {\n      converted[`demographics_${key}`] = newValue || '';\n    }\n  });\n\n  return converted;\n}\n","import { getAuthenticatedHttpClient } from '@edx/frontend-platform/auth';\nimport { getConfig } from '@edx/frontend-platform';\nimport get from 'lodash.get';\nimport { convertData, TO, FROM } from './utils';\n\n/**\n * Utility method that attempts to extract errors from the response of a PATCH request in order to\n * display a warning or otherwise meaningful message to the user.\n *\n * @param {Error} error\n */\nexport function createDemographicsError(error) {\n  const apiError = Object.create(error);\n  // If the error received has the `httpResponseData` field in it, then we should have reason to\n  // believe the Demographics service is alive and responding. Extract errors from fields where\n  // appropriate so we can display them to the user.\n  if (get(error, 'customAttributes.httpErrorResponseData')) {\n    apiError.fieldErrors = JSON.parse(error.customAttributes.httpErrorResponseData);\n    if (get(apiError, 'fieldErrors.gender_description')) {\n      // eslint-disable-next-line prefer-destructuring\n      apiError.fieldErrors.demographics_gender = apiError.fieldErrors.gender_description[0];\n      delete apiError.fieldErrors.gender_description;\n    } else if (get(apiError, 'fieldErrors.work_status_description')) {\n      // eslint-disable-next-line prefer-destructuring\n      apiError.fieldErrors.demographics_work_status = apiError.fieldErrors.work_status_description[0];\n      delete apiError.fieldErrors.work_status_description;\n    }\n  // Otherwise, when the service is down, the error response will not contain a\n  // `httpErrorResponseData` field. Add a generic 'demographicsError' field to the fieldErrors that\n  // will trigger showing an Alert to the user to them them know the update was unsuccessful.\n  } else {\n    apiError.fieldErrors = {\n      demographicsError: error.customAttributes.httpErrorType,\n    };\n  }\n\n  return apiError;\n}\n\n/**\n * post all of the data related to demographics.\n * @param {Number} userId users are identified in the api by LMS id\n * @param {Object} commitValues { demographics }\n */\nexport async function postDemographics(userId) {\n  const requestConfig = { headers: { 'Content-Type': 'application/json' } };\n  const requestUrl = `${getConfig().DEMOGRAPHICS_BASE_URL}/demographics/api/v1/demographics/`;\n  const commitValues = { user: userId };\n  let data = {};\n\n  ({ data } = await getAuthenticatedHttpClient()\n    .post(requestUrl, commitValues, requestConfig)\n    .catch((error) => {\n      const apiError = createDemographicsError(error);\n      throw apiError;\n    }));\n\n  return convertData(data, FROM);\n}\n\n/**\n * get all data related to the demographics.\n * @param {Number} userId users are identified in the api by LMS id\n */\nexport async function getDemographics(userId) {\n  const requestUrl = `${getConfig().DEMOGRAPHICS_BASE_URL}/demographics/api/v1/demographics/${userId}/`;\n  let data = {};\n\n  try {\n    ({ data } = await getAuthenticatedHttpClient()\n      .get(requestUrl));\n\n    data = convertData(data, FROM);\n  } catch (error) {\n    const apiError = Object.create(error);\n    // if the API called resulted in this user receiving a 404 then follow up with a POST call to\n    // try and create the demographics entity on the backend\n    if (apiError.customAttributes.httpErrorStatus) {\n      if (apiError.customAttributes.httpErrorStatus === 404) {\n        data = await postDemographics(userId);\n      }\n    } else {\n      data = {\n        user: userId,\n        demographics_gender: '',\n        demographics_gender_description: '',\n        demographics_income: '',\n        demographics_learner_education_level: '',\n        demographics_parent_education_level: '',\n        demographics_military_history: '',\n        demographics_work_status: '',\n        demographics_work_status_description: '',\n        demographics_current_work_sector: '',\n        demographics_future_work_sector: '',\n        demographics_user_ethnicity: [],\n      };\n    }\n  }\n\n  return data;\n}\n\n/**\n * patch all of the data related to demographics.\n * @param {Number} userId users are identified in the api by LMS id\n * @param {Object} commitValues { demographics }\n */\nexport async function patchDemographics(userId, commitValues) {\n  const requestUrl = `${getConfig().DEMOGRAPHICS_BASE_URL}/demographics/api/v1/demographics/${userId}/`;\n  const convertedCommitValues = convertData(commitValues, TO);\n  let data = {};\n\n  ({ data } = await getAuthenticatedHttpClient()\n    .patch(requestUrl, convertedCommitValues)\n    .catch((error) => {\n      const apiError = createDemographicsError(error);\n      throw apiError;\n    }));\n\n  return convertData(data, FROM);\n}\n\n/**\n * retrieve the options for each field from the Demographics API\n */\nexport async function getDemographicsOptions() {\n  const requestUrl = `${getConfig().DEMOGRAPHICS_BASE_URL}/demographics/api/v1/demographics/`;\n  let data = {};\n\n  try {\n    ({ data } = await getAuthenticatedHttpClient().options(requestUrl));\n  } catch (error) {\n    // We are catching and suppressing errors here on purpose. If an error occurs during the\n    // getDemographicsOptions call we will pass back an empty `data` object. Downstream we make\n    // the assumption that if the demographicsOptions object is empty that there was an issue or\n    // error communicating with the service/API.\n  }\n\n  return data;\n}\n","import { getConfig } from '@edx/frontend-platform';\nimport { getAuthenticatedHttpClient } from '@edx/frontend-platform/auth';\nimport pick from 'lodash.pick';\nimport pickBy from 'lodash.pickby';\nimport omit from 'lodash.omit';\nimport isEmpty from 'lodash.isempty';\n\nimport { handleRequestError, unpackFieldErrors } from './utils';\nimport { getThirdPartyAuthProviders } from '../third-party-auth';\nimport { postVerifiedNameConfig } from '../certificate-preference/data/service';\nimport { getDemographics, getDemographicsOptions, patchDemographics } from '../demographics/data/service';\nimport { DEMOGRAPHICS_FIELDS } from '../demographics/data/utils';\n\nconst SOCIAL_PLATFORMS = [\n  { id: 'twitter', key: 'social_link_twitter' },\n  { id: 'facebook', key: 'social_link_facebook' },\n  { id: 'linkedin', key: 'social_link_linkedin' },\n];\n\nfunction unpackAccountResponseData(data) {\n  const unpackedData = data;\n\n  // This is handled by preferences\n  delete unpackedData.time_zone;\n\n  SOCIAL_PLATFORMS.forEach(({ id, key }) => {\n    const platformData = data.social_links.find(({ platform }) => platform === id);\n    unpackedData[key] = typeof platformData === 'object' ? platformData.social_link : '';\n  });\n\n  if (Array.isArray(data.language_proficiencies)) {\n    if (data.language_proficiencies.length) {\n      unpackedData.language_proficiencies = data.language_proficiencies[0].code;\n    } else {\n      unpackedData.language_proficiencies = '';\n    }\n  }\n\n  return unpackedData;\n}\n\nfunction packAccountCommitData(commitData) {\n  const packedData = commitData;\n\n  SOCIAL_PLATFORMS.forEach(({ id, key }) => {\n    // Skip missing values. Empty strings are valid values and should be preserved.\n    if (commitData[key] === undefined) {\n      return;\n    }\n\n    packedData.social_links = [{ platform: id, social_link: commitData[key] }];\n    delete packedData[key];\n  });\n\n  if (commitData.language_proficiencies !== undefined) {\n    if (commitData.language_proficiencies) {\n      packedData.language_proficiencies = [{ code: commitData.language_proficiencies }];\n    } else {\n      // An empty string should be sent as an array.\n      packedData.language_proficiencies = [];\n    }\n  }\n\n  if (commitData.year_of_birth !== undefined) {\n    if (commitData.year_of_birth) {\n      packedData.year_of_birth = commitData.year_of_birth;\n    } else {\n      // An empty string should be sent as null.\n      packedData.year_of_birth = null;\n    }\n  }\n  return packedData;\n}\n\nexport async function getAccount(username) {\n  const { data } = await getAuthenticatedHttpClient()\n    .get(`${getConfig().LMS_BASE_URL}/api/user/v1/accounts/${username}`);\n  return unpackAccountResponseData(data);\n}\n\nexport async function patchAccount(username, commitValues) {\n  const requestConfig = {\n    headers: { 'Content-Type': 'application/merge-patch+json' },\n  };\n\n  const { data } = await getAuthenticatedHttpClient()\n    .patch(\n      `${getConfig().LMS_BASE_URL}/api/user/v1/accounts/${username}`,\n      packAccountCommitData(commitValues),\n      requestConfig,\n    )\n    .catch((error) => {\n      const unpackFunction = (fieldErrors) => {\n        const unpackedFieldErrors = fieldErrors;\n        if (fieldErrors.social_links) {\n          SOCIAL_PLATFORMS.forEach(({ key }) => {\n            unpackedFieldErrors[key] = fieldErrors.social_links;\n          });\n        }\n        return unpackFieldErrors(unpackedFieldErrors);\n      };\n      handleRequestError(error, unpackFunction);\n    });\n\n  return unpackAccountResponseData(data);\n}\n\nexport async function getPreferences(username) {\n  const { data } = await getAuthenticatedHttpClient()\n    .get(`${getConfig().LMS_BASE_URL}/api/user/v1/preferences/${username}`);\n  return data;\n}\n\nexport async function patchPreferences(username, commitValues) {\n  const requestConfig = { headers: { 'Content-Type': 'application/merge-patch+json' } };\n  const requestUrl = `${getConfig().LMS_BASE_URL}/api/user/v1/preferences/${username}`;\n\n  // Ignore the success response, the API does not currently return any data.\n  await getAuthenticatedHttpClient()\n    .patch(requestUrl, commitValues, requestConfig).catch(handleRequestError);\n\n  return commitValues;\n}\n\nexport async function getTimeZones(forCountry) {\n  const { data } = await getAuthenticatedHttpClient()\n    .get(`${getConfig().LMS_BASE_URL}/user_api/v1/preferences/time_zones/`, {\n      params: { country_code: forCountry },\n    })\n    .catch(handleRequestError);\n\n  return data;\n}\n\n/**\n * Determine if the user's profile data is managed by a third-party identity provider.\n */\nexport async function getProfileDataManager(username, userRoles) {\n  const userRoleNames = userRoles.map(role => role.split(':')[0]);\n\n  if (userRoleNames.includes('enterprise_learner')) {\n    const url = `${getConfig().LMS_BASE_URL}/enterprise/api/v1/enterprise-learner/?username=${username}`;\n    const { data } = await getAuthenticatedHttpClient().get(url).catch(handleRequestError);\n\n    if (data.results.length > 0) {\n      const enterprise = data.results[0] && data.results[0].enterprise_customer;\n      // To ensure that enterprise returned is current enterprise & it manages profile settings\n      if (enterprise && enterprise.sync_learner_profile_data) {\n        return enterprise.name;\n      }\n    }\n  }\n\n  return null;\n}\n\n/**\n * A function to determine if the Demographics questions should be displayed to the user. For the\n * MVP release of Demographics we are limiting the Demographics question visibility only to\n * MicroBachelors learners.\n */\nexport async function shouldDisplayDemographicsQuestions() {\n  const requestUrl = `${getConfig().LMS_BASE_URL}/api/demographics/v1/demographics/status/`;\n  let data = {};\n\n  try {\n    ({ data } = await getAuthenticatedHttpClient().get(requestUrl));\n    if (data.display) {\n      return data.display;\n    }\n  } catch (error) {\n    // if there was an error then we just hide the section\n    return false;\n  }\n\n  return false;\n}\n\nexport async function getVerifiedName() {\n  let data;\n  const client = getAuthenticatedHttpClient();\n  try {\n    const requestUrl = `${getConfig().LMS_BASE_URL}/api/edx_name_affirmation/v1/verified_name`;\n    ({ data } = await client.get(requestUrl));\n  } catch (error) {\n    return {};\n  }\n\n  return data;\n}\n\nexport async function getVerifiedNameHistory() {\n  let data;\n  const client = getAuthenticatedHttpClient();\n  try {\n    const requestUrl = `${getConfig().LMS_BASE_URL}/api/edx_name_affirmation/v1/verified_name/history`;\n    ({ data } = await client.get(requestUrl));\n  } catch (error) {\n    return {};\n  }\n\n  return data;\n}\n\nexport async function postVerifiedName(data) {\n  const requestConfig = { headers: { Accept: 'application/json' } };\n  const requestUrl = `${getConfig().LMS_BASE_URL}/api/edx_name_affirmation/v1/verified_name`;\n\n  await getAuthenticatedHttpClient()\n    .post(requestUrl, data, requestConfig)\n    .catch(error => handleRequestError(error));\n}\n\n/**\n * A single function to GET everything considered a setting.\n * Currently encapsulates Account, Preferences, ThirdPartyAuth, and Demographics\n */\nexport async function getSettings(username, userRoles, userId) {\n  const [\n    account,\n    preferences,\n    thirdPartyAuthProviders,\n    profileDataManager,\n    timeZones,\n    shouldDisplayDemographicsQuestionsResponse,\n    demographics,\n    demographicsOptions,\n  ] = await Promise.all([\n    getAccount(username),\n    getPreferences(username),\n    getThirdPartyAuthProviders(),\n    getProfileDataManager(username, userRoles),\n    getTimeZones(),\n    getConfig().ENABLE_DEMOGRAPHICS_COLLECTION && shouldDisplayDemographicsQuestions(),\n    getConfig().ENABLE_DEMOGRAPHICS_COLLECTION && getDemographics(userId),\n    getConfig().ENABLE_DEMOGRAPHICS_COLLECTION && getDemographicsOptions(),\n  ]);\n\n  return {\n    ...account,\n    ...preferences,\n    thirdPartyAuthProviders,\n    profileDataManager,\n    timeZones,\n    shouldDisplayDemographicsSection: shouldDisplayDemographicsQuestionsResponse,\n    ...demographics,\n    demographicsOptions,\n  };\n}\n\n/**\n * A single function to PATCH everything considered a setting.\n * Currently encapsulates Account, Preferences, ThirdPartyAuth\n */\nexport async function patchSettings(username, commitValues, userId) {\n  // Note: time_zone exists in the return value from user/v1/accounts\n  // but it is always null and won't update. It also exists in\n  // user/v1/preferences where it does update. This is the one we use.\n  const preferenceKeys = ['time_zone'];\n  const demographicsKeys = DEMOGRAPHICS_FIELDS;\n  const certificateKeys = ['useVerifiedNameForCerts'];\n  const isDemographicsKey = (value, key) => key.includes('demographics');\n  const accountCommitValues = omit(\n    commitValues,\n    preferenceKeys,\n    demographicsKeys,\n    certificateKeys,\n  );\n  const preferenceCommitValues = pick(commitValues, preferenceKeys);\n  const demographicsCommitValues = pickBy(commitValues, isDemographicsKey);\n  const certCommitValues = pick(commitValues, certificateKeys);\n  const patchRequests = [];\n\n  if (!isEmpty(accountCommitValues)) {\n    patchRequests.push(patchAccount(username, accountCommitValues));\n  }\n  if (!isEmpty(preferenceCommitValues)) {\n    patchRequests.push(patchPreferences(username, preferenceCommitValues));\n  }\n  if (!isEmpty(demographicsCommitValues)) {\n    patchRequests.push(patchDemographics(userId, demographicsCommitValues));\n  }\n  if (!isEmpty(certCommitValues)) {\n    patchRequests.push(postVerifiedNameConfig(username, certCommitValues));\n  }\n\n  const results = await Promise.all(patchRequests);\n  // Assigns in order of requests. Preference keys\n  // will override account keys. Notably time_zone.\n  const combinedResults = Object.assign({}, ...results);\n  return combinedResults;\n}\n","import { getConfig } from '@edx/frontend-platform';\nimport { getAuthenticatedHttpClient } from '@edx/frontend-platform/auth';\n\nimport { handleRequestError } from '../../data/utils';\n\n// eslint-disable-next-line import/prefer-default-export\nexport async function postVerifiedNameConfig(username, commitValues) {\n  const requestConfig = { headers: { Accept: 'application/json' } };\n  const requestUrl = `${getConfig().LMS_BASE_URL}/api/edx_name_affirmation/v1/verified_name/config`;\n\n  const { useVerifiedNameForCerts } = commitValues;\n  const postValues = {\n    username,\n    use_verified_name_for_certs: useVerifiedNameForCerts,\n  };\n\n  const { data } = await getAuthenticatedHttpClient()\n    .post(requestUrl, postValues, requestConfig)\n    .catch(error => handleRequestError(error));\n\n  return data;\n}\n","import { getConfig } from '@edx/frontend-platform';\nimport { getAuthenticatedHttpClient } from '@edx/frontend-platform/auth';\n\nimport { handleRequestError } from '../../data/utils';\n\n// eslint-disable-next-line import/prefer-default-export\nexport async function postNameChange(name) {\n  // Requests a pending name change, rather than saving the account name immediately\n  const requestConfig = { headers: { Accept: 'application/json' } };\n  const requestUrl = `${getConfig().LMS_BASE_URL}/api/user/v1/accounts/name_change/`;\n\n  const { data } = await getAuthenticatedHttpClient()\n    .post(requestUrl, { name }, requestConfig)\n    .catch(error => handleRequestError(error));\n\n  return data;\n}\n","import { put, call, takeEvery } from 'redux-saga/effects';\n\nimport { getAuthenticatedUser } from '@edx/frontend-platform/auth';\n\nimport { postVerifiedName } from '../../data/service';\n\nimport {\n  REQUEST_NAME_CHANGE,\n  requestNameChangeBegin,\n  requestNameChangeSuccess,\n  requestNameChangeFailure,\n} from './actions';\nimport { postNameChange } from './service';\n\nexport function* handleRequestNameChange(action) {\n  let { name: profileName } = getAuthenticatedUser();\n  try {\n    yield put(requestNameChangeBegin());\n    if (action.payload.profileName) {\n      yield call(postNameChange, action.payload.profileName);\n      profileName = action.payload.profileName;\n    }\n    yield call(postVerifiedName, {\n      username: action.payload.username,\n      verified_name: action.payload.verifiedName,\n      profile_name: profileName,\n    });\n    yield put(requestNameChangeSuccess());\n  } catch (err) {\n    if (err.customAttributes?.httpErrorResponseData) {\n      yield put(requestNameChangeFailure(JSON.parse(err.customAttributes.httpErrorResponseData)));\n    } else {\n      yield put(requestNameChangeFailure());\n    }\n  }\n}\n\nexport default function* saga() {\n  yield takeEvery(REQUEST_NAME_CHANGE.BASE, handleRequestNameChange);\n}\n","export const YEAR_OF_BIRTH_OPTIONS = (() => {\n  const currentYear = new Date().getFullYear();\n  const years = [];\n  let startYear = currentYear - 120;\n  while (startYear < currentYear) {\n    startYear += 1;\n\n    years.push({ value: startYear, label: startYear });\n  }\n  return years.reverse();\n})();\n\nexport const COPPA_COMPLIANCE_YEAR = (() => {\n  const currentYear = new Date().getFullYear();\n  return currentYear - 13;\n})();\n\nexport const EDUCATION_LEVELS = [\n  '',\n  'p',\n  'm',\n  'b',\n  'a',\n  'hs',\n  'jhs',\n  'el',\n  'none',\n  'other',\n];\n\nexport const GENDER_OPTIONS = [\n  '',\n  'f',\n  'm',\n  'o',\n];\n\nexport const COUNTRY_WITH_STATES = 'US';\n\nexport const TRANSIFEX_LANGUAGE_BASE_URL = 'https://www.transifex.com/open-edx/edx-platform/language/';\n\nconst COUNTRY_STATES_MAP = {\n  CA: [\n    { value: 'AB', label: 'Alberta' },\n    { value: 'BC', label: 'British Columbia' },\n    { value: 'MB', label: 'Manitoba' },\n    { value: 'NB', label: 'New Brunswick' },\n    { value: 'NL', label: 'Newfoundland and Labrador' },\n    { value: 'NS', label: 'Nova Scotia' },\n    { value: 'NT', label: 'Northwest Territories' },\n    { value: 'NU', label: 'Nunavut' },\n    { value: 'ON', label: 'Ontario' },\n    { value: 'PE', label: 'Prince Edward Island' },\n    { value: 'QC', label: 'Qubec' },\n    { value: 'SK', label: 'Saskatchewan' },\n    { value: 'YT', label: 'Yukon' },\n  ],\n  US: [\n    { value: 'AL', label: 'Alabama' },\n    { value: 'AK', label: 'Alaska' },\n    { value: 'AZ', label: 'Arizona' },\n    { value: 'AR', label: 'Arkansas' },\n    { value: 'AA', label: 'Armed Forces Americas' },\n    { value: 'AE', label: 'Armed Forces Europe' },\n    { value: 'AP', label: 'Armed Forces Pacific' },\n    { value: 'CA', label: 'California' },\n    { value: 'CO', label: 'Colorado' },\n    { value: 'CT', label: 'Connecticut' },\n    { value: 'DE', label: 'Delaware' },\n    { value: 'DC', label: 'District Of Columbia' },\n    { value: 'FL', label: 'Florida' },\n    { value: 'GA', label: 'Georgia' },\n    { value: 'HI', label: 'Hawaii' },\n    { value: 'ID', label: 'Idaho' },\n    { value: 'IL', label: 'Illinois' },\n    { value: 'IN', label: 'Indiana' },\n    { value: 'IA', label: 'Iowa' },\n    { value: 'KS', label: 'Kansas' },\n    { value: 'KY', label: 'Kentucky' },\n    { value: 'LA', label: 'Louisiana' },\n    { value: 'ME', label: 'Maine' },\n    { value: 'MD', label: 'Maryland' },\n    { value: 'MA', label: 'Massachusetts' },\n    { value: 'MI', label: 'Michigan' },\n    { value: 'MN', label: 'Minnesota' },\n    { value: 'MS', label: 'Mississippi' },\n    { value: 'MO', label: 'Missouri' },\n    { value: 'MT', label: 'Montana' },\n    { value: 'NE', label: 'Nebraska' },\n    { value: 'NV', label: 'Nevada' },\n    { value: 'NH', label: 'New Hampshire' },\n    { value: 'NJ', label: 'New Jersey' },\n    { value: 'NM', label: 'New Mexico' },\n    { value: 'NY', label: 'New York' },\n    { value: 'NC', label: 'North Carolina' },\n    { value: 'ND', label: 'North Dakota' },\n    { value: 'OH', label: 'Ohio' },\n    { value: 'OK', label: 'Oklahoma' },\n    { value: 'OR', label: 'Oregon' },\n    { value: 'PA', label: 'Pennsylvania' },\n    { value: 'RI', label: 'Rhode Island' },\n    { value: 'SC', label: 'South Carolina' },\n    { value: 'SD', label: 'South Dakota' },\n    { value: 'TN', label: 'Tennessee' },\n    { value: 'TX', label: 'Texas' },\n    { value: 'UT', label: 'Utah' },\n    { value: 'VT', label: 'Vermont' },\n    { value: 'VA', label: 'Virginia' },\n    { value: 'WA', label: 'Washington' },\n    { value: 'WV', label: 'West Virginia' },\n    { value: 'WI', label: 'Wisconsin' },\n    { value: 'WY', label: 'Wyoming' },\n  ],\n};\n\nexport function getStatesList(country) {\n  return country && COUNTRY_STATES_MAP[country.toUpperCase()];\n}\n\nexport const DECLINED = 'declined';\nexport const SELF_DESCRIBE = 'self-describe';\nexport const OTHER = 'other';\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { AppContext } from '@edx/frontend-platform/react';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { connect } from 'react-redux';\nimport { Button, Hyperlink } from '@edx/paragon';\n\nimport { betaLanguageBannerSelector } from './data/selectors';\nimport messages from './AccountSettingsPage.messages';\nimport { saveSettings } from './data/actions';\nimport { TRANSIFEX_LANGUAGE_BASE_URL } from './data/constants';\nimport Alert from './Alert';\n\nclass BetaLanguageBanner extends React.Component {\n  getSiteLanguageEntry(languageCode) {\n    return this.props.siteLanguageList.filter(l => l.code === languageCode)[0];\n  }\n\n  /**\n   * Returns a link to the Transifex URL where contributors can provide translations.\n   * This code is tightly coupled to how Transifex chooses to design its URLs.\n   */\n  getTransifexLink(languageCode) {\n    return TRANSIFEX_LANGUAGE_BASE_URL + this.getTransifexURLPath(languageCode);\n  }\n\n  /**\n   * Returns the URL path that Transifex chooses to use for its language sub-pages.\n   *\n   * For extended language codes, it returns the 2nd half capitalized, replacing\n   * hyphen (-) with underscore (_).\n   *     example: pt-br -> pt_BR\n   *\n   * For short language codes, it returns the code as is.\n   *     example: fr -> fr\n   */\n  getTransifexURLPath(languageCode) {\n    const tokenizedCode = languageCode.split('-');\n    if (tokenizedCode.length > 1) {\n      return `${tokenizedCode[0]}_${tokenizedCode[1].toUpperCase()}`;\n    }\n    return tokenizedCode[0];\n  }\n\n  handleRevertLanguage = () => {\n    const previousSiteLanguage = this.props.siteLanguage.previousValue;\n    this.props.saveSettings('siteLanguage', previousSiteLanguage);\n  };\n\n  render() {\n    const savedLanguage = this.getSiteLanguageEntry(this.context.locale);\n    if (!savedLanguage) {\n      return null;\n    }\n    const isSavedLanguageReleased = savedLanguage.released === true;\n    const noPreviousLanguageSet = this.props.siteLanguage.previousValue === null;\n    if (isSavedLanguageReleased || noPreviousLanguageSet) {\n      return null;\n    }\n\n    const previousLanguage = this.getSiteLanguageEntry(this.props.siteLanguage.previousValue);\n    return (\n      <div>\n        <Alert className=\"beta_language_alert alert alert-warning\" role=\"alert\">\n          <p>\n            {this.props.intl.formatMessage(messages['account.settings.banner.beta.language'], {\n              beta_language: savedLanguage.name,\n            })}\n          </p>\n          <div>\n            <Button onClick={this.handleRevertLanguage} className=\"mr-2\">\n              {this.props.intl.formatMessage(\n                messages['account.settings.banner.beta.language.action.switch.back'],\n                { previous_language: previousLanguage.name },\n              )}\n            </Button>\n            <Hyperlink\n              destination={this.getTransifexLink(savedLanguage.code)}\n              className=\"btn btn-outline-secondary\"\n              target=\"_blank\"\n            >\n              {this.props.intl.formatMessage(\n                messages['account.settings.banner.beta.language.action.help.translate'],\n                { beta_language: savedLanguage.name },\n              )}\n            </Hyperlink>\n          </div>\n        </Alert>\n      </div>\n    );\n  }\n}\n\nBetaLanguageBanner.contextType = AppContext;\n\nBetaLanguageBanner.propTypes = {\n  intl: intlShape.isRequired,\n  siteLanguage: PropTypes.shape({\n    previousValue: PropTypes.string,\n    draft: PropTypes.string,\n  }),\n  siteLanguageList: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    code: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    released: PropTypes.bool,\n  })).isRequired,\n  saveSettings: PropTypes.func.isRequired,\n};\n\nBetaLanguageBanner.defaultProps = {\n  siteLanguage: null,\n};\n\nexport default connect(\n  betaLanguageBannerSelector,\n  {\n    saveSettings,\n  },\n)(injectIntl(BetaLanguageBanner));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { injectIntl, intlShape, FormattedMessage } from '@edx/frontend-platform/i18n';\nimport {\n  Button, StatefulButton, Form,\n} from '@edx/paragon';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faExclamationTriangle, faPencilAlt } from '@fortawesome/free-solid-svg-icons';\n\nimport Alert from './Alert';\nimport SwitchContent from './SwitchContent';\nimport messages from './AccountSettingsPage.messages';\n\nimport {\n  openForm,\n  closeForm,\n} from './data/actions';\nimport { editableFieldSelector } from './data/selectors';\n\nconst EmailField = (props) => {\n  const {\n    name,\n    label,\n    emptyLabel,\n    value,\n    saveState,\n    error,\n    confirmationMessageDefinition,\n    confirmationValue,\n    helpText,\n    onEdit,\n    onCancel,\n    onSubmit,\n    onChange,\n    isEditing,\n    isEditable,\n    intl,\n  } = props;\n  const id = `field-${name}`;\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit(name, new FormData(e.target).get(name));\n  };\n\n  const handleChange = (e) => {\n    onChange(name, e.target.value);\n  };\n\n  const handleEdit = () => {\n    onEdit(name);\n  };\n\n  const handleCancel = () => {\n    onCancel(name);\n  };\n\n  const renderConfirmationMessage = () => {\n    if (!confirmationMessageDefinition || !confirmationValue) {\n      return null;\n    }\n    return (\n      <Alert\n        className=\"alert-warning mt-n2\"\n        icon={<FontAwesomeIcon className=\"mr-2 h6\" icon={faExclamationTriangle} />}\n      >\n        <h6 aria-level=\"3\">\n          {intl.formatMessage(messages['account.settings.email.field.confirmation.header'])}\n        </h6>\n        {intl.formatMessage(confirmationMessageDefinition, { value: confirmationValue })}\n      </Alert>\n    );\n  };\n\n  const renderConfirmationValue = () => (\n    <span>\n      {confirmationValue}\n      <span className=\"ml-3 text-muted small\">\n        <FormattedMessage\n          id=\"account.settings.email.field.confirmation.header\"\n          defaultMessage=\"Pending confirmation\"\n          description=\"The label next to a new pending email address\"\n        />\n      </span>\n    </span>\n  );\n\n  const renderEmptyLabel = () => {\n    if (isEditable) {\n      return <Button variant=\"link\" onClick={handleEdit} className=\"p-0\">{emptyLabel}</Button>;\n    }\n    return <span className=\"text-muted\">{emptyLabel}</span>;\n  };\n\n  const renderValue = () => {\n    if (confirmationValue) {\n      return renderConfirmationValue();\n    }\n    return value || renderEmptyLabel();\n  };\n\n  return (\n    <SwitchContent\n      expression={isEditing ? 'editing' : 'default'}\n      cases={{\n        editing: (\n          <form onSubmit={handleSubmit}>\n            <Form.Group\n              controlId={id}\n              isInvalid={error != null}\n            >\n              <Form.Label className=\"h6 d-block\" htmlFor={id}>{label}</Form.Label>\n              <Form.Control\n                data-hj-suppress\n                name={name}\n                id={id}\n                type=\"email\"\n                value={value}\n                onChange={handleChange}\n              />\n              {!!helpText && <Form.Text>{helpText}</Form.Text>}\n              {error != null && <Form.Control.Feedback hasIcon={false}>{error}</Form.Control.Feedback>}\n            </Form.Group>\n            <p>\n              <StatefulButton\n                type=\"submit\"\n                className=\"mr-2\"\n                state={saveState}\n                labels={{\n                  default: intl.formatMessage(messages['account.settings.editable.field.action.save']),\n                }}\n                onClick={(e) => {\n                  // Swallow clicks if the state is pending.\n                  // We do this instead of disabling the button to prevent\n                  // it from losing focus (disabled elements cannot have focus).\n                  // Disabling it would causes upstream issues in focus management.\n                  // Swallowing the onSubmit event on the form would be better, but\n                  // we would have to add that logic for every field given our\n                  // current structure of the application.\n                  if (saveState === 'pending') { e.preventDefault(); }\n                }}\n                disabledStates={[]}\n              />\n              <Button\n                variant=\"outline-primary\"\n                onClick={handleCancel}\n              >\n                {intl.formatMessage(messages['account.settings.editable.field.action.cancel'])}\n              </Button>\n            </p>\n          </form>\n        ),\n        default: (\n          <div className=\"form-group\">\n            <div className=\"d-flex align-items-start\">\n              <h6 aria-level=\"3\">{label}</h6>\n              {isEditable ? (\n                <Button variant=\"link\" onClick={handleEdit} className=\"ml-3\">\n                  <FontAwesomeIcon className=\"mr-1\" icon={faPencilAlt} />\n                  {intl.formatMessage(messages['account.settings.editable.field.action.edit'])}\n                </Button>\n              ) : null}\n            </div>\n            <p data-hj-suppress>{renderValue()}</p>\n            {renderConfirmationMessage() || <p className=\"small text-muted mt-n2\">{helpText}</p>}\n          </div>\n        ),\n      }}\n    />\n  );\n};\n\nEmailField.propTypes = {\n  name: PropTypes.string.isRequired,\n  label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  emptyLabel: PropTypes.node,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  saveState: PropTypes.oneOf(['default', 'pending', 'complete', 'error']),\n  error: PropTypes.string,\n  confirmationMessageDefinition: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    defaultMessage: PropTypes.string.isRequired,\n    description: PropTypes.string,\n  }),\n  confirmationValue: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  helpText: PropTypes.node,\n  onEdit: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  isEditing: PropTypes.bool,\n  isEditable: PropTypes.bool,\n  intl: intlShape.isRequired,\n};\n\nEmailField.defaultProps = {\n  value: undefined,\n  saveState: undefined,\n  label: undefined,\n  emptyLabel: undefined,\n  error: undefined,\n  confirmationMessageDefinition: undefined,\n  confirmationValue: undefined,\n  helpText: undefined,\n  isEditing: false,\n  isEditable: true,\n};\n\nexport default connect(editableFieldSelector, {\n  onEdit: openForm,\n  onCancel: closeForm,\n})(injectIntl(EmailField));\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Alert } from '@edx/paragon';\n\nconst OneTimeDismissibleAlert = (props) => {\n  const [dismissed, setDismissed] = useState(localStorage.getItem(props.id) !== 'true');\n\n  const onClose = () => {\n    localStorage.setItem(props.id, 'true');\n    setDismissed(false);\n  };\n\n  return (\n    <Alert\n      variant={props.variant}\n      dismissible\n      icon={props.icon}\n      onClose={onClose}\n      show={dismissed}\n    >\n      <Alert.Heading>{props.header}</Alert.Heading>\n      <p>\n        {props.body}\n      </p>\n    </Alert>\n  );\n};\n\nOneTimeDismissibleAlert.propTypes = {\n  id: PropTypes.string.isRequired,\n  variant: PropTypes.string,\n  icon: PropTypes.func,\n  header: PropTypes.string,\n  body: PropTypes.string,\n};\n\nOneTimeDismissibleAlert.defaultProps = {\n  variant: 'success',\n  icon: undefined,\n  header: undefined,\n  body: undefined,\n};\n\nexport default OneTimeDismissibleAlert;\n","import PropTypes from 'prop-types';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport {\n  Form, StatefulButton, ModalDialog, ActionRow, useToggle, Button,\n} from '@edx/paragon';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { connect, useDispatch } from 'react-redux';\nimport messages from './AccountSettingsPage.messages';\nimport { YEAR_OF_BIRTH_OPTIONS } from './data/constants';\nimport { editableFieldSelector } from './data/selectors';\nimport { saveSettingsReset } from './data/actions';\n\nconst DOBModal = (props) => {\n  const {\n    saveState,\n    error,\n    onSubmit,\n    intl,\n  } = props;\n\n  const dispatch = useDispatch();\n\n  // eslint-disable-next-line no-unused-vars\n  const [isOpen, open, close, toggle] = useToggle(true, {});\n  const [monthValue, setMonthValue] = useState('');\n  const [yearValue, setYearValue] = useState('');\n\n  const handleChange = (e) => {\n    e.preventDefault();\n\n    if (e.target.name === 'month') {\n      setMonthValue(e.target.value);\n    } else if (e.target.name === 'year') {\n      setYearValue(e.target.value);\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const data = monthValue !== '' && yearValue !== '' ? [{ field_name: 'DOB', field_value: `${yearValue}-${monthValue}` }] : [];\n    onSubmit('extended_profile', data);\n  };\n\n  const handleComplete = useCallback(() => {\n    localStorage.setItem('submittedDOB', 'true');\n    close();\n    dispatch(saveSettingsReset());\n  }, [dispatch, close]);\n\n  const handleClose = useCallback(() => {\n    close();\n    dispatch(saveSettingsReset());\n  }, [dispatch, close]);\n\n  function renderErrors() {\n    if (saveState === 'error' || error) {\n      return (\n        <Form.Control.Feedback type=\"invalid\" key=\"general-error\">\n          {intl.formatMessage(messages['account.settingsfield.dob.error.general'])}\n        </Form.Control.Feedback>\n      );\n    }\n    return null;\n  }\n\n  useEffect(() => {\n    if (saveState === 'complete' && isOpen) {\n      handleComplete();\n    }\n  }, [handleComplete, saveState, isOpen, monthValue, yearValue]);\n\n  return (\n    <>\n      <Button variant=\"primary\" onClick={open}>\n        {intl.formatMessage(messages['account.settings.field.dob.form.button'])}\n      </Button>\n      <ModalDialog\n        title={intl.formatMessage(messages['account.settings.field.dob.form.title'])}\n        isOpen={isOpen}\n        onClose={handleClose}\n        hasCloseButton={false}\n        variant=\"default\"\n      >\n        <form onSubmit={handleSubmit}>\n\n          <ModalDialog.Header>\n            <ModalDialog.Title>\n              {intl.formatMessage(messages['account.settings.field.dob.form.title'])}\n            </ModalDialog.Title>\n          </ModalDialog.Header>\n\n          <ModalDialog.Body className=\"overflow-hidden\" style={{ padding: '1.5rem' }}>\n            <p>{intl.formatMessage(messages['account.settings.field.dob.form.help.text'])}</p>\n            <Form.Group>\n              <Form.Label>\n                {intl.formatMessage(messages['account.settings.field.dob.month'])}\n              </Form.Label>\n              <Form.Control\n                as=\"select\"\n                name=\"month\"\n                onChange={handleChange}\n              >\n                <option value=\"\">{intl.formatMessage(messages['account.settings.field.dob.month.default'])}</option>\n                {[...Array(12).keys()].map(month => (\n                  <option key={month + 1} value={month + 1}>{month + 1}</option>\n                ))}\n              </Form.Control>\n            </Form.Group>\n            <Form.Group>\n              <Form.Label>\n                {intl.formatMessage(messages['account.settings.field.dob.year'])}\n              </Form.Label>\n              <Form.Control\n                as=\"select\"\n                name=\"year\"\n                onChange={handleChange}\n              >\n                <option value=\"\">{intl.formatMessage(messages['account.settings.field.dob.year.default'])}</option>\n                {YEAR_OF_BIRTH_OPTIONS.map(year => (\n                  <option key={year.value} value={year.value}>{year.label}</option>\n                ))}\n              </Form.Control>\n            </Form.Group>\n            {renderErrors()}\n          </ModalDialog.Body>\n\n          <ModalDialog.Footer>\n            <ActionRow>\n              <ModalDialog.CloseButton variant=\"tertiary\">\n                Cancel\n              </ModalDialog.CloseButton>\n              <StatefulButton\n                type=\"submit\"\n                state={!(monthValue && yearValue) ? 'unedited' : saveState}\n                labels={{\n                  default: intl.formatMessage(messages['account.settings.editable.field.action.save']),\n                }}\n                disabledStates={['unedited']}\n              />\n            </ActionRow>\n          </ModalDialog.Footer>\n\n        </form>\n      </ModalDialog>\n    </>\n  );\n};\n\nDOBModal.propTypes = {\n  saveState: PropTypes.oneOf(['default', 'pending', 'complete', 'error']),\n  error: PropTypes.string,\n  onSubmit: PropTypes.func.isRequired,\n  intl: intlShape.isRequired,\n};\n\nDOBModal.defaultProps = {\n  saveState: undefined,\n  error: undefined,\n};\n\nexport default connect(editableFieldSelector)(injectIntl(DOBModal));\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Form } from '@edx/paragon';\nimport { DECLINED } from '../data/constants';\n\nconst Checkboxes = (props) => {\n  const {\n    id,\n    options,\n    values,\n    onChange,\n  } = props;\n\n  const [selected, setSelected] = useState(values);\n  useEffect(() => {\n    onChange(id, selected);\n  }, [id, onChange, selected]);\n\n  const handleToggle = (value, option) => {\n    // If the user checked 'declined', uncheck all other options\n    if (value && option === DECLINED) {\n      setSelected([DECLINED]);\n      return;\n    }\n\n    // If option checked, make sure this option is in `selected` (and remove 'declined')\n    if (value && !selected.includes(option)) {\n      const newSelected = selected.filter(i => i !== DECLINED).concat(option);\n      setSelected(newSelected);\n    }\n\n    // If unchecked, make sure this option is NOT in `selected`\n    if (!value) {\n      setSelected(selected.filter(i => i !== option));\n    }\n  };\n\n  const renderCheckboxes = () => options.map((option, index) => {\n    const isFirst = index === 0;\n    const isChecked = selected.includes(option.value);\n    return (\n      <div key={option.value} className=\"checkboxOption\">\n        <Form.Checkbox\n          type=\"checkbox\"\n          id={option.value}\n          name={option.value}\n          value={option.value}\n          checked={isChecked}\n          autoFocus={isFirst}\n          onChange={(event) => handleToggle(event.target.checked, option.value)}\n        >\n          {option.label}\n        </Form.Checkbox>\n      </div>\n    );\n  });\n\n  return (\n    <div role=\"group\">\n      {renderCheckboxes()}\n    </div>\n  );\n};\n\nCheckboxes.propTypes = {\n  id: PropTypes.string.isRequired,\n  options: PropTypes.arrayOf(PropTypes.shape({\n    value: PropTypes.string,\n    label: PropTypes.string,\n  })),\n  values: PropTypes.arrayOf(PropTypes.string),\n  onChange: PropTypes.func.isRequired,\n};\n\nCheckboxes.defaultProps = {\n  options: [],\n  values: [],\n};\n\nexport default Checkboxes;\n","import { defineMessages } from '@edx/frontend-platform/i18n';\n\nconst messages = defineMessages({\n  /* Demographics section heading */\n  'account.settings.section.demographics.information': {\n    id: 'account.settings.section.demographics.information',\n    defaultMessage: 'Optional Information',\n    description: 'The optional information section heading.',\n  },\n  /* Gender identity */\n  'account.settings.field.demographics.gender': {\n    id: 'account.settings.field.demographics.gender',\n    defaultMessage: 'Gender identity',\n    description: 'Label for account settings gender identity field.',\n  },\n  'account.settings.field.demographics.gender.empty': {\n    id: 'account.settings.field.demographics.gender.empty',\n    defaultMessage: 'Add gender identity',\n    description: 'Placeholder for empty account settings gender identity field.',\n  },\n  'account.settings.field.demographics.gender.options.empty': {\n    id: 'account.settings.field.demographics.gender.options.empty',\n    defaultMessage: 'Select a gender identity',\n    description: 'Placeholder for the gender identity options dropdown.',\n  },\n  'account.settings.field.demographics.gender_description': {\n    id: 'account.settings.field.demographics.gender_description',\n    defaultMessage: 'Gender identity description',\n    description: 'Label for account settings gender identity description field.',\n  },\n  'account.settings.field.demographics.gender_description.empty': {\n    id: 'account.settings.field.demographics.gender_description.empty',\n    defaultMessage: 'Enter description',\n    description: 'Placeholder for empty account settings gender identity field.',\n  },\n  /* Ethnicity */\n  'account.settings.field.demographics.ethnicity': {\n    id: 'account.settings.field.demographics.ethnicity',\n    defaultMessage: 'Race/Ethnicity identity',\n    description: 'Label for account settings ethnic background field.',\n  },\n  'account.settings.field.demographics.ethnicity.empty': {\n    id: 'account.settings.field.demographics.ethnicity.empty',\n    defaultMessage: 'Add race/ethnicity identity',\n    description: 'Placeholder for empty account settings ethnic background field.',\n  },\n  'account.settings.field.demographics.ethnicity.options.empty': {\n    id: 'account.settings.field.demographics.ethnicity.options.empty',\n    defaultMessage: 'Select all that apply', // TODO: Is this the desired text?\n    description: 'Placeholder for the ethnic background options field.',\n  },\n  /* Income */\n  'account.settings.field.demographics.income': {\n    id: 'account.settings.field.demographics.income',\n    defaultMessage: 'Family income',\n    description: 'Label for account settings household income field.',\n  },\n  'account.settings.field.demographics.income.empty': {\n    id: 'account.settings.field.demographics.income.empty',\n    defaultMessage: 'Add family income',\n    description: 'Placeholder for empty account settings household income field.',\n  },\n  'account.settings.field.demographics.income.options.empty': {\n    id: 'account.settings.field.demographics.income.options.empty',\n    defaultMessage: 'Select a family income range',\n    description: 'Placeholder for the household income dropdown.',\n  },\n  /* Military history */\n  'account.settings.field.demographics.military_history': {\n    id: 'account.settings.field.demographics.military_history',\n    defaultMessage: 'U.S. Military status',\n    description: 'Label for account settings military history field.',\n  },\n  'account.settings.field.demographics.military_history.empty': {\n    id: 'account.settings.field.demographics.military_history.empty',\n    defaultMessage: 'Add military status',\n    description: 'Placeholder for empty account settings military history field.',\n  },\n  'account.settings.field.demographics.military_history.options.empty': {\n    id: 'account.settings.field.demographics.military_history.options.empty',\n    defaultMessage: 'Select military status',\n    description: 'Placeholder for the military history dropdown.',\n  },\n  /* Learner and family education level */\n  'account.settings.field.demographics.learner_education_level': {\n    id: 'account.settings.field.demographics.learner_education_level',\n    defaultMessage: 'Your education level',\n    description: 'Label for account settings learner education level field.',\n  },\n  'account.settings.field.demographics.learner_education_level.empty': {\n    id: 'account.settings.field.demographics.learner_education_level.empty',\n    defaultMessage: 'Add education level',\n    description: 'Placeholder for empty account settings learner education level field.',\n  },\n  'account.settings.field.demographics.parent_education_level': {\n    id: 'account.settings.field.demographics.parent_education_level',\n    defaultMessage: 'Parents/Guardians education level',\n    description: 'Label for account settings parent education level field.',\n  },\n  'account.settings.field.demographics.parent_education_level.empty': {\n    id: 'account.settings.field.demographics.parent_education_level.empty',\n    defaultMessage: 'Add education level',\n    description: 'Placeholder for empty account settings parent education level field.',\n  },\n  'account.settings.field.demographics.education_level.options.empty': {\n    id: 'account.settings.field.demographics.education_level.options.empty',\n    defaultMessage: 'Select education level',\n    description: 'Placeholder for the education level options dropdown.',\n  },\n  /* Work status */\n  'account.settings.field.demographics.work_status': {\n    id: 'account.settings.field.demographics.work_status',\n    defaultMessage: 'Employment status',\n    description: 'Label for account settings work status field.',\n  },\n  'account.settings.field.demographics.work_status.empty': {\n    id: 'account.settings.field.demographics.work_status.empty',\n    defaultMessage: 'Add employment status',\n    description: 'Placeholder for empty account settings work status field.',\n  },\n  'account.settings.field.demographics.work_status.options.empty': {\n    id: 'account.settings.field.demographics.work_status.options.empty',\n    defaultMessage: 'Select employment status',\n    description: 'Placeholder for the work status options dropdown.',\n  },\n  'account.settings.field.demographics.work_status_description': {\n    id: 'account.settings.field.demographics.work_status_description',\n    defaultMessage: 'Employment status description',\n    description: 'Label for account settings work status description field.',\n  },\n  'account.settings.field.demographics.work_status_description.empty': {\n    id: 'account.settings.field.demographics.work_status_description.empty',\n    defaultMessage: 'Enter description',\n    description: 'Placeholder for empty account settings work status description field.',\n  },\n  /* Work sector */\n  'account.settings.field.demographics.current_work_sector': {\n    id: 'account.settings.field.demographics.current_work_sector',\n    defaultMessage: 'Current work industry',\n    description: 'Label for account settings current work sector field.',\n  },\n  'account.settings.field.demographics.current_work_sector.empty': {\n    id: 'account.settings.field.demographics.current_work_sector.empty',\n    defaultMessage: 'Add work industry',\n    description: 'Placeholder for empty account settings current work sector field.',\n  },\n  'account.settings.field.demographics.future_work_sector': {\n    id: 'account.settings.field.demographics.future_work_sector',\n    defaultMessage: 'Future work industry',\n    description: 'Label for account settings future work sector field.',\n  },\n  'account.settings.field.demographics.future_work_sector.empty': {\n    id: 'account.settings.field.demographics.future_work_sector.empty',\n    defaultMessage: 'Add work industry',\n    description: 'Placeholder for empty account settings future work sector field.',\n  },\n  'account.settings.field.demographics.work_sector.options.empty': {\n    id: 'account.settings.field.demographics.work_sector.options.empty',\n    defaultMessage: 'Select work industry',\n    description: 'Placeholder for the work sector options dropdown.',\n  },\n  /* Legal copy link text */\n  'account.settings.section.demographics.why': {\n    id: 'account.settings.section.demographics.why',\n    defaultMessage: 'Why does {siteName} collect this information?',\n    description: 'Link text for a link to external legal text',\n  },\n});\n\nexport default messages;\n","import { getConfig } from '@edx/frontend-platform';\nimport {\n  FormattedMessage,\n  injectIntl,\n  intlShape,\n} from '@edx/frontend-platform/i18n';\n\nimport { Hyperlink, Form } from '@edx/paragon';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport get from 'lodash.get';\nimport isEmpty from 'lodash.isempty';\nimport memoize from 'memoize-one';\nimport { demographicsSectionSelector } from '../data/selectors';\nimport EditableSelectField from '../EditableSelectField';\nimport Checkboxes from './Checkboxes';\nimport Alert from '../Alert';\nimport { saveMultipleSettings, updateDraft } from '../data/actions';\nimport {\n  OTHER,\n  SELF_DESCRIBE,\n} from '../data/constants';\nimport messages from './DemographicsSection.messages';\n\nclass DemographicsSection extends React.Component {\n  // We check the `demographicsOptions` prop to see if it is empty before we attempt to extract and\n  // format the available options for each question from the API response.\n  getApiOptions = memoize((demographicsOptions) => (this.hasRetrievedDemographicsOptions() && {\n    demographicsGenderOptions: this.addDefaultOption('account.settings.field.demographics.gender.options.empty')\n      .concat(demographicsOptions.actions.POST.gender.choices.map(key => ({\n        value: key.value,\n        label: key.display_name,\n      }))),\n    /* Ethnicity options don't need the blank/default option */\n    demographicsEthnicityOptions: demographicsOptions.actions.POST.user_ethnicity.child.children.ethnicity.choices.map(\n      key => ({\n        value: key.value,\n        label: key.display_name,\n      }),\n    ),\n    demographicsIncomeOptions: this.addDefaultOption('account.settings.field.demographics.income.options.empty')\n      .concat(demographicsOptions.actions.POST.income.choices.map(key => ({\n        value: key.value,\n        label: key.display_name,\n      }))),\n    demographicsMilitaryHistoryOptions: this.addDefaultOption('account.settings.field.demographics.military_history.options.empty')\n      .concat(demographicsOptions.actions.POST.military_history.choices.map(key => ({\n        value: key.value,\n        label: key.display_name,\n      }))),\n    demographicsEducationLevelOptions: this.addDefaultOption('account.settings.field.demographics.education_level.options.empty')\n      .concat(demographicsOptions.actions.POST.learner_education_level.choices.map(key => ({\n        value: key.value,\n        label: key.display_name,\n      }))),\n    demographicsWorkStatusOptions: this.addDefaultOption('account.settings.field.demographics.work_status.options.empty')\n      .concat(demographicsOptions.actions.POST.work_status.choices.map(key => ({\n        value: key.value,\n        label: key.display_name,\n      }))),\n    demographicsWorkSectorOptions: this.addDefaultOption('account.settings.field.demographics.work_sector.options.empty')\n      .concat(demographicsOptions.actions.POST.current_work_sector.choices.map(key => ({\n        value: key.value,\n        label: key.display_name,\n      }))),\n  }));\n\n  ethnicityFieldDisplay = (demographicsEthnicityOptions) => {\n    let ethnicities = [];\n    if (get(this, 'props.formValues.demographics_user_ethnicity')) {\n      ethnicities = this.props.formValues.demographics_user_ethnicity;\n    }\n    return ethnicities.map((e) => {\n      const matchingOption = demographicsEthnicityOptions.filter(option => option.value === e)[0];\n      return matchingOption && matchingOption.label;\n    }).join(', ');\n  };\n\n  handleEditableFieldChange = (name, value) => {\n    this.props.updateDraft(name, value);\n  };\n\n  handleSubmit = (formId) => {\n    // We have some custom fields in this section. Instead of relying on the\n    // submitted values, submit the values stored in 'drafts'.\n    const { drafts } = this.props;\n    const settingsArray = Object.entries(drafts).map(([field, value]) => ({\n      formId: field,\n      commitValues: value,\n    }));\n\n    this.props.saveMultipleSettings(settingsArray, formId);\n  };\n\n  /**\n   * Utility method that adds the specified message as a default option to the list of available\n   * choices.\n   *\n   * @param {*} messageId id of message matching desired default label text\n   */\n  addDefaultOption(messageId) {\n    return [{\n      value: '',\n      label: this.props.intl.formatMessage(messages[messageId]),\n    }];\n  }\n\n  /**\n   * Utility method that helps determine if we were able to retrieve the available options for\n   * the Demographics questions. Returns true if the `demographicsOptions` prop is _not_ empty,\n   * otherwise false. This prop being empty is indicative of a failure communicating with the\n   * Demographics IDA's API.\n   */\n  hasRetrievedDemographicsOptions() {\n    return !isEmpty(this.props.formValues.demographicsOptions);\n  }\n\n  /**\n   * If an error is encountered when trying to communicate with the Demographics IDA then we will\n   * display an Alert letting the user know that their info will not be displayed and temporarily\n   * cannot be updated.\n   */\n  renderDemographicsServiceIssueWarning() {\n    if (!isEmpty(this.props.formErrors.demographicsError)\n        || !this.hasRetrievedDemographicsOptions()) {\n      return (\n        <div\n          tabIndex=\"-1\"\n          ref={this.alertRef}\n        >\n          <Alert className=\"alert alert-danger\" role=\"alert\">\n            <FormattedMessage\n              id=\"account.settings.message.demographics.service.issue\"\n              defaultMessage=\"An error occurred attempting to retrieve or save your account information. Please try again later.\"\n              description=\"alert message informing the user that the there is a problem retrieving or updating information from the Demographics microservice\"\n            />\n          </Alert>\n        </div>\n      );\n    }\n    return null;\n  }\n\n  render() {\n    const editableFieldProps = {\n      onChange: this.handleEditableFieldChange,\n      onSubmit: this.handleSubmit,\n    };\n\n    const {\n      demographicsGenderOptions,\n      demographicsEthnicityOptions,\n      demographicsIncomeOptions,\n      demographicsMilitaryHistoryOptions,\n      demographicsEducationLevelOptions,\n      demographicsWorkStatusOptions,\n      demographicsWorkSectorOptions,\n    } = this.getApiOptions(this.props.formValues.demographicsOptions);\n\n    const showSelfDescribe = this.props.formValues.demographics_gender === SELF_DESCRIBE;\n    const showWorkStatusDescribe = this.props.formValues.demographics_work_status === OTHER;\n\n    return (\n      <div className=\"account-section pt-3 mb-5\" id=\"demographics-information\" ref={this.props.forwardRef}>\n        <h2 className=\"section-heading h4 mb-3\">\n          {this.props.intl.formatMessage(messages['account.settings.section.demographics.information'])}\n        </h2>\n        <p>\n          <Hyperlink\n            destination={`${getConfig().MARKETING_SITE_BASE_URL}/demographics`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {this.props.intl.formatMessage(\n              messages['account.settings.section.demographics.why'],\n              {\n                siteName: getConfig().SITE_NAME,\n              },\n            )}\n          </Hyperlink>\n        </p>\n        {this.renderDemographicsServiceIssueWarning()}\n        {/*\n          If the demographicsOptions props are empty then there is no need to display the fields as\n          the user will not have any choices available to select, nor will they be able to update\n          their answers.\n        */}\n        {this.hasRetrievedDemographicsOptions() && (\n          <div id=\"demographics-fields\">\n            <EditableSelectField\n              name=\"demographics_gender\"\n              type=\"select\"\n              value={this.props.formValues.demographics_gender}\n              userSuppliedValue={showSelfDescribe ? this.props.formValues.demographics_gender_description : null}\n              options={demographicsGenderOptions}\n              label={this.props.intl.formatMessage(messages['account.settings.field.demographics.gender'])}\n              emptyLabel={this.props.intl.formatMessage(messages['account.settings.field.demographics.gender.empty'])}\n              {...editableFieldProps}\n            >\n              {showSelfDescribe && (\n                <Form.Control\n                  name=\"demographics_gender_description\"\n                  id=\"field-demographics_gender_description\"\n                  type=\"text\"\n                  placeholder={this.props.intl.formatMessage(messages['account.settings.field.demographics.gender_description.empty'])}\n                  value={this.props.formValues.demographics_gender_description}\n                  onChange={(e) => this.handleEditableFieldChange('demographics_gender_description', e.target.value)}\n                  aria-label={this.props.intl.formatMessage(messages['account.settings.field.demographics.gender_description'])}\n                  className=\"mt-1\"\n                />\n              )}\n            </EditableSelectField>\n            <EditableSelectField\n              name=\"demographics_user_ethnicity\"\n              type=\"select\"\n              hidden\n              value={this.ethnicityFieldDisplay(demographicsEthnicityOptions)}\n              label={this.props.intl.formatMessage(messages['account.settings.field.demographics.ethnicity'])}\n              emptyLabel={this.props.intl.formatMessage(messages['account.settings.field.demographics.ethnicity.empty'])}\n              {...editableFieldProps}\n            >\n              <Checkboxes\n                id=\"demographics_user_ethnicity\"\n                options={demographicsEthnicityOptions}\n                values={this.props.formValues.demographics_user_ethnicity}\n                {...editableFieldProps}\n              />\n            </EditableSelectField>\n            <EditableSelectField\n              name=\"demographics_income\"\n              type=\"select\"\n              value={this.props.formValues.demographics_income}\n              options={demographicsIncomeOptions}\n              label={this.props.intl.formatMessage(messages['account.settings.field.demographics.income'])}\n              emptyLabel={this.props.intl.formatMessage(messages['account.settings.field.demographics.income.empty'])}\n              {...editableFieldProps}\n            />\n            <EditableSelectField\n              name=\"demographics_military_history\"\n              type=\"select\"\n              value={this.props.formValues.demographics_military_history}\n              options={demographicsMilitaryHistoryOptions}\n              label={this.props.intl.formatMessage(messages['account.settings.field.demographics.military_history'])}\n              emptyLabel={this.props.intl.formatMessage(messages['account.settings.field.demographics.military_history.empty'])}\n              {...editableFieldProps}\n            />\n            <EditableSelectField\n              name=\"demographics_learner_education_level\"\n              type=\"select\"\n              value={this.props.formValues.demographics_learner_education_level}\n              options={demographicsEducationLevelOptions}\n              label={this.props.intl.formatMessage(messages['account.settings.field.demographics.learner_education_level'])}\n              emptyLabel={this.props.intl.formatMessage(messages['account.settings.field.demographics.learner_education_level.empty'])}\n              {...editableFieldProps}\n            />\n            <EditableSelectField\n              name=\"demographics_parent_education_level\"\n              type=\"select\"\n              value={this.props.formValues.demographics_parent_education_level}\n              options={demographicsEducationLevelOptions}\n              label={this.props.intl.formatMessage(messages['account.settings.field.demographics.parent_education_level'])}\n              emptyLabel={this.props.intl.formatMessage(messages['account.settings.field.demographics.parent_education_level.empty'])}\n              {...editableFieldProps}\n            />\n            <EditableSelectField\n              name=\"demographics_work_status\"\n              type=\"select\"\n              value={this.props.formValues.demographics_work_status}\n              userSuppliedValue={showWorkStatusDescribe\n                ? this.props.formValues.demographics_work_status_description\n                : null}\n              options={demographicsWorkStatusOptions}\n              label={this.props.intl.formatMessage(messages['account.settings.field.demographics.work_status'])}\n              emptyLabel={this.props.intl.formatMessage(messages['account.settings.field.demographics.work_status.empty'])}\n              {...editableFieldProps}\n            >\n              {showWorkStatusDescribe && (\n                <Form.Control\n                  name=\"demographics_work_status_description\"\n                  id=\"field-demographics_work_status_description\"\n                  type=\"text\"\n                  placeholder={this.props.intl.formatMessage(messages['account.settings.field.demographics.work_status_description.empty'])}\n                  value={this.props.formValues.demographics_work_status_description}\n                  onChange={(e) => this.handleEditableFieldChange('demographics_work_status_description', e.target.value)}\n                  aria-label={this.props.intl.formatMessage(messages['account.settings.field.demographics.work_status_description'])}\n                  className=\"mt-1\"\n                />\n              )}\n            </EditableSelectField>\n            <EditableSelectField\n              name=\"demographics_current_work_sector\"\n              type=\"select\"\n              value={this.props.formValues.demographics_current_work_sector}\n              options={demographicsWorkSectorOptions}\n              label={this.props.intl.formatMessage(messages['account.settings.field.demographics.current_work_sector'])}\n              emptyLabel={this.props.intl.formatMessage(messages['account.settings.field.demographics.current_work_sector.empty'])}\n              {...editableFieldProps}\n            />\n            <EditableSelectField\n              name=\"demographics_future_work_sector\"\n              type=\"select\"\n              value={this.props.formValues.demographics_future_work_sector}\n              options={demographicsWorkSectorOptions}\n              label={this.props.intl.formatMessage(messages['account.settings.field.demographics.future_work_sector'])}\n              emptyLabel={this.props.intl.formatMessage(messages['account.settings.field.demographics.future_work_sector.empty'])}\n              {...editableFieldProps}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nDemographicsSection.propTypes = {\n  intl: intlShape.isRequired,\n  formValues: PropTypes.shape({\n    demographics_gender: PropTypes.string,\n    demographics_user_ethnicity: PropTypes.shape([]),\n    demographics_income: PropTypes.string,\n    demographics_military_history: PropTypes.string,\n    demographics_learner_education_level: PropTypes.string,\n    demographics_parent_education_level: PropTypes.string,\n    demographics_work_status: PropTypes.string,\n    demographics_current_work_sector: PropTypes.string,\n    demographics_future_work_sector: PropTypes.string,\n    demographics_work_status_description: PropTypes.string,\n    demographics_gender_description: PropTypes.string,\n    demographicsOptions: PropTypes.shape({}),\n  }).isRequired,\n  drafts: PropTypes.shape({\n    demographics_gender: PropTypes.string,\n    demographics_user_ethnicity: PropTypes.shape([]),\n    demographics_income: PropTypes.string,\n    demographics_military_history: PropTypes.string,\n    demographics_learner_education_level: PropTypes.string,\n    demographics_parent_education_level: PropTypes.string,\n    demographics_work_status: PropTypes.string,\n    demographics_current_work_sector: PropTypes.string,\n    demographics_future_work_sector: PropTypes.string,\n    demographics_work_status_description: PropTypes.string,\n    demographics_gender_description: PropTypes.string,\n    demographicsOptions: PropTypes.shape({}),\n  }).isRequired,\n  formErrors: PropTypes.shape({\n    demographicsError: PropTypes.string,\n  }).isRequired,\n  forwardRef: PropTypes.func.isRequired,\n  updateDraft: PropTypes.func.isRequired,\n  saveMultipleSettings: PropTypes.func.isRequired,\n};\n\nexport default connect(demographicsSectionSelector, {\n  saveMultipleSettings,\n  updateDraft,\n})(injectIntl(DemographicsSection));\n","export const Actions = {\n  FETCHED_PREFERENCES: 'fetchedPreferences',\n  FETCHING_PREFERENCES: 'fetchingPreferences',\n  FAILED_PREFERENCES: 'failedPreferences',\n  FETCHING_COURSE_LIST: 'fetchingCourseList',\n  FETCHED_COURSE_LIST: 'fetchedCourseList',\n  FAILED_COURSE_LIST: 'failedCourseList',\n  UPDATE_SELECTED_COURSE: 'updateSelectedCourse',\n  UPDATE_PREFERENCE: 'updatePreference',\n  UPDATE_APP_PREFERENCE: 'updateAppValue',\n};\n\nexport const fetchNotificationPreferenceSuccess = (courseId, payload) => dispatch => (\n  dispatch({ type: Actions.FETCHED_PREFERENCES, courseId, payload })\n);\n\nexport const fetchNotificationPreferenceFetching = () => dispatch => (\n  dispatch({ type: Actions.FETCHING_PREFERENCES })\n);\n\nexport const fetchNotificationPreferenceFailed = () => dispatch => (\n  dispatch({ type: Actions.FAILED_PREFERENCES })\n);\n\nexport const fetchCourseListSuccess = payload => dispatch => (\n  dispatch({ type: Actions.FETCHED_COURSE_LIST, payload })\n);\n\nexport const fetchCourseListFetching = () => dispatch => (\n  dispatch({ type: Actions.FETCHING_COURSE_LIST })\n);\n\nexport const fetchCourseListFailed = () => dispatch => (\n  dispatch({ type: Actions.FAILED_COURSE_LIST })\n);\n\nexport const updateSelectedCourse = courseId => dispatch => (\n  dispatch({ type: Actions.UPDATE_SELECTED_COURSE, courseId })\n);\n\nexport const updatePreferenceValue = (appId, preferenceName, notificationChannel, value) => dispatch => (\n  dispatch({\n    type: Actions.UPDATE_PREFERENCE,\n    appId,\n    preferenceName,\n    notificationChannel,\n    value,\n  })\n);\n\nexport const updateAppToggle = (courseId, appId, value) => dispatch => (\n  dispatch({\n    type: Actions.UPDATE_APP_PREFERENCE,\n    courseId,\n    appId,\n    value,\n  })\n);\n","import { getConfig, snakeCaseObject } from '@edx/frontend-platform';\nimport { getAuthenticatedHttpClient } from '@edx/frontend-platform/auth';\nimport snakeCase from 'lodash.snakecase';\n\nexport const getCourseNotificationPreferences = async (courseId) => {\n  const url = `${getConfig().LMS_BASE_URL}/api/notifications/configurations/${courseId}`;\n  const { data } = await getAuthenticatedHttpClient().get(url);\n  return data;\n};\n\nexport const getCourseList = async (page, pageSize) => {\n  const params = snakeCaseObject({ page, pageSize });\n  const url = `${getConfig().LMS_BASE_URL}/api/notifications/enrollments/`;\n  const { data } = await getAuthenticatedHttpClient().get(url, { params });\n  return data;\n};\n\nexport const patchAppPreferenceToggle = async (courseId, appId, value) => {\n  const patchData = snakeCaseObject({\n    notificationApp: appId,\n    value,\n  });\n  const url = `${getConfig().LMS_BASE_URL}/api/notifications/configurations/${courseId}`;\n  const { data } = await getAuthenticatedHttpClient().patch(url, patchData);\n  return data;\n};\n\nexport const patchPreferenceToggle = async (\n  courseId,\n  notificationApp,\n  notificationType,\n  notificationChannel,\n  value,\n) => {\n  const patchData = snakeCaseObject({\n    notificationApp,\n    notificationType: snakeCase(notificationType),\n    notificationChannel,\n    value,\n  });\n  const url = `${getConfig().LMS_BASE_URL}/api/notifications/configurations/${courseId}`;\n  const { data } = await getAuthenticatedHttpClient().patch(url, patchData);\n  return data;\n};\n","import { camelCaseObject } from '@edx/frontend-platform';\nimport {\n  fetchCourseListSuccess,\n  fetchCourseListFetching,\n  fetchCourseListFailed,\n  fetchNotificationPreferenceFailed,\n  fetchNotificationPreferenceFetching,\n  fetchNotificationPreferenceSuccess,\n  updateAppToggle,\n  updatePreferenceValue,\n  updateSelectedCourse,\n} from './actions';\nimport {\n  getCourseList,\n  getCourseNotificationPreferences,\n  patchAppPreferenceToggle,\n  patchPreferenceToggle,\n} from './service';\n\nconst normalizeCourses = (responseData) => {\n  const courseList = responseData.results?.map((enrollment) => ({\n    id: enrollment.course.id,\n    name: enrollment.course.displayName,\n  })) || [];\n\n  const pagination = {\n    count: responseData.count,\n    currentPage: responseData.currentPage,\n    hasMore: Boolean(responseData.next),\n    totalPages: responseData.numPages,\n  };\n\n  return {\n    courseList,\n    pagination,\n    showPreferences: responseData.showPreferences,\n  };\n};\n\nconst normalizePreferences = (responseData) => {\n  const preferences = responseData.notificationPreferenceConfig;\n\n  const appKeys = Object.keys(preferences);\n  const apps = appKeys.map((appId) => ({\n    id: appId,\n    enabled: preferences[appId].enabled,\n  }));\n\n  const nonEditable = {};\n  const preferenceList = appKeys.map(appId => {\n    const preferencesKeys = Object.keys(preferences[appId].notificationTypes);\n    const flatPreferences = preferencesKeys.map(preferenceId => (\n      {\n        id: preferenceId,\n        appId,\n        web: preferences[appId].notificationTypes[preferenceId].web,\n        push: preferences[appId].notificationTypes[preferenceId].push,\n        email: preferences[appId].notificationTypes[preferenceId].email,\n        info: preferences[appId].notificationTypes[preferenceId].info || '',\n      }\n    ));\n    nonEditable[appId] = preferences[appId].nonEditable;\n\n    return flatPreferences;\n  }).flat();\n\n  const normalizedPreferences = {\n    apps,\n    preferences: preferenceList,\n    nonEditable,\n  };\n  return normalizedPreferences;\n};\n\nexport const fetchCourseList = (page, pageSize) => (\n  async (dispatch) => {\n    try {\n      dispatch(fetchCourseListFetching());\n      const data = await getCourseList(page, pageSize);\n      const normalizedData = normalizeCourses(camelCaseObject(data));\n      dispatch(fetchCourseListSuccess(normalizedData));\n    } catch (errors) {\n      dispatch(fetchCourseListFailed());\n    }\n  }\n);\n\nexport const fetchCourseNotificationPreferences = (courseId) => (\n  async (dispatch) => {\n    try {\n      dispatch(updateSelectedCourse(courseId));\n      dispatch(fetchNotificationPreferenceFetching());\n      const data = await getCourseNotificationPreferences(courseId);\n      const normalizedData = normalizePreferences(camelCaseObject(data));\n      dispatch(fetchNotificationPreferenceSuccess(courseId, normalizedData));\n    } catch (errors) {\n      dispatch(fetchNotificationPreferenceFailed());\n    }\n  }\n);\n\nexport const updateAppPreferenceToggle = (courseId, appId, value) => (\n  async (dispatch) => {\n    try {\n      dispatch(updateAppToggle(courseId, appId, value));\n      const data = await patchAppPreferenceToggle(courseId, appId, value);\n      const normalizedData = normalizePreferences(camelCaseObject(data));\n      dispatch(fetchNotificationPreferenceSuccess(courseId, normalizedData));\n    } catch (errors) {\n      dispatch(updateAppToggle(courseId, appId, !value));\n      dispatch(fetchNotificationPreferenceFailed());\n    }\n  }\n);\n\nexport const updatePreferenceToggle = (\n  courseId,\n  notificationApp,\n  notificationType,\n  notificationChannel,\n  value,\n) => (\n  async (dispatch) => {\n    try {\n      dispatch(updatePreferenceValue(\n        notificationApp,\n        notificationType,\n        notificationChannel,\n        !value,\n      ));\n      const data = await patchPreferenceToggle(\n        courseId,\n        notificationApp,\n        notificationType,\n        notificationChannel,\n        value,\n      );\n      const normalizedData = normalizePreferences(camelCaseObject(data));\n      dispatch(fetchNotificationPreferenceSuccess(courseId, normalizedData));\n    } catch (errors) {\n      dispatch(updatePreferenceValue(\n        notificationApp,\n        notificationType,\n        notificationChannel,\n        !value,\n      ));\n      dispatch(fetchNotificationPreferenceFailed());\n    }\n  }\n);\n","import { AppContext } from '@edx/frontend-platform/react';\nimport { getConfig, getQueryParameters } from '@edx/frontend-platform';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport memoize from 'memoize-one';\nimport findIndex from 'lodash.findindex';\nimport { sendTrackingLogEvent } from '@edx/frontend-platform/analytics';\nimport {\n  injectIntl,\n  intlShape,\n  FormattedMessage,\n  getCountryList,\n  getLanguageList,\n} from '@edx/frontend-platform/i18n';\nimport {\n  Button, Hyperlink, Icon, Alert,\n} from '@edx/paragon';\nimport { CheckCircle, Error, WarningFilled } from '@edx/paragon/icons';\n\nimport messages from './AccountSettingsPage.messages';\nimport {\n  fetchSettings,\n  saveMultipleSettings,\n  saveSettings,\n  updateDraft,\n  beginNameChange,\n} from './data/actions';\nimport { accountSettingsPageSelector } from './data/selectors';\nimport PageLoading from './PageLoading';\nimport JumpNav from './JumpNav';\nimport DeleteAccount from './delete-account';\nimport EditableField from './EditableField';\nimport EditableSelectField from './EditableSelectField';\nimport ResetPassword from './reset-password';\nimport NameChange from './name-change';\nimport ThirdPartyAuth from './third-party-auth';\nimport BetaLanguageBanner from './BetaLanguageBanner';\nimport EmailField from './EmailField';\nimport OneTimeDismissibleAlert from './OneTimeDismissibleAlert';\nimport DOBModal from './DOBForm';\nimport {\n  YEAR_OF_BIRTH_OPTIONS,\n  EDUCATION_LEVELS,\n  GENDER_OPTIONS,\n  COUNTRY_WITH_STATES,\n  COPPA_COMPLIANCE_YEAR,\n  getStatesList,\n} from './data/constants';\nimport { fetchSiteLanguages } from './site-language';\nimport DemographicsSection from './demographics/DemographicsSection';\nimport { fetchCourseList } from '../notification-preferences/data/thunks';\nimport { withLocation, withNavigate } from './hoc';\n\nclass AccountSettingsPage extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    const duplicateTpaProvider = getQueryParameters().duplicate_provider;\n    this.state = {\n      duplicateTpaProvider,\n    };\n\n    this.navLinkRefs = {\n      '#basic-information': React.createRef(),\n      '#profile-information': React.createRef(),\n      '#demographics-information': React.createRef(),\n      '#social-media': React.createRef(),\n      '#site-preferences': React.createRef(),\n      '#linked-accounts': React.createRef(),\n      '#delete-account': React.createRef(),\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchCourseList();\n    this.props.fetchSettings();\n    this.props.fetchSiteLanguages(this.props.navigate);\n    sendTrackingLogEvent('edx.user.settings.viewed', {\n      page: 'account',\n      visibility: null,\n      user_id: this.context.authenticatedUser.userId,\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.loading && !prevProps.loaded && this.props.loaded) {\n      const locationHash = global.location.hash;\n      // Check for the locationHash in the URL and then scroll to it if it is in the\n      // NavLinks list\n      if (typeof locationHash !== 'string') {\n        return;\n      }\n      if (Object.keys(this.navLinkRefs).includes(locationHash) && this.navLinkRefs[locationHash].current) {\n        window.scrollTo(0, this.navLinkRefs[locationHash].current.offsetTop);\n      }\n    }\n  }\n\n  // NOTE: We need 'locale' for the memoization in getLocalizedTimeZoneOptions.  Don't remove it!\n  // eslint-disable-next-line no-unused-vars\n  getLocalizedTimeZoneOptions = memoize((timeZoneOptions, countryTimeZoneOptions, locale) => {\n    const concatTimeZoneOptions = [{\n      label: this.props.intl.formatMessage(messages['account.settings.field.time.zone.default']),\n      value: '',\n    }];\n    if (countryTimeZoneOptions.length) {\n      concatTimeZoneOptions.push({\n        label: this.props.intl.formatMessage(messages['account.settings.field.time.zone.country']),\n        group: countryTimeZoneOptions,\n      });\n    }\n    concatTimeZoneOptions.push({\n      label: this.props.intl.formatMessage(messages['account.settings.field.time.zone.all']),\n      group: timeZoneOptions,\n    });\n    return concatTimeZoneOptions;\n  });\n\n  getLocalizedOptions = memoize((locale, country) => ({\n    countryOptions: [{\n      value: '',\n      label: this.props.intl.formatMessage(messages['account.settings.field.country.options.empty']),\n    }].concat(getCountryList(locale).map(({ code, name }) => ({ value: code, label: name }))),\n    stateOptions: [{\n      value: '',\n      label: this.props.intl.formatMessage(messages['account.settings.field.state.options.empty']),\n    }].concat(getStatesList(country)),\n    languageProficiencyOptions: [{\n      value: '',\n      label: this.props.intl.formatMessage(messages['account.settings.field.language_proficiencies.options.empty']),\n    }].concat(getLanguageList(locale).map(({ code, name }) => ({ value: code, label: name }))),\n    yearOfBirthOptions: [{\n      value: '',\n      label: this.props.intl.formatMessage(messages['account.settings.field.year_of_birth.options.empty']),\n    }].concat(YEAR_OF_BIRTH_OPTIONS),\n    educationLevelOptions: EDUCATION_LEVELS.map(key => ({\n      value: key,\n      label: this.props.intl.formatMessage(messages[`account.settings.field.education.levels.${key || 'empty'}`]),\n    })),\n    genderOptions: GENDER_OPTIONS.map(key => ({\n      value: key,\n      label: this.props.intl.formatMessage(messages[`account.settings.field.gender.options.${key || 'empty'}`]),\n    })),\n  }));\n\n  handleEditableFieldChange = (name, value) => {\n    this.props.updateDraft(name, value);\n  };\n\n  handleSubmit = (formId, values) => {\n    this.props.saveSettings(formId, values);\n  };\n\n  handleSubmitProfileName = (formId, values) => {\n    if (Object.keys(this.props.drafts).includes('useVerifiedNameForCerts')) {\n      this.props.saveMultipleSettings([\n        {\n          formId,\n          commitValues: values,\n        },\n        {\n          formId: 'useVerifiedNameForCerts',\n          commitValues: this.props.formValues.useVerifiedNameForCerts,\n        },\n      ], formId);\n    } else {\n      this.props.saveSettings(formId, values);\n    }\n  };\n\n  handleSubmitVerifiedName = (formId, values) => {\n    if (Object.keys(this.props.drafts).includes('useVerifiedNameForCerts')) {\n      this.props.saveSettings('useVerifiedNameForCerts', this.props.formValues.useVerifiedNameForCerts);\n    }\n    if (values !== this.props.committedValues?.verified_name) {\n      this.props.beginNameChange(formId);\n    } else {\n      this.props.saveSettings(formId, values);\n    }\n  };\n\n  isEditable(fieldName) {\n    return !this.props.staticFields.includes(fieldName);\n  }\n\n  isManagedProfile() {\n    // Enterprise customer profiles are managed by their organizations. We determine whether\n    // a profile is managed or not by the presence of the profileDataManager prop.\n    return Boolean(this.props.profileDataManager);\n  }\n\n  renderDuplicateTpaProviderMessage() {\n    if (!this.state.duplicateTpaProvider) {\n      return null;\n    }\n\n    // If there is a \"duplicate_provider\" query parameter, that's the backend's\n    // way of telling us that the provider account the user tried to link is already linked\n    // to another user account on the platform. We use this to display a message to that effect,\n    // and remove the parameter from the URL.\n    this.props.navigate(this.props.location, { replace: true });\n\n    return (\n      <div>\n        <Alert variant=\"danger\">\n          <FormattedMessage\n            id=\"account.settings.message.duplicate.tpa.provider\"\n            defaultMessage=\"The {provider} account you selected is already linked to another {siteName} account.\"\n            description=\"alert message informing the user that the third-party account they attempted to link is already linked to another account\"\n            values={{\n              provider: <b>{this.state.duplicateTpaProvider}</b>,\n              siteName: getConfig().SITE_NAME,\n            }}\n          />\n        </Alert>\n      </div>\n    );\n  }\n\n  renderManagedProfileMessage() {\n    if (!this.isManagedProfile()) {\n      return null;\n    }\n\n    return (\n      <div>\n        <Alert variant=\"info\">\n          <FormattedMessage\n            id=\"account.settings.message.managed.settings\"\n            defaultMessage=\"Your profile settings are managed by {managerTitle}. Contact your administrator or {support} for help.\"\n            description=\"alert message informing the user their account data is managed by a third party\"\n            values={{\n              managerTitle: <b>{this.props.profileDataManager}</b>,\n              support: (\n                <Hyperlink destination={getConfig().SUPPORT_URL} target=\"_blank\">\n                  <FormattedMessage\n                    id=\"account.settings.message.managed.settings.support\"\n                    defaultMessage=\"support\"\n                    description=\"website support\"\n                  />\n                </Hyperlink>\n              ),\n            }}\n          />\n        </Alert>\n      </div>\n    );\n  }\n\n  renderFullNameHelpText = (status, proctoredExamId) => {\n    if (!this.props.verifiedNameHistory) {\n      return this.props.intl.formatMessage(messages['account.settings.field.full.name.help.text']);\n    }\n\n    let messageString = 'account.settings.field.full.name.help.text';\n\n    if (status === 'submitted') {\n      messageString += '.submitted';\n      if (proctoredExamId) {\n        messageString += '.proctored';\n      }\n    } else {\n      messageString += '.default';\n    }\n\n    if (!this.props.committedValues.useVerifiedNameForCerts) {\n      messageString += '.certificate';\n    }\n\n    return this.props.intl.formatMessage(messages[messageString]);\n  };\n\n  renderVerifiedNameSuccessMessage = (verifiedName, created) => {\n    const dateValue = new Date(created).valueOf();\n    const id = `dismissedVerifiedNameSuccessMessage-${verifiedName}-${dateValue}`;\n\n    return (\n      <OneTimeDismissibleAlert\n        id={id}\n        variant=\"success\"\n        icon={CheckCircle}\n        header={this.props.intl.formatMessage(messages['account.settings.field.name.verified.success.message.header'])}\n        body={this.props.intl.formatMessage(messages['account.settings.field.name.verified.success.message'])}\n      />\n    );\n  };\n\n  renderVerifiedNameFailureMessage = (verifiedName, created) => {\n    const dateValue = new Date(created).valueOf();\n    const id = `dismissedVerifiedNameFailureMessage-${verifiedName}-${dateValue}`;\n\n    return (\n      <OneTimeDismissibleAlert\n        id={id}\n        variant=\"danger\"\n        icon={Error}\n        header={this.props.intl.formatMessage(messages['account.settings.field.name.verified.failure.message.header'])}\n        body={\n          (\n            <>\n              <div className=\"d-flex flex-row\">\n                {this.props.intl.formatMessage(messages['account.settings.field.name.verified.failure.message'])}\n              </div>\n              <div className=\"d-flex flex-row-reverse mt-3\">\n                <Button\n                  variant=\"primary\"\n                  href=\"https://support.edx.org/hc/en-us/articles/360004381594-Why-was-my-ID-verification-denied\"\n                >\n                  {this.props.intl.formatMessage(messages['account.settings.field.name.verified.failure.message.help.link'])}\n                </Button>{' '}\n              </div>\n            </>\n          )\n        }\n      />\n    );\n  };\n\n  renderVerifiedNameSubmittedMessage = (willCertNameChange) => (\n    <Alert\n      variant=\"warning\"\n      icon={WarningFilled}\n    >\n      <Alert.Heading>\n        {this.props.intl.formatMessage(messages['account.settings.field.name.verified.submitted.message.header'])}\n      </Alert.Heading>\n      <p>\n        {this.props.intl.formatMessage(messages['account.settings.field.name.verified.submitted.message'])}{' '}\n        {\n          willCertNameChange\n          && this.props.intl.formatMessage(messages['account.settings.field.name.verified.submitted.message.certificate'])\n        }\n      </p>\n    </Alert>\n  );\n\n  renderVerifiedNameMessage = verifiedNameRecord => {\n    const {\n      created,\n      status,\n      profile_name: profileName,\n      verified_name: verifiedName,\n      proctored_exam_attempt_id: proctoredExamId,\n    } = verifiedNameRecord;\n    let willCertNameChange = false;\n\n    if (\n      (\n        // User submitted a profile name change, and uses their profile name on certificates\n        this.props.committedValues.name !== profileName\n        && !this.props.committedValues.useVerifiedNameForCerts\n      )\n      || (\n        // User submitted a verified name change, and uses their verified name on certificates\n        this.props.committedValues.name === profileName\n        && this.props.committedValues.useVerifiedNameForCerts\n      )\n    ) {\n      willCertNameChange = true;\n    }\n\n    if (proctoredExamId) {\n      return null;\n    }\n\n    switch (status) {\n      case 'approved':\n        return this.renderVerifiedNameSuccessMessage(verifiedName, created);\n      case 'denied':\n        return this.renderVerifiedNameFailureMessage(verifiedName, created);\n      case 'submitted':\n        return this.renderVerifiedNameSubmittedMessage(willCertNameChange);\n      default:\n        return null;\n    }\n  };\n\n  renderVerifiedNameIcon = (status) => {\n    switch (status) {\n      case 'approved':\n        return (<Icon src={CheckCircle} className=\"ml-1\" style={{ height: '18px', width: '18px', color: 'green' }} />);\n      case 'submitted':\n        return (<Icon src={WarningFilled} className=\"ml-1\" style={{ height: '18px', width: '18px', color: 'yellow' }} />);\n      default:\n        return null;\n    }\n  };\n\n  renderVerifiedNameHelpText = (status, proctoredExamId) => {\n    let messageStr = 'account.settings.field.name.verified.help.text';\n\n    // add additional string based on status\n    if (status === 'approved') {\n      messageStr += '.verified';\n    } else if (status === 'submitted') {\n      messageStr += '.submitted';\n    } else {\n      return null;\n    }\n\n    // add additional string if verified name came from a proctored exam attempt\n    if (proctoredExamId) {\n      messageStr += '.proctored';\n    }\n\n    // add additional string based on certificate name use\n    if (this.props.committedValues.useVerifiedNameForCerts) {\n      messageStr += '.certificate';\n    }\n\n    return this.props.intl.formatMessage(messages[messageStr]);\n  };\n\n  renderEmptyStaticFieldMessage() {\n    if (this.isManagedProfile()) {\n      return this.props.intl.formatMessage(messages['account.settings.static.field.empty'], {\n        enterprise: this.props.profileDataManager,\n      });\n    }\n    return this.props.intl.formatMessage(messages['account.settings.static.field.empty.no.admin']);\n  }\n\n  renderNameChangeModal() {\n    if (this.props.nameChangeModal && this.props.nameChangeModal.formId) {\n      return <NameChange targetFormId={this.props.nameChangeModal.formId} />;\n    }\n    return null;\n  }\n\n  renderSecondaryEmailField(editableFieldProps) {\n    if (!this.props.formValues.secondary_email_enabled) {\n      return null;\n    }\n\n    return (\n      <EmailField\n        name=\"secondary_email\"\n        label={this.props.intl.formatMessage(messages['account.settings.field.secondary.email'])}\n        emptyLabel={this.props.intl.formatMessage(messages['account.settings.field.secondary.email.empty'])}\n        value={this.props.formValues.secondary_email}\n        confirmationMessageDefinition={messages['account.settings.field.secondary.email.confirmation']}\n        {...editableFieldProps}\n      />\n    );\n  }\n\n  renderDemographicsSection() {\n    // check the result of an LMS API call to determine if we should render the DemographicsSection component\n    if (this.props.formValues.shouldDisplayDemographicsSection) {\n      return (\n        <DemographicsSection forwardRef={this.navLinkRefs['#demographics-information']} />\n      );\n    }\n    return null;\n  }\n\n  renderContent() {\n    const editableFieldProps = {\n      onChange: this.handleEditableFieldChange,\n      onSubmit: this.handleSubmit,\n    };\n\n    // Memoized options lists\n    const {\n      countryOptions,\n      stateOptions,\n      languageProficiencyOptions,\n      yearOfBirthOptions,\n      educationLevelOptions,\n      genderOptions,\n    } = this.getLocalizedOptions(this.context.locale, this.props.formValues.country);\n\n    // Show State field only if the country is US (could include Canada later)\n    const showState = this.props.formValues.country === COUNTRY_WITH_STATES;\n\n    const { verifiedName } = this.props;\n\n    const timeZoneOptions = this.getLocalizedTimeZoneOptions(\n      this.props.timeZoneOptions,\n      this.props.countryTimeZoneOptions,\n      this.context.locale,\n    );\n\n    const hasLinkedTPA = findIndex(this.props.tpaProviders, provider => provider.connected) >= 0;\n\n    // if user is under 13 and does not have cookie set\n    const shouldUpdateDOB = (\n      getConfig().ENABLE_COPPA_COMPLIANCE\n      && getConfig().ENABLE_DOB_UPDATE\n      && this.props.formValues.year_of_birth.toString() >= COPPA_COMPLIANCE_YEAR.toString()\n      && !localStorage.getItem('submittedDOB')\n    );\n    return (\n      <>\n        { shouldUpdateDOB\n          && (\n          <DOBModal\n            {...editableFieldProps}\n          />\n          )}\n        <div className=\"account-section pt-3 mb-5\" id=\"basic-information\" ref={this.navLinkRefs['#basic-information']}>\n          {\n            this.props.mostRecentVerifiedName\n            && this.renderVerifiedNameMessage(this.props.mostRecentVerifiedName)\n          }\n          {localStorage.getItem('submittedDOB')\n            && (\n            <OneTimeDismissibleAlert\n              id=\"updated-dob\"\n              variant=\"success\"\n              icon={CheckCircle}\n              header={this.props.intl.formatMessage(messages['account.settings.field.dob.form.success'])}\n              body=\"\"\n            />\n            )}\n\n          <h2 className=\"section-heading h4 mb-3\">\n            {this.props.intl.formatMessage(messages['account.settings.section.account.information'])}\n          </h2>\n          <p>{this.props.intl.formatMessage(messages['account.settings.section.account.information.description'])}</p>\n          {this.renderManagedProfileMessage()}\n\n          {this.renderNameChangeModal()}\n\n          <EditableField\n            name=\"username\"\n            type=\"text\"\n            value={this.props.formValues.username}\n            label={this.props.intl.formatMessage(messages['account.settings.field.username'])}\n            helpText={this.props.intl.formatMessage(\n              messages['account.settings.field.username.help.text'],\n              { siteName: getConfig().SITE_NAME },\n            )}\n            isEditable={false}\n            {...editableFieldProps}\n          />\n          <EditableField\n            name=\"name\"\n            type=\"text\"\n            value={\n              verifiedName?.status === 'submitted'\n              && this.props.formValues.pending_name_change\n                ? this.props.formValues.pending_name_change\n                : this.props.formValues.name\n              }\n            label={this.props.intl.formatMessage(messages['account.settings.field.full.name'])}\n            emptyLabel={\n              this.isEditable('name')\n                ? this.props.intl.formatMessage(messages['account.settings.field.full.name.empty'])\n                : this.renderEmptyStaticFieldMessage()\n            }\n            helpText={\n              verifiedName\n                ? this.renderFullNameHelpText(verifiedName.status, verifiedName.proctored_exam_attempt_id)\n                : this.props.intl.formatMessage(messages['account.settings.field.full.name.help.text'])\n            }\n            isEditable={\n              verifiedName\n                ? this.isEditable('verifiedName') && this.isEditable('name')\n                : this.isEditable('name')\n            }\n            isGrayedOut={\n              verifiedName && !this.isEditable('verifiedName')\n            }\n            onChange={this.handleEditableFieldChange}\n            onSubmit={this.handleSubmitProfileName}\n          />\n          {verifiedName\n            && (\n            <EditableField\n              name=\"verified_name\"\n              type=\"text\"\n              value={this.props.formValues.verified_name}\n              label={\n                (\n                  <div className=\"d-flex\">\n                    {this.props.intl.formatMessage(messages['account.settings.field.name.verified'])}\n                    {\n                      this.renderVerifiedNameIcon(verifiedName.status)\n                    }\n                  </div>\n                )\n              }\n              helpText={this.renderVerifiedNameHelpText(verifiedName.status, verifiedName.proctored_exam_attempt_id)}\n              isEditable={this.isEditable('verifiedName')}\n              isGrayedOut={!this.isEditable('verifiedName')}\n              onChange={this.handleEditableFieldChange}\n              onSubmit={this.handleSubmitVerifiedName}\n            />\n            )}\n\n          <EmailField\n            name=\"email\"\n            label={this.props.intl.formatMessage(messages['account.settings.field.email'])}\n            emptyLabel={\n              this.isEditable('email')\n                ? this.props.intl.formatMessage(messages['account.settings.field.email.empty'])\n                : this.renderEmptyStaticFieldMessage()\n            }\n            value={this.props.formValues.email}\n            confirmationMessageDefinition={messages['account.settings.field.email.confirmation']}\n            helpText={this.props.intl.formatMessage(\n              messages['account.settings.field.email.help.text'],\n              { siteName: getConfig().SITE_NAME },\n            )}\n            isEditable={this.isEditable('email')}\n            {...editableFieldProps}\n          />\n          {this.renderSecondaryEmailField(editableFieldProps)}\n          <ResetPassword email={this.props.formValues.email} />\n          {(!getConfig().ENABLE_COPPA_COMPLIANCE)\n            && (\n            <EditableSelectField\n              name=\"year_of_birth\"\n              type=\"select\"\n              label={this.props.intl.formatMessage(messages['account.settings.field.dob'])}\n              emptyLabel={this.props.intl.formatMessage(messages['account.settings.field.dob.empty'])}\n              value={this.props.formValues.year_of_birth}\n              options={yearOfBirthOptions}\n              {...editableFieldProps}\n            />\n            )}\n          <EditableSelectField\n            name=\"country\"\n            type=\"select\"\n            value={this.props.formValues.country}\n            options={countryOptions}\n            label={this.props.intl.formatMessage(messages['account.settings.field.country'])}\n            emptyLabel={\n              this.isEditable('country')\n                ? this.props.intl.formatMessage(messages['account.settings.field.country.empty'])\n                : this.renderEmptyStaticFieldMessage()\n            }\n            isEditable={this.isEditable('country')}\n            {...editableFieldProps}\n          />\n          {showState\n            && (\n            <EditableSelectField\n              name=\"state\"\n              type=\"select\"\n              value={this.props.formValues.state}\n              options={stateOptions}\n              label={this.props.intl.formatMessage(messages['account.settings.field.state'])}\n              emptyLabel={\n                this.isEditable('state')\n                  ? this.props.intl.formatMessage(messages['account.settings.field.state.empty'])\n                  : this.renderEmptyStaticFieldMessage()\n              }\n              isEditable={this.isEditable('state')}\n              {...editableFieldProps}\n            />\n            )}\n        </div>\n\n        <div className=\"account-section pt-3 mb-5\" id=\"profile-information\" ref={this.navLinkRefs['#profile-information']}>\n          <h2 className=\"section-heading h4 mb-3\">\n            {this.props.intl.formatMessage(messages['account.settings.section.profile.information'])}\n          </h2>\n\n          <EditableSelectField\n            name=\"level_of_education\"\n            type=\"select\"\n            value={this.props.formValues.level_of_education}\n            options={getConfig().ENABLE_COPPA_COMPLIANCE\n              ? educationLevelOptions.filter(option => option.value !== 'el')\n              : educationLevelOptions}\n            label={this.props.intl.formatMessage(messages['account.settings.field.education'])}\n            emptyLabel={this.props.intl.formatMessage(messages['account.settings.field.education.empty'])}\n            {...editableFieldProps}\n          />\n          <EditableSelectField\n            name=\"gender\"\n            type=\"select\"\n            value={this.props.formValues.gender}\n            options={genderOptions}\n            label={this.props.intl.formatMessage(messages['account.settings.field.gender'])}\n            emptyLabel={this.props.intl.formatMessage(messages['account.settings.field.gender.empty'])}\n            {...editableFieldProps}\n          />\n          <EditableSelectField\n            name=\"language_proficiencies\"\n            type=\"select\"\n            value={this.props.formValues.language_proficiencies}\n            options={languageProficiencyOptions}\n            label={this.props.intl.formatMessage(messages['account.settings.field.language.proficiencies'])}\n            emptyLabel={this.props.intl.formatMessage(messages['account.settings.field.language.proficiencies.empty'])}\n            {...editableFieldProps}\n          />\n        </div>\n        {getConfig().ENABLE_DEMOGRAPHICS_COLLECTION && this.renderDemographicsSection()}\n        <div className=\"account-section pt-3 mb-5\" id=\"social-media\">\n          <h2 className=\"section-heading h4 mb-3\">\n            {this.props.intl.formatMessage(messages['account.settings.section.social.media'])}\n          </h2>\n          <p>\n            {this.props.intl.formatMessage(\n              messages['account.settings.section.social.media.description'],\n              { siteName: getConfig().SITE_NAME },\n            )}\n          </p>\n\n          <EditableField\n            name=\"social_link_linkedin\"\n            type=\"text\"\n            value={this.props.formValues.social_link_linkedin}\n            label={this.props.intl.formatMessage(messages['account.settings.field.social.platform.name.linkedin'])}\n            emptyLabel={this.props.intl.formatMessage(messages['account.settings.field.social.platform.name.linkedin.empty'])}\n            {...editableFieldProps}\n          />\n          <EditableField\n            name=\"social_link_facebook\"\n            type=\"text\"\n            value={this.props.formValues.social_link_facebook}\n            label={this.props.intl.formatMessage(messages['account.settings.field.social.platform.name.facebook'])}\n            emptyLabel={this.props.intl.formatMessage(messages['account.settings.field.social.platform.name.facebook.empty'])}\n            {...editableFieldProps}\n          />\n          <EditableField\n            name=\"social_link_twitter\"\n            type=\"text\"\n            value={this.props.formValues.social_link_twitter}\n            label={this.props.intl.formatMessage(messages['account.settings.field.social.platform.name.twitter'])}\n            emptyLabel={this.props.intl.formatMessage(messages['account.settings.field.social.platform.name.twitter.empty'])}\n            {...editableFieldProps}\n          />\n        </div>\n\n        <div className=\"account-section pt-3 mb-5\" id=\"site-preferences\" ref={this.navLinkRefs['#site-preferences']}>\n          <h2 className=\"section-heading h4 mb-3\">\n            {this.props.intl.formatMessage(messages['account.settings.section.site.preferences'])}\n          </h2>\n\n          <BetaLanguageBanner />\n          <EditableSelectField\n            name=\"siteLanguage\"\n            type=\"select\"\n            options={this.props.siteLanguageOptions}\n            value={this.props.siteLanguage.draft !== undefined ? this.props.siteLanguage.draft : this.context.locale}\n            label={this.props.intl.formatMessage(messages['account.settings.field.site.language'])}\n            helpText={this.props.intl.formatMessage(messages['account.settings.field.site.language.help.text'])}\n            {...editableFieldProps}\n          />\n          <EditableSelectField\n            name=\"time_zone\"\n            type=\"select\"\n            value={this.props.formValues.time_zone}\n            options={timeZoneOptions}\n            label={this.props.intl.formatMessage(messages['account.settings.field.time.zone'])}\n            emptyLabel={this.props.intl.formatMessage(messages['account.settings.field.time.zone.empty'])}\n            helpText={this.props.intl.formatMessage(messages['account.settings.field.time.zone.description'])}\n            {...editableFieldProps}\n            onSubmit={(formId, value) => {\n              // the endpoint will not accept an empty string. it must be null\n              this.handleSubmit(formId, value || null);\n            }}\n          />\n        </div>\n\n        <div className=\"account-section pt-3 mb-5\" id=\"linked-accounts\" ref={this.navLinkRefs['#linked-accounts']}>\n          <h2 className=\"section-heading h4 mb-3\">{this.props.intl.formatMessage(messages['account.settings.section.linked.accounts'])}</h2>\n          <p>\n            {this.props.intl.formatMessage(\n              messages['account.settings.section.linked.accounts.description'],\n              { siteName: getConfig().SITE_NAME },\n            )}\n          </p>\n          <ThirdPartyAuth />\n        </div>\n\n        {getConfig().ENABLE_ACCOUNT_DELETION\n          && (\n          <div className=\"account-section pt-3 mb-5\" id=\"delete-account\" ref={this.navLinkRefs['#delete-account']}>\n            <DeleteAccount\n              isVerifiedAccount={this.props.isActive}\n              hasLinkedTPA={hasLinkedTPA}\n            />\n          </div>\n          )}\n\n      </>\n    );\n  }\n\n  renderError() {\n    return (\n      <div>\n        {this.props.intl.formatMessage(messages['account.settings.loading.error'], {\n          error: this.props.loadingError,\n        })}\n      </div>\n    );\n  }\n\n  renderLoading() {\n    return (\n      <PageLoading srMessage={this.props.intl.formatMessage(messages['account.settings.loading.message'])} />\n    );\n  }\n\n  render() {\n    const {\n      loading,\n      loaded,\n      loadingError,\n    } = this.props;\n\n    return (\n      <div className=\"page__account-settings container-fluid py-5\">\n        {this.renderDuplicateTpaProviderMessage()}\n        <h1 className=\"mb-4\">\n          {this.props.intl.formatMessage(messages['account.settings.page.heading'])}\n        </h1>\n        <div>\n          <div className=\"row\">\n            <div className=\"col-md-2\">\n              <JumpNav\n                displayDemographicsLink={this.props.formValues.shouldDisplayDemographicsSection}\n              />\n            </div>\n            <div className=\"col-md-10\">\n              {loading ? this.renderLoading() : null}\n              {loaded ? this.renderContent() : null}\n              {loadingError ? this.renderError() : null}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nAccountSettingsPage.contextType = AppContext;\n\nAccountSettingsPage.propTypes = {\n  intl: intlShape.isRequired,\n  loading: PropTypes.bool,\n  loaded: PropTypes.bool,\n  loadingError: PropTypes.string,\n\n  // Form data\n  formValues: PropTypes.shape({\n    username: PropTypes.string,\n    name: PropTypes.string,\n    email: PropTypes.string,\n    secondary_email: PropTypes.string,\n    secondary_email_enabled: PropTypes.bool,\n    year_of_birth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    country: PropTypes.string,\n    level_of_education: PropTypes.string,\n    gender: PropTypes.string,\n    language_proficiencies: PropTypes.string,\n    pending_name_change: PropTypes.string,\n    phone_number: PropTypes.string,\n    social_link_linkedin: PropTypes.string,\n    social_link_facebook: PropTypes.string,\n    social_link_twitter: PropTypes.string,\n    time_zone: PropTypes.string,\n    state: PropTypes.string,\n    shouldDisplayDemographicsSection: PropTypes.bool,\n    useVerifiedNameForCerts: PropTypes.bool.isRequired,\n    verified_name: PropTypes.string,\n  }).isRequired,\n  committedValues: PropTypes.shape({\n    name: PropTypes.string,\n    useVerifiedNameForCerts: PropTypes.bool,\n    verified_name: PropTypes.string,\n  }),\n  drafts: PropTypes.shape({}),\n  formErrors: PropTypes.shape({\n    name: PropTypes.string,\n  }),\n  siteLanguage: PropTypes.shape({\n    previousValue: PropTypes.string,\n    draft: PropTypes.string,\n  }),\n  siteLanguageOptions: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  })),\n  profileDataManager: PropTypes.string,\n  staticFields: PropTypes.arrayOf(PropTypes.string),\n  isActive: PropTypes.bool,\n  secondary_email_enabled: PropTypes.bool,\n\n  timeZoneOptions: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  })),\n  countryTimeZoneOptions: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  })),\n  fetchSiteLanguages: PropTypes.func.isRequired,\n  updateDraft: PropTypes.func.isRequired,\n  saveMultipleSettings: PropTypes.func.isRequired,\n  saveSettings: PropTypes.func.isRequired,\n  fetchSettings: PropTypes.func.isRequired,\n  beginNameChange: PropTypes.func.isRequired,\n  fetchCourseList: PropTypes.func.isRequired,\n  tpaProviders: PropTypes.arrayOf(PropTypes.shape({\n    connected: PropTypes.bool,\n  })),\n  nameChangeModal: PropTypes.shape({\n    formId: PropTypes.string,\n  }),\n  verifiedName: PropTypes.shape({\n    verified_name: PropTypes.string,\n    status: PropTypes.string,\n    proctored_exam_attempt_id: PropTypes.number,\n  }),\n  mostRecentVerifiedName: PropTypes.shape({\n    verified_name: PropTypes.string,\n    status: PropTypes.string,\n    proctored_exam_attempt_id: PropTypes.number,\n  }),\n  verifiedNameHistory: PropTypes.arrayOf(\n    PropTypes.shape({\n      verified_name: PropTypes.string,\n      status: PropTypes.string,\n      proctored_exam_attempt_id: PropTypes.number,\n    }),\n  ),\n  navigate: PropTypes.func.isRequired,\n  location: PropTypes.string.isRequired,\n};\n\nAccountSettingsPage.defaultProps = {\n  loading: false,\n  loaded: false,\n  loadingError: null,\n  committedValues: {\n    useVerifiedNameForCerts: false,\n    verified_name: null,\n  },\n  drafts: {},\n  formErrors: {},\n  siteLanguage: null,\n  siteLanguageOptions: [],\n  timeZoneOptions: [],\n  countryTimeZoneOptions: [],\n  profileDataManager: null,\n  staticFields: [],\n  tpaProviders: [],\n  isActive: true,\n  secondary_email_enabled: false,\n  nameChangeModal: {},\n  verifiedName: null,\n  mostRecentVerifiedName: {},\n  verifiedNameHistory: [],\n};\n\nexport default withLocation(withNavigate(connect(accountSettingsPageSelector, {\n  fetchCourseList,\n  fetchSettings,\n  saveSettings,\n  saveMultipleSettings,\n  updateDraft,\n  fetchSiteLanguages,\n  beginNameChange,\n})(injectIntl(AccountSettingsPage))));\n","import React from 'react';\n\nimport { useLocation, useNavigate } from 'react-router-dom';\n\nexport const withNavigate = Component => {\n  const WrappedComponent = props => {\n    const navigate = useNavigate();\n    return <Component {...props} navigate={navigate} />;\n  };\n  return WrappedComponent;\n};\n\nexport const withLocation = Component => {\n  const WrappedComponent = props => {\n    const location = useLocation();\n    return <Component {...props} location={location.pathname} />;\n  };\n  return WrappedComponent;\n};\n","import {\n  FETCH_SETTINGS,\n  OPEN_FORM,\n  CLOSE_FORM,\n  SAVE_SETTINGS,\n  FETCH_TIME_ZONES,\n  SAVE_PREVIOUS_SITE_LANGUAGE,\n  UPDATE_DRAFT,\n  RESET_DRAFTS,\n  SAVE_MULTIPLE_SETTINGS,\n  BEGIN_NAME_CHANGE,\n} from './actions';\n\nimport { reducer as deleteAccountReducer, DELETE_ACCOUNT } from '../delete-account';\nimport { reducer as siteLanguageReducer, FETCH_SITE_LANGUAGES } from '../site-language';\nimport { reducer as resetPasswordReducer, RESET_PASSWORD } from '../reset-password';\nimport { reducer as nameChangeReducer, REQUEST_NAME_CHANGE } from '../name-change';\nimport { reducer as thirdPartyAuthReducer, DISCONNECT_AUTH } from '../third-party-auth';\n\nexport const defaultState = {\n  loading: false,\n  loaded: false,\n  loadingError: null,\n  data: null,\n  values: {},\n  errors: {},\n  confirmationValues: {},\n  drafts: {},\n  saveState: null,\n  timeZones: [],\n  countryTimeZones: [],\n  previousSiteLanguage: null,\n  deleteAccount: deleteAccountReducer(),\n  siteLanguage: siteLanguageReducer(),\n  resetPassword: resetPasswordReducer(),\n  nameChange: nameChangeReducer(),\n  thirdPartyAuth: thirdPartyAuthReducer(),\n  nameChangeModal: false,\n  verifiedName: null,\n  mostRecentVerifiedName: {},\n  verifiedNameHistory: {},\n};\n\nconst reducer = (state = defaultState, action = {}) => {\n  let dispatcherIsOpenForm;\n\n  switch (action.type) {\n    case FETCH_SETTINGS.BEGIN:\n      return {\n        ...state,\n        loading: true,\n        loaded: false,\n        loadingError: null,\n      };\n    case FETCH_SETTINGS.SUCCESS:\n      return {\n        ...state,\n        values: { ...state.values, ...action.payload.values },\n        // Dump the providers into thirdPartyAuth.\n        thirdPartyAuth: { ...state.thirdPartyAuth, providers: action.payload.thirdPartyAuthProviders },\n        profileDataManager: action.payload.profileDataManager,\n        timeZones: action.payload.timeZones,\n        loading: false,\n        loaded: true,\n        loadingError: null,\n        verifiedNameHistory: action.payload.verifiedNameHistory,\n      };\n    case FETCH_SETTINGS.FAILURE:\n      return {\n        ...state,\n        loading: false,\n        loaded: false,\n        loadingError: action.payload.error,\n      };\n    case FETCH_SETTINGS.RESET:\n      return {\n        ...state,\n        loading: false,\n        loaded: false,\n        loadingError: null,\n      };\n\n    case OPEN_FORM:\n      return {\n        ...state,\n        openFormId: action.payload.formId,\n        saveState: null,\n        errors: {},\n        drafts: {},\n      };\n    case CLOSE_FORM:\n      dispatcherIsOpenForm = action.payload.formId === state.openFormId;\n      if (dispatcherIsOpenForm) {\n        return {\n          ...state,\n          openFormId: null,\n          saveState: null,\n          errors: {},\n          drafts: {},\n          nameChangeModal: false,\n        };\n      }\n      return state;\n    case UPDATE_DRAFT:\n      return {\n        ...state,\n        drafts: { ...state.drafts, [action.payload.name]: action.payload.value },\n        saveState: null,\n        errors: {},\n      };\n\n    case RESET_DRAFTS:\n      return {\n        ...state,\n        drafts: {},\n      };\n\n    case BEGIN_NAME_CHANGE:\n      return {\n        ...state,\n        saveState: 'error',\n        nameChangeModal: {\n          formId: action.payload.formId,\n        },\n      };\n\n    case SAVE_SETTINGS.BEGIN:\n      return {\n        ...state,\n        saveState: 'pending',\n        errors: {},\n      };\n    case SAVE_SETTINGS.SUCCESS:\n      return {\n        ...state,\n        saveState: 'complete',\n        values: { ...state.values, ...action.payload.values },\n        errors: {},\n        confirmationValues: {\n          ...state.confirmationValues,\n          ...action.payload.confirmationValues,\n        },\n      };\n    case SAVE_SETTINGS.FAILURE:\n      return {\n        ...state,\n        saveState: 'error',\n        errors: { ...state.errors, ...action.payload.errors },\n      };\n    case SAVE_SETTINGS.RESET:\n      return {\n        ...state,\n        saveState: null,\n        errors: {},\n      };\n    case SAVE_PREVIOUS_SITE_LANGUAGE:\n      return {\n        ...state,\n        previousSiteLanguage: action.payload.previousSiteLanguage,\n      };\n    case SAVE_MULTIPLE_SETTINGS.BEGIN:\n      return {\n        ...state,\n        saveState: 'pending',\n      };\n\n    case SAVE_MULTIPLE_SETTINGS.SUCCESS:\n      return {\n        ...state,\n        saveState: 'complete',\n      };\n\n    case SAVE_MULTIPLE_SETTINGS.FAILURE:\n      return {\n        ...state,\n        saveState: 'error',\n        errors: { ...state.errors, ...action.payload.errors },\n      };\n\n    case FETCH_TIME_ZONES.SUCCESS:\n      return {\n        ...state,\n        countryTimeZones: action.payload.timeZones,\n      };\n\n      // TODO: Once all the above cases have been converted into sub-reducers, we can use\n      // combineReducers in this file to greatly simplify it.\n\n    // Delete My Account\n    case DELETE_ACCOUNT.CONFIRMATION:\n    case DELETE_ACCOUNT.BEGIN:\n    case DELETE_ACCOUNT.SUCCESS:\n    case DELETE_ACCOUNT.FAILURE:\n    case DELETE_ACCOUNT.RESET:\n    case DELETE_ACCOUNT.CANCEL:\n      return {\n        ...state,\n        deleteAccount: deleteAccountReducer(state.deleteAccount, action),\n      };\n\n    case FETCH_SITE_LANGUAGES.BEGIN:\n    case FETCH_SITE_LANGUAGES.SUCCESS:\n    case FETCH_SITE_LANGUAGES.FAILURE:\n    case FETCH_SITE_LANGUAGES.RESET:\n      return {\n        ...state,\n        siteLanguage: siteLanguageReducer(state.siteLanguage, action),\n      };\n\n    case RESET_PASSWORD.BEGIN:\n    case RESET_PASSWORD.SUCCESS:\n    case RESET_PASSWORD.FORBIDDEN:\n      return {\n        ...state,\n        resetPassword: resetPasswordReducer(state.resetPassword, action),\n      };\n\n    case REQUEST_NAME_CHANGE.BEGIN:\n    case REQUEST_NAME_CHANGE.SUCCESS:\n    case REQUEST_NAME_CHANGE.FAILURE:\n    case REQUEST_NAME_CHANGE.RESET:\n      return {\n        ...state,\n        nameChange: nameChangeReducer(state.nameChange, action),\n      };\n\n    case DISCONNECT_AUTH.BEGIN:\n    case DISCONNECT_AUTH.SUCCESS:\n    case DISCONNECT_AUTH.FAILURE:\n    case DISCONNECT_AUTH.RESET:\n      return {\n        ...state,\n        thirdPartyAuth: thirdPartyAuthReducer(state.thirdPartyAuth, action),\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import {\n  call, put, delay, takeEvery, all,\n} from 'redux-saga/effects';\n\nimport { publish } from '@edx/frontend-platform';\nimport { getLocale, handleRtl, LOCALE_CHANGED } from '@edx/frontend-platform/i18n';\nimport { getAuthenticatedUser } from '@edx/frontend-platform/auth';\n\n// Actions\nimport {\n  FETCH_SETTINGS,\n  fetchSettingsBegin,\n  fetchSettingsSuccess,\n  fetchSettingsFailure,\n  closeForm,\n  SAVE_SETTINGS,\n  SAVE_MULTIPLE_SETTINGS,\n  saveSettingsBegin,\n  saveSettingsSuccess,\n  saveSettingsFailure,\n  savePreviousSiteLanguage,\n  FETCH_TIME_ZONES,\n  fetchTimeZones,\n  fetchTimeZonesSuccess,\n  saveMultipleSettingsBegin,\n  saveMultipleSettingsSuccess,\n  saveMultipleSettingsFailure,\n  beginNameChange,\n} from './actions';\n\n// Sub-modules\nimport { saga as deleteAccountSaga } from '../delete-account';\nimport { saga as resetPasswordSaga } from '../reset-password';\nimport { saga as nameChangeSaga } from '../name-change';\nimport {\n  saga as siteLanguageSaga,\n  patchPreferences,\n  postSetLang,\n} from '../site-language';\nimport { saga as thirdPartyAuthSaga } from '../third-party-auth';\n\n// Services\nimport {\n  getSettings,\n  patchSettings,\n  getTimeZones,\n  getVerifiedNameHistory,\n} from './service';\n\nexport function* handleFetchSettings() {\n  try {\n    yield put(fetchSettingsBegin());\n    const { username, userId, roles: userRoles } = getAuthenticatedUser();\n\n    const {\n      thirdPartyAuthProviders, profileDataManager, timeZones, ...values\n    } = yield call(\n      getSettings,\n      username,\n      userRoles,\n      userId,\n    );\n\n    const verifiedNameHistory = yield call(getVerifiedNameHistory);\n\n    if (values.country) { yield put(fetchTimeZones(values.country)); }\n\n    yield put(fetchSettingsSuccess({\n      values,\n      thirdPartyAuthProviders,\n      profileDataManager,\n      timeZones,\n      verifiedNameHistory,\n    }));\n  } catch (e) {\n    yield put(fetchSettingsFailure(e.message));\n    throw e;\n  }\n}\n\nexport function* handleSaveSettings(action) {\n  try {\n    yield put(saveSettingsBegin());\n\n    const { username, userId } = getAuthenticatedUser();\n    const { commitValues, formId } = action.payload;\n    const commitData = { [formId]: commitValues };\n    let savedValues = null;\n    if (formId === 'siteLanguage') {\n      const previousSiteLanguage = getLocale();\n      // The following two requests need to be done sequentially, with patching preferences before\n      // the post to setlang.  They used to be done in parallel, but this might create ambiguous\n      // behavior.\n      yield call(patchPreferences, username, { prefLang: commitValues });\n      yield call(postSetLang, commitValues);\n\n      yield put(savePreviousSiteLanguage(previousSiteLanguage));\n\n      publish(LOCALE_CHANGED, getLocale());\n      handleRtl();\n      savedValues = commitData;\n    } else {\n      savedValues = yield call(patchSettings, username, commitData, userId);\n    }\n    yield put(saveSettingsSuccess(savedValues, commitData));\n    if (savedValues.country) { yield put(fetchTimeZones(savedValues.country)); }\n    yield delay(1000);\n    yield put(closeForm(action.payload.formId));\n  } catch (e) {\n    if (e.fieldErrors) {\n      if (e.fieldErrors.name?.includes('verification')) {\n        yield put(beginNameChange('name'));\n      }\n      yield put(saveSettingsFailure({ fieldErrors: e.fieldErrors }));\n    } else {\n      yield put(saveSettingsFailure(e.message));\n      throw e;\n    }\n  }\n}\n\n// handles mutiple settings saved at once, in order, and stops executing on first failure.\nexport function* handleSaveMultipleSettings(action) {\n  try {\n    yield put(saveMultipleSettingsBegin());\n    const { username, userId } = getAuthenticatedUser();\n    const { settingsArray, form } = action.payload;\n    for (let i = 0; i < settingsArray.length; i += 1) {\n      const { formId, commitValues } = settingsArray[i];\n      yield put(saveSettingsBegin());\n      const commitData = { [formId]: commitValues };\n      const savedSettings = yield call(patchSettings, username, commitData, userId);\n      yield put(saveSettingsSuccess(savedSettings, commitData));\n    }\n    yield put(saveMultipleSettingsSuccess(action));\n    if (form) {\n      yield delay(1000);\n      yield put(closeForm(form));\n    }\n  } catch (e) {\n    if (e.fieldErrors) {\n      if (e.fieldErrors.name?.includes('verification')) {\n        yield put(beginNameChange('name'));\n      }\n      yield put(saveMultipleSettingsFailure({ fieldErrors: e.fieldErrors }));\n    } else {\n      yield put(saveMultipleSettingsFailure(e.message));\n      throw e;\n    }\n  }\n}\n\nexport function* handleFetchTimeZones(action) {\n  const response = yield call(getTimeZones, action.payload.country);\n  yield put(fetchTimeZonesSuccess(response, action.payload.country));\n}\n\nexport default function* saga() {\n  yield takeEvery(FETCH_SETTINGS.BASE, handleFetchSettings);\n  yield takeEvery(SAVE_SETTINGS.BASE, handleSaveSettings);\n  yield takeEvery(SAVE_MULTIPLE_SETTINGS.BASE, handleSaveMultipleSettings);\n  yield takeEvery(FETCH_TIME_ZONES.BASE, handleFetchTimeZones);\n  yield all([\n    deleteAccountSaga(),\n    siteLanguageSaga(),\n    resetPasswordSaga(),\n    nameChangeSaga(),\n    thirdPartyAuthSaga(),\n  ]);\n}\n","import React from 'react';\nimport { FormattedMessage } from '@edx/frontend-platform/i18n';\n\nconst NotFoundPage = () => (\n  <div\n    className=\"container-fluid d-flex py-5 justify-content-center align-items-start text-center\"\n    data-testid=\"not-found-page\"\n  >\n    <p className=\"my-0 py-5 text-muted\" style={{ maxWidth: '32em' }}>\n      <FormattedMessage\n        id=\"error.notfound.message\"\n        defaultMessage=\"The page you're looking for is unavailable or there's an error in the URL. Please check the URL and try again.\"\n        description=\"Error message when a page does not exist\"\n      />\n    </p>\n  </div>\n);\n\nexport default NotFoundPage;\n","export const IDLE_STATUS = 'idle';\nexport const LOADING_STATUS = 'loading';\nexport const SUCCESS_STATUS = 'success';\nexport const FAILURE_STATUS = 'failure';\n","import { Actions } from './actions';\nimport {\n  IDLE_STATUS,\n  LOADING_STATUS,\n  SUCCESS_STATUS,\n  FAILURE_STATUS,\n} from '../../constants';\n\nexport const defaultState = {\n  showPreferences: false,\n  courses: {\n    status: IDLE_STATUS,\n    courses: [],\n    pagination: {},\n  },\n  preferences: {\n    status: IDLE_STATUS,\n    selectedCourse: null,\n    preferences: [],\n    apps: [],\n    nonEditable: {},\n  },\n};\n\nconst notificationPreferencesReducer = (state = defaultState, action = {}) => {\n  const {\n    courseId, appId, notificationChannel, preferenceName, value,\n  } = action;\n  switch (action.type) {\n    case Actions.FETCHING_COURSE_LIST:\n      return {\n        ...state,\n        courses: {\n          ...state.courses,\n          status: LOADING_STATUS,\n        },\n      };\n    case Actions.FETCHED_COURSE_LIST:\n      return {\n        ...state,\n        courses: {\n          status: SUCCESS_STATUS,\n          courses: [...state.courses.courses, ...action.payload.courseList],\n          pagination: action.payload.pagination,\n        },\n        showPreferences: action.payload.showPreferences,\n      };\n    case Actions.FAILED_COURSE_LIST:\n      return {\n        ...state,\n        courses: {\n          ...state.courses,\n          status: FAILURE_STATUS,\n        },\n      };\n    case Actions.FETCHING_PREFERENCES:\n      return {\n        ...state,\n        preferences: {\n          ...state.preferences,\n          status: LOADING_STATUS,\n          preferences: [],\n          apps: [],\n          nonEditable: {},\n        },\n      };\n    case Actions.FETCHED_PREFERENCES:\n      return {\n        ...state,\n        preferences: {\n          ...state.preferences,\n          status: SUCCESS_STATUS,\n          ...action.payload,\n        },\n      };\n    case Actions.FAILED_PREFERENCES:\n      return {\n        ...state,\n        preferences: {\n          ...state.preferences,\n          status: FAILURE_STATUS,\n          preferences: [],\n          apps: [],\n          nonEditable: {},\n        },\n      };\n    case Actions.UPDATE_SELECTED_COURSE:\n      return {\n        ...state,\n        preferences: {\n          ...state.preferences,\n          selectedCourse: courseId,\n        },\n      };\n    case Actions.UPDATE_PREFERENCE:\n      return {\n        ...state,\n        preferences: {\n          ...state.preferences,\n          preferences: state.preferences.preferences.map((preference) => (\n            preference.id === preferenceName\n              ? { ...preference, [notificationChannel]: value }\n              : preference\n          )),\n          status: LOADING_STATUS,\n        },\n      };\n    case Actions.UPDATE_APP_PREFERENCE:\n      return {\n        ...state,\n        preferences: {\n          ...state.preferences,\n          apps: state.preferences.apps.map(app => (\n            app.id === appId\n              ? { ...app, enabled: value }\n              : app\n          )),\n        },\n      };\n    default:\n      return state;\n  }\n};\n\nexport default notificationPreferencesReducer;\n","import { all } from 'redux-saga/effects';\nimport { saga as accountSettingsSaga } from '../account-settings';\n\nexport default function* rootSaga() {\n  yield all([accountSettingsSaga()]);\n}\n","import { getConfig } from '@edx/frontend-platform';\nimport { applyMiddleware, createStore, compose } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { createLogger } from 'redux-logger';\nimport createSagaMiddleware from 'redux-saga';\n\nimport createRootReducer from './reducers';\nimport rootSaga from './sagas';\n\nconst sagaMiddleware = createSagaMiddleware();\n\nfunction composeMiddleware() {\n  if (getConfig().ENVIRONMENT === 'development') {\n    const loggerMiddleware = createLogger({\n      collapsed: true,\n    });\n    return composeWithDevTools(applyMiddleware(thunkMiddleware, sagaMiddleware, loggerMiddleware));\n  }\n\n  return compose(applyMiddleware(thunkMiddleware, sagaMiddleware));\n}\n\nexport default function configureStore(initialState = {}) {\n  const store = createStore(\n    createRootReducer(),\n    initialState,\n    composeMiddleware(),\n  );\n  sagaMiddleware.run(rootSaga);\n\n  return store;\n}\n","import { combineReducers } from 'redux';\n\nimport {\n  reducer as accountSettingsReducer,\n  storeName as accountSettingsStoreName,\n} from '../account-settings';\nimport notificationPreferencesReducer from '../notification-preferences/data/reducers';\n\nconst createRootReducer = () => combineReducers({\n  [accountSettingsStoreName]: accountSettingsReducer,\n  notificationPreferences: notificationPreferencesReducer,\n});\nexport default createRootReducer;\n","export const storeName = 'idVerifiction';\n\nexport const idVerificationSelector = state => ({ ...state[storeName] });\n","/**\n * This polyfill is from MDN:\n * https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia\n *\n * Their description:\n * \"Here's an example of using navigator.mediaDevices.getUserMedia(), with a\n * polyfill to cope with older browsers. Note that this polyfill does not\n * correct for legacy differences in constraints syntax, which means constraints\n * won't work well across browsers. It is recommended to use the adapter.js\n * polyfill instead, which does handle constraints.\"\n *\n * Despite the lack of support for differences in constraints we'll use this\n * since it's small and simple and we don't have a need for constraints at the\n * moment. I've added an export hasGetUserMediaSupport before the polyfill to\n * help us understand support before making calls to getUserMedia.\n */\n\n// IIFE to check getUserMedia support. Must be run before the polyfill.\nconst hasGetUserMediaSupport = (() => {\n  // Modern API\n  if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n    return true;\n  }\n  // Deprecated APIs\n  if (navigator.webkitGetUserMedia || navigator.mozGetUserMedia) {\n    return true;\n  }\n  return false;\n})();\n\n// Older browsers might not implement mediaDevices at all, so we set an empty object first\nif (navigator.mediaDevices === undefined) {\n  navigator.mediaDevices = {};\n}\n\n// Some browsers partially implement mediaDevices. We can't just assign an object\n// with getUserMedia as it would overwrite existing properties.\n// Here, we will just add the getUserMedia property if it's missing.\nif (navigator.mediaDevices.getUserMedia === undefined) {\n  // eslint-disable-next-line func-names\n  navigator.mediaDevices.getUserMedia = function (constraints) {\n    // First get ahold of the legacy getUserMedia, if present\n    const getUserMedia = navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\n\n    // Some browsers just don't implement it - return a rejected promise with an error\n    // to keep a consistent interface\n    if (!getUserMedia) {\n      return Promise.reject(new Error('getUserMedia is not implemented in this browser'));\n    }\n\n    // Otherwise, wrap the call to the old navigator.getUserMedia with a Promise\n    return new Promise(((resolve, reject) => {\n      getUserMedia.call(navigator, constraints, resolve, reject);\n    }));\n  };\n}\n\n// eslint-disable-next-line import/prefer-default-export\nexport { hasGetUserMediaSupport };\n","import { useEffect, useState } from 'react';\nimport { getConfig } from '@edx/frontend-platform';\nimport { logError } from '@edx/frontend-platform/logging';\n\nimport {\n  IDLE_STATUS, LOADING_STATUS, SUCCESS_STATUS, FAILURE_STATUS,\n} from './constants';\n\n// eslint-disable-next-line import/prefer-default-export\nexport function useAsyncCall(asyncFunc) {\n  // React doesn't batch setStates call in async useEffect hooks,\n  // so we use a combined object here to ensure that users\n  // re-render once.\n  const [data, setData] = useState({ status: IDLE_STATUS });\n\n  useEffect(\n    () => {\n      (async () => {\n        setData(currData => ({ ...currData, status: LOADING_STATUS }));\n        const response = await asyncFunc();\n\n        if (Object.keys(response).length === 0) {\n          setData(currData => ({ ...currData, status: FAILURE_STATUS, data: response }));\n        } else {\n          setData(currData => ({ ...currData, status: SUCCESS_STATUS, data: response }));\n        }\n      })();\n    },\n    [asyncFunc],\n  );\n\n  return data;\n}\n\n// Redirect the user to their original location based on session storage\nexport function useRedirect() {\n  const [redirect, setRedirect] = useState({\n    location: 'dashboard',\n    text: 'id.verification.return.dashboard',\n  });\n\n  useEffect(() => {\n    if (sessionStorage.getItem('courseId')) {\n      setRedirect({\n        location: `courses/${sessionStorage.getItem('courseId')}`,\n        text: 'id.verification.return.course',\n      });\n    } else if (sessionStorage.getItem('next')) {\n      setRedirect({\n        location: sessionStorage.getItem('next'),\n        text: 'id.verification.return.generic',\n      });\n    }\n  }, []);\n\n  return redirect;\n}\n\nexport function useFeedbackWrapper() {\n  useEffect(() => {\n    try {\n    // eslint-disable-next-line no-undef\n      window.usabilla_live = lightningjs?.require('usabilla_live', getConfig().LEARNER_FEEDBACK_URL);\n    } catch (error) {\n      logError('Error loading usabilla_live', error);\n    }\n  }, []);\n}\n","import qs from 'qs';\n\nimport { getConfig } from '@edx/frontend-platform';\nimport { getAuthenticatedHttpClient } from '@edx/frontend-platform/auth';\n\n/**\n * Get ID verification status from LMS.\n *\n * Returns {\n *  status: String,\n *  expires: String|null,\n *  canVerify: Boolean,\n * }\n */\nexport async function getExistingIdVerification() {\n  const url = `${getConfig().LMS_BASE_URL}/verify_student/status/`;\n  const requestConfig = {\n    headers: { Accept: 'application/json' },\n  };\n  try {\n    const response = await getAuthenticatedHttpClient().get(url, requestConfig);\n    return {\n      status: response.data.status || null,\n      expires: response.data.expires || null,\n      canVerify: response.data.can_verify || false,\n    };\n  } catch (e) {\n    return { status: null, expires: null, canVerify: false };\n  }\n}\n\n/**\n * Get the learner's enrollments. Used to check whether the learner is enrolled\n * in a verified course mode.\n *\n * Returns an array: [{...data, mode: String}]\n */\nexport async function getEnrollments() {\n  const url = `${getConfig().LMS_BASE_URL}/api/enrollment/v1/enrollment`;\n  const requestConfig = {\n    headers: { Accept: 'application/json' },\n  };\n  try {\n    const { data } = await getAuthenticatedHttpClient().get(url, requestConfig);\n    return data;\n  } catch (e) {\n    return {};\n  }\n}\n\n/**\n * Submit ID verifiction to LMS.\n *\n * verificationData should take the shape of:\n *   - facePhotoFile (String): Base64-encoded image.\n *   - idPhotoFile (String|null): Optional Base64-encoded image\n *   - idPhotoName (String|null): Optional string to change the user's name to.\n *   - courseRunKey (String|null): Optional course run to redirect to.\n *\n * Returns { success: Boolean, message: String|null }\n */\nexport async function submitIdVerification(verificationData) {\n  const keyMap = {\n    facePhotoFile: 'face_image',\n    idPhotoFile: 'photo_id_image',\n    idPhotoName: 'full_name',\n  };\n  const postData = {};\n  // Don't include blank/null/undefined values.\n  // Note that this will also drop the value `false`.\n  Object.keys(keyMap).forEach((jsKey) => {\n    const apiKey = keyMap[jsKey];\n    if (verificationData[jsKey]) {\n      postData[apiKey] = verificationData[jsKey];\n    }\n  });\n\n  const url = `${getConfig().LMS_BASE_URL}/verify_student/submit-photos/`;\n  const urlEncodedPostData = qs.stringify(postData);\n  const requestConfig = {\n    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n  };\n  try {\n    await getAuthenticatedHttpClient().post(url, urlEncodedPostData, requestConfig);\n    return { success: true, message: null };\n  } catch (e) {\n    return {\n      success: false,\n      status: e.customAttributes.httpErrorStatus,\n      message: String(e),\n    };\n  }\n}\n","import { defineMessages } from '@edx/frontend-platform/i18n';\n\nconst messages = defineMessages({\n  'id.verification.next': {\n    id: 'id.verification.next',\n    defaultMessage: 'Next',\n    description: 'Next button.',\n  },\n  'id.verification.support': {\n    id: 'id.verification.support',\n    defaultMessage: 'support',\n    description: 'Website support.',\n  },\n  'id.verification.example.card.alt': {\n    id: 'id.verification.example.card.alt',\n    defaultMessage: 'Example of a valid identification card with a full name and photo.',\n    description: 'Alt text for an example identification card.',\n  },\n  'id.verification.requirements.title': {\n    id: 'id.verification.requirements.title',\n    defaultMessage: 'Photo Verification Requirements',\n    description: 'Title for the Photo Verification Requirements page.',\n  },\n  'id.verification.requirements.description': {\n    id: 'id.verification.requirements.description',\n    defaultMessage: 'In order to complete Photo Verification, you will need the following:',\n    description: 'Description for the Photo Verification Requirements page.',\n  },\n  'id.verification.requirements.card.device.title': {\n    id: 'id.verification.requirements.card.device.title',\n    defaultMessage: 'Device with Camera',\n    description: 'Title for the Device with Camera card.',\n  },\n  'id.verification.requirements.card.device.allow': {\n    id: 'id.verification.requirements.card.device.allow',\n    defaultMessage: 'Allow',\n    description: 'Bold text emphasizing that the user needs to click \"allow\" in order to enable the camera.',\n  },\n  'id.verification.requirements.card.id.title': {\n    id: 'id.verification.requirements.card.id.title',\n    defaultMessage: 'Photo Identification Card',\n    description: 'Title for the Photo Identification requirement card.',\n  },\n  'id.verification.requirements.card.id.text': {\n    id: 'id.verification.requirements.card.id.text',\n    defaultMessage: 'You need a valid identification card that contains your full name and photo, such as a drivers license or passport.',\n    description: 'Text that explains that the user needs a photo ID.',\n  },\n  'id.verification.privacy.title': {\n    id: 'id.verification.privacy.title',\n    defaultMessage: 'Privacy Information',\n    description: 'Title for Privacy Information.',\n  },\n  'id.verification.privacy.need.photo.question': {\n    id: 'id.verification.privacy.need.photo.question',\n    defaultMessage: 'Why does {siteName} need my photo?',\n    description: 'Question about why the platform needs a verification photo.',\n  },\n  'id.verification.privacy.need.photo.answer': {\n    id: 'id.verification.privacy.need.photo.answer',\n    defaultMessage: 'We use your verification photos to confirm your identity and ensure the validity of your certificate.',\n    description: 'Answering why the platform needs a verification photo.',\n  },\n  'id.verification.privacy.do.with.photo.question': {\n    id: 'id.verification.privacy.do.with.photo.question',\n    defaultMessage: 'What does {siteName} do with this photo?',\n    description: 'Question about what the platform does with the verification photo.',\n  },\n  'id.verification.privacy.do.with.photo.answer': {\n    id: 'id.verification.privacy.do.with.photo.answer',\n    defaultMessage: 'We securely encrypt your photo and send it our authorization service for review. Your photo and information are not saved or visible anywhere on {siteName} after the verification process is complete.',\n    description: 'Answering what the platform does with the verification photo.',\n  },\n  'id.verification.access.blocked.title': {\n    id: 'id.verification.access.blocked.title',\n    defaultMessage: 'Identity Verification',\n    description: 'Title for text that displays when a user is blocked from ID verification.',\n  },\n  'id.verification.access.blocked.enrollment': {\n    id: 'id.verification.access.blocked.enrollment',\n    defaultMessage: 'You are not currently enrolled in a course that requires identity verification.',\n    description: 'Text that displays when user is trying to verify while not enrolled in a course that requires ID verification.',\n  },\n  'id.verification.access.blocked.pending': {\n    id: 'id.verification.access.blocked.pending',\n    defaultMessage: 'You have already submitted your verification information. You will see a message on your dashboard when the verification process is complete (usually within 5 days).',\n    description: 'Text that displays when user has a pending or approved request.',\n  },\n  'id.verification.photo.take': {\n    id: 'id.verification.photo.take',\n    defaultMessage: 'Take Photo',\n    description: 'Button to take photo.',\n  },\n  'id.verification.photo.retake': {\n    id: 'id.verification.photo.retake',\n    defaultMessage: 'Retake Photo?',\n    description: 'Button to retake photo.',\n  },\n  'id.verification.photo.enable.detection': {\n    id: 'id.verification.photo.enable.detection',\n    defaultMessage: 'Enable Face Detection',\n    description: 'Text label for the checkbox to enable face detection.',\n  },\n  'id.verification.photo.enable.detection.portrait.help.text': {\n    id: 'id.verification.photo.enable.detection.portrait.help.text',\n    defaultMessage: 'If checked, a box will appear around your face. Your face can be seen clearly if the box around it is blue. If your face is not in a good position or undetectable, the box will be red.',\n    description: 'Help text that appears for enabling face detection on the portrait photo panel.',\n  },\n  'id.verification.photo.enable.detection.id.help.text': {\n    id: 'id.verification.photo.enable.detection.id.help.text',\n    defaultMessage: 'If checked, a box will appear around the face on your ID card. The face can be seen clearly if the box around it is blue. If the face is not in a good position or undetectable, the box will be red.',\n    description: 'Help text that appears for enabling face detection on the portrait photo panel.',\n  },\n  'id.verification.photo.feedback.correct': {\n    id: 'id.verification.photo.feedback.correct',\n    defaultMessage: 'Face is in a good position.',\n    description: 'Text for screen reader when user\\'s face is in a good position.',\n  },\n  'id.verification.photo.feedback.two.faces': {\n    id: 'id.verification.photo.feedback.two.faces',\n    defaultMessage: 'More than one face detected.',\n    description: 'Text for screen reader when more than one face detected.',\n  },\n  'id.verification.photo.feedback.no.faces': {\n    id: 'id.verification.photo.feedback.no.faces',\n    defaultMessage: 'No face detected.',\n    description: 'Text for screen reader when no face detected.',\n  },\n  'id.verification.photo.feedback.top.left': {\n    id: 'id.verification.photo.feedback.top.left',\n    defaultMessage: 'Incorrect position. Top left.',\n    description: 'Text for screen reader when face is in a bad position.',\n  },\n  'id.verification.photo.feedback.top.center': {\n    id: 'id.verification.photo.feedback.top.center',\n    defaultMessage: 'Incorrect position. Top center.',\n    description: 'Text for screen reader when face is in a bad position.',\n  },\n  'id.verification.photo.feedback.top.right': {\n    id: 'id.verification.photo.feedback.top.right',\n    defaultMessage: 'Incorrect position. Top right.',\n    description: 'Text for screen reader when face is in a bad position.',\n  },\n  'id.verification.photo.feedback.center.left': {\n    id: 'id.verification.photo.feedback.center.left',\n    defaultMessage: 'Incorrect position. Center left.',\n    description: 'Text for screen reader when face is in a bad position.',\n  },\n  'id.verification.photo.feedback.center.center': {\n    id: 'id.verification.photo.feedback.center.center',\n    defaultMessage: 'Incorrect position. Too close to camera.',\n    description: 'Text for screen reader when face is in a bad position.',\n  },\n  'id.verification.photo.feedback.center.right': {\n    id: 'id.verification.photo.feedback.center.right',\n    defaultMessage: 'Incorrect position. Center right.',\n    description: 'Text for screen reader when face is in a bad position.',\n  },\n  'id.verification.photo.feedback.bottom.left': {\n    id: 'id.verification.photo.feedback.bottom.left',\n    defaultMessage: 'Incorrect position. Bottom left.',\n    description: 'Text for screen reader when face is in a bad position.',\n  },\n  'id.verification.photo.feedback.bottom.center': {\n    id: 'id.verification.photo.feedback.bottom.center',\n    defaultMessage: 'Incorrect position. Bottom center.',\n    description: 'Text for screen reader when face is in a bad position.',\n  },\n  'id.verification.photo.feedback.bottom.right': {\n    id: 'id.verification.photo.feedback.bottom.right',\n    defaultMessage: 'Incorrect position. Bottom right.',\n    description: 'Text for screen reader when face is in a bad position.',\n  },\n  'id.verification.camera.access.title': {\n    id: 'id.verification.camera.access.title',\n    defaultMessage: 'Camera Permissions',\n    description: 'Title for the Camera Access page.',\n  },\n  'id.verification.camera.access.title.success': {\n    id: 'id.verification.camera.access.title.success',\n    defaultMessage: 'Camera Access Enabled',\n    description: 'Title for the Camera Access page when camera is enabled.',\n  },\n  'id.verification.camera.access.title.failed': {\n    id: 'id.verification.camera.access.title.failed',\n    defaultMessage: 'Camera Access Failed',\n    description: 'Title for the Camera Access page when camera access is denied or unavailable.',\n  },\n  'id.verification.camera.access.click.allow': {\n    id: 'id.verification.camera.access.click.allow',\n    defaultMessage: 'Please make sure to click \"Allow\"',\n    description: 'Instruction to allow camera access.',\n  },\n  'id.verification.camera.access.enable': {\n    id: 'id.verification.camera.access.enable',\n    defaultMessage: 'Enable Camera',\n    description: 'Text to enable camera.',\n  },\n  'id.verification.camera.access.problems': {\n    id: 'id.verification.camera.access.problems',\n    defaultMessage: 'Having problems?',\n    description: 'Text for when the user is having problems enabling camera access.',\n  },\n  'id.verification.camera.access.skip': {\n    id: 'id.verification.camera.access.skip',\n    defaultMessage: 'Skip and upload image files instead',\n    description: 'Text to skip camera access and enable image uploading.',\n  },\n  'id.verification.camera.access.success': {\n    id: 'id.verification.camera.access.success',\n    defaultMessage: 'Looks like your camera is working and ready.',\n    description: 'Text to confirm that camera is working.',\n  },\n  'id.verification.camera.access.failure': {\n    id: 'id.verification.camera.access.failure',\n    defaultMessage: 'It looks like we\\'re unable to access your camera. You will need to upload image files of you and your photo id.',\n    description: 'Text indicating that the camera could not be accessed and image upload will be enabled.',\n  },\n  'id.verification.camera.access.failure.temporary': {\n    id: 'id.verification.camera.access.failure.temporary',\n    defaultMessage: 'It looks like we\\'re unable to access your camera. Please verify that your webcam is connected and that you have allowed your browser to access it.',\n    description: 'Text indicating that the camera could not be accessed.',\n  },\n  'id.verification.camera.access.failure.temporary.chrome': {\n    id: 'id.verification.camera.access.failure.temporary.chrome',\n    defaultMessage: 'To enable camera access in Chrome:',\n    description: 'Description for the directions on enabling camera access.',\n  },\n  'id.verification.camera.access.failure.temporary.chrome.step1': {\n    id: 'id.verification.camera.access.failure.temporary.chrome.step1',\n    defaultMessage: 'Open Chrome.',\n    description: 'Text for step one of enabling camera access.',\n  },\n  'id.verification.camera.access.failure.temporary.chrome.step2': {\n    id: 'id.verification.camera.access.failure.temporary.chrome.step2',\n    defaultMessage: 'Navigate to More > Settings.',\n    description: 'Text for step two of enabling camera access.',\n  },\n  'id.verification.camera.access.failure.temporary.chrome.step2.windows': {\n    id: 'id.verification.camera.access.failure.temporary.chrome.step2.windows',\n    defaultMessage: 'For Windows: Alt+F, Alt+E, or F10 followed by the spacebar',\n    description: 'Text for Windows keyboard shortcut in chrome.',\n  },\n  'id.verification.camera.access.failure.temporary.chrome.step2.mac': {\n    id: 'id.verification.camera.access.failure.temporary.chrome.step2.mac',\n    defaultMessage: 'For Mac: Command+,',\n    description: 'Text for Mac keyboard shortcut in chrome.',\n  },\n  'id.verification.camera.access.failure.temporary.chrome.step3': {\n    id: 'id.verification.camera.access.failure.temporary.chrome.step3',\n    defaultMessage: 'Under the \"Privacy and security\" tab, select \"Site Settings\" and then \"Camera.\"',\n    description: 'Text for step three of enabling camera access.',\n  },\n  'id.verification.camera.access.failure.temporary.chrome.step4': {\n    id: 'id.verification.camera.access.failure.temporary.chrome.step4',\n    defaultMessage: 'Under \"Blocked,\" find \"edx.org\" and select it.',\n    description: 'Text for step four of enabling camera access.',\n  },\n  'id.verification.camera.access.failure.temporary.chrome.step5': {\n    id: 'id.verification.camera.access.failure.temporary.chrome.step5',\n    defaultMessage: 'In the \"Permissions\" section, update the camera permissions to \"Allow.\"',\n    description: 'Text for step five of enabling camera access.',\n  },\n  'id.verification.camera.access.failure.temporary.ie11': {\n    id: 'id.verification.camera.access.failure.temporary.ie11',\n    defaultMessage: 'To enable camera access in Internet Explorer:',\n    description: 'Description for the directions on enabling camera access.',\n  },\n  'id.verification.camera.access.failure.temporary.ie11.step1': {\n    id: 'id.verification.camera.access.failure.temporary.ie11.step1',\n    defaultMessage: 'Open the Flash Player Settings Manager by navigating to Windows Settings > Control Panel > Flash Player.',\n    description: 'Text for step one of enabling camera access.',\n  },\n  'id.verification.camera.access.failure.temporary.ie11.step2': {\n    id: 'id.verification.camera.access.failure.temporary.ie11.step2',\n    defaultMessage: 'Select the \"Camera and Mic\" tab, and then select the \"Camera and Microphone Settings by Site\" button.',\n    description: 'Text for step two of enabling camera access.',\n  },\n  'id.verification.camera.access.failure.temporary.ie11.step3': {\n    id: 'id.verification.camera.access.failure.temporary.ie11.step3',\n    defaultMessage: 'Choose \"edx.org\" from the list of websites and change the permissions by selecting \"Allow\" in the dropdown menu.',\n    description: 'Text for step three of enabling camera access.',\n  },\n  'id.verification.camera.access.failure.temporary.firefox': {\n    id: 'id.verification.camera.access.failure.temporary.firefox',\n    defaultMessage: 'To enable camera access in Firefox:',\n    description: 'Description for the directions on enabling camera access.',\n  },\n  'id.verification.camera.access.failure.temporary.firefox.step1': {\n    id: 'id.verification.camera.access.failure.temporary.firefox.step1',\n    defaultMessage: 'Open Firefox.',\n    description: 'Text for step one of enabling camera access.',\n  },\n  'id.verification.camera.access.failure.temporary.firefox.step2': {\n    id: 'id.verification.camera.access.failure.temporary.firefox.step2',\n    defaultMessage: 'Enter \"about:preferences\" in the URL bar.',\n    description: 'Text for step two of enabling camera access.',\n  },\n  'id.verification.camera.access.failure.temporary.firefox.step3': {\n    id: 'id.verification.camera.access.failure.temporary.firefox.step3',\n    defaultMessage: 'Select the \"Privacy & Security\" tab, and navigate to the \"Permissions\" section.',\n    description: 'Text for step three of enabling camera access.',\n  },\n  'id.verification.camera.access.failure.temporary.firefox.step4': {\n    id: 'id.verification.camera.access.failure.temporary.firefox.step4',\n    defaultMessage: 'Next to \"Camera,\" select the \"Settings\" button.',\n    description: 'Text for step four of enabling camera access.',\n  },\n  'id.verification.camera.access.failure.temporary.firefox.step5': {\n    id: 'id.verification.camera.access.failure.temporary.firefox.step5',\n    defaultMessage: 'In the search bar, enter \"edx.org.\"',\n    description: 'Text for step five of enabling camera access.',\n  },\n  'id.verification.camera.access.failure.temporary.firefox.step6': {\n    id: 'id.verification.camera.access.failure.temporary.firefox.step6',\n    defaultMessage: 'In the status column for \"edx.org,\" select \"Allow\" from the drop down.',\n    description: 'Text for step six of enabling camera access.',\n  },\n  'id.verification.camera.access.failure.temporary.firefox.step7': {\n    id: 'id.verification.camera.access.failure.temporary.firefox.step7',\n    defaultMessage: 'Select \"Save Changes.\"',\n    description: 'Text for step seven of enabling camera access.',\n  },\n  'id.verification.camera.access.failure.temporary.safari': {\n    id: 'id.verification.camera.access.failure.temporary.safari',\n    defaultMessage: 'To enable camera access in Safari:',\n    description: 'Description for the directions on enabling camera access.',\n  },\n  'id.verification.camera.access.failure.temporary.safari.step1': {\n    id: 'id.verification.camera.access.failure.temporary.safari.step1',\n    defaultMessage: 'Open Safari.',\n    description: 'Text for step one of enabling camera access.',\n  },\n  'id.verification.camera.access.failure.temporary.safari.step2': {\n    id: 'id.verification.camera.access.failure.temporary.safari.step2',\n    defaultMessage: 'Click on the Safari app menu, then select \"Preferences.\" You can also use Command+, as a keyboard shortcut.',\n    description: 'Text for step two of enabling camera access.',\n  },\n  'id.verification.camera.access.failure.temporary.safari.step3': {\n    id: 'id.verification.camera.access.failure.temporary.safari.step3',\n    defaultMessage: 'Select the \"Websites\" tab and then select \"Camera.\"',\n    description: 'Text for step three of enabling camera access.',\n  },\n  'id.verification.camera.access.failure.temporary.safari.step4': {\n    id: 'id.verification.camera.access.failure.temporary.safari.step4',\n    defaultMessage: 'Select \"edx.org\" and change the camera permissions to \"Allow.\"',\n    description: 'Text for step four of enabling camera access.',\n  },\n  'id.verification.camera.access.failure.unsupported': {\n    id: 'id.verification.camera.access.failure.unsupported',\n    defaultMessage: 'It looks like your browser does not support camera access.',\n    description: 'Text indicating that the user\\'s browser does not support camera access.',\n  },\n  'id.verification.camera.access.failure.unsupported.chrome.explanation': {\n    id: 'id.verification.camera.access.failure.unsupported.chrome.explanation',\n    defaultMessage: 'The Chrome browser currently does not support camera access on iOS devices, such as iPhones and iPads.',\n    description: 'Explanation for why certain web browsers, like Chrome, do not support accessing the user\\'s camera.',\n  },\n  'id.verification.camera.access.failure.unsupported.instructions': {\n    id: 'id.verification.camera.access.failure.unsupported.instructions',\n    defaultMessage: 'Please use another browser to complete Identity Verification.',\n    description: 'Instructions for the user to user another web browser to complete the process.',\n  },\n  'id.verification.photo.tips.title': {\n    id: 'id.verification.photo.tips.title',\n    defaultMessage: 'Helpful Photo Tips',\n    description: 'Title for the Photo Tips page.',\n  },\n  'id.verification.photo.tips.description': {\n    id: 'id.verification.photo.tips.description',\n    defaultMessage: 'Next, we\\'ll need you to take a photo of your face. Please review the helpful tips below.',\n    description: 'Description for the photo tips page.',\n  },\n  'id.verification.photo.tips.list.title': {\n    id: 'id.verification.photo.tips.list.title',\n    defaultMessage: 'Photo Tips',\n    description: 'Title for the list of photo tips.',\n  },\n  'id.verification.photo.tips.list.description': {\n    id: 'id.verification.photo.tips.list.description',\n    defaultMessage: 'To take a successful photo, make sure that:',\n    description: 'Description for the list of photo tips.',\n  },\n  'id.verification.photo.tips.list.well.lit': {\n    id: 'id.verification.photo.tips.list.well.lit',\n    defaultMessage: 'Your face is well-lit.',\n    description: 'Tip to make sure the user\\'s face is well lit.',\n  },\n  'id.verification.photo.tips.list.inside.frame': {\n    id: 'id.verification.photo.tips.list.inside.frame',\n    defaultMessage: 'Your entire face fits inside the frame.',\n    description: 'Tip to make sure the user\\'s face fits inside the frame.',\n  },\n  'id.verification.portrait.photo.title.camera': {\n    id: 'id.verification.portrait.photo.title.camera',\n    defaultMessage: 'Take a Photo of Yourself',\n    description: 'Title for the Portrait Photo page if camera access is enabled.',\n  },\n  'id.verification.portrait.photo.instructions.camera': {\n    id: 'id.verification.portrait.photo.instructions.camera',\n    defaultMessage: 'When your face is in position, use the Take Photo button below to take your photo.',\n    description: 'Instructions to use the camera to take a portrait photo..',\n  },\n  'id.verification.camera.help.sight.question': {\n    id: 'id.verification.camera.help.sight.question',\n    defaultMessage: 'What if I can\\'t see the camera image or if I can\\'t see my photo to determine which side is visible?',\n    description: 'Question on what to do if the user cannot see the camera image or photo during verification.',\n  },\n  'id.verification.camera.help.sight.answer.portrait': {\n    id: 'id.verification.camera.help.sight.answer.portrait',\n    defaultMessage: 'You may be able to complete the image capture procedure without assistance, but it may take a couple of submission attempts to get the camera positioning right. Optimal camera positioning varies with each computer, but generally the best position for a headshot is approximately 12-18 inches (30-45 centimeters) from the camera, with your head centered relative to the computer screen. If the photos you submit are rejected, try moving the computer or camera orientation to change the lighting angle.',\n    description: 'Confirming what to do if the camera image of the portrait cannot be seen during verification.',\n  },\n  'id.verification.camera.help.sight.answer.id': {\n    id: 'id.verification.camera.help.sight.answer.id',\n    defaultMessage: 'You may be able to complete the image capture procedure without assistance, but it may take a couple of submission attempts to get the camera positioning right. Optimal camera positioning varies with each computer, but generally, the best position for a photo of an ID card is 8-12 inches (20-30 centimeters) from the camera, with the ID card centered relative to the camera. If the photos you submit are rejected, try moving the computer or camera orientation to change the lighting angle. The most common reason for rejection is inability to read the text on the ID card.',\n    description: 'Confirming what to do if the camera image of the ID cannot be seen during verification.',\n  },\n  'id.verification.camera.help.difficulty.question.portrait': {\n    id: 'id.verification.camera.help.difficulty.question.portrait',\n    defaultMessage: 'What if I have difficulty holding my head in position relative to the camera?',\n    description: 'Question on what to do if the user has difficulty holding their head relative to the camera.',\n  },\n  'id.verification.camera.help.difficulty.question.id': {\n    id: 'id.verification.camera.help.difficulty.question.id',\n    defaultMessage: 'What if I have difficulty holding my ID in position relative to the camera?',\n    description: 'Question on what to do if the user has difficulty holding their ID relative to the camera.',\n  },\n  'id.verification.camera.help.difficulty.answer': {\n    id: 'id.verification.camera.help.difficulty.answer',\n    defaultMessage: 'If you require assistance with taking a photo for submission, contact {siteName} support for additional suggestions.',\n    description: 'Confirming what to do if the user has difficult holding their head relative to the camera.',\n  },\n  'id.verification.id.photo.unclear.question': {\n    id: 'id.verification.id.photo.unclear.question',\n    defaultMessage: 'Is your ID card image not clear or too blurry?',\n    description: 'Question on what to do if the user\\'s ID image is unclear',\n  },\n  'id.verification.id.tips.title': {\n    id: 'id.verification.id.tips.title',\n    defaultMessage: 'Helpful Identification Card Tips',\n    description: 'Title for the ID Tips page.',\n  },\n  'id.verification.id.tips.description': {\n    id: 'id.verification.id.tips.description',\n    defaultMessage: 'Next, we\\'ll need you to take a photo of a valid identification card that includes your full name and photo, such as a drivers license or passport. Please have your ID ready.',\n    description: 'Description for the ID Tips page.',\n  },\n  'id.verification.id.tips.list.well.lit': {\n    id: 'id.verification.id.tips.list.well.lit',\n    defaultMessage: 'Your identification card is well-lit.',\n    description: 'Tip to ensure ID is well lit.',\n  },\n  'id.verification.id.tips.list.clear': {\n    id: 'id.verification.id.tips.list.clear',\n    defaultMessage: 'Ensure that you can see your photo and clearly read your name.',\n    description: 'Tip to ensure ID and name can be seen clearly.',\n  },\n  'id.verification.id.photo.title.camera': {\n    id: 'id.verification.id.photo.title.camera',\n    defaultMessage: 'Take a Photo of Your Identification Card',\n    description: 'Title for the ID Photo page if camera access is enabled.',\n  },\n  'id.verification.id.photo.title.upload': {\n    id: 'id.verification.id.photo.title.upload',\n    defaultMessage: 'Upload a Photo of Your Identification Card',\n    description: 'Title for the ID Photo page if camera access is disabled.',\n  },\n  'id.verification.id.photo.preview.alt': {\n    id: 'id.verification.id.photo.preview.alt',\n    defaultMessage: 'Preview of photo ID.',\n    description: 'Alt text for the ID photo preview.',\n  },\n  'id.verification.id.photo.instructions.camera': {\n    id: 'id.verification.id.photo.instructions.camera',\n    defaultMessage: 'When your ID is in position, use the Take Photo button below to take your photo. Please use a passport, drivers license, or another identification card that includes your full name and a picture of your face.',\n    description: 'Instructions to use the camera to take an ID photo.',\n  },\n  'id.verification.id.photo.instructions.upload': {\n    id: 'id.verification.id.photo.instructions.upload',\n    defaultMessage: 'Please upload a photo of your identification card. Ensure the entire ID fits inside the frame and is well-lit. The file size must be under 10 MB. Supported formats: ',\n    description: 'Instructions for ID photo upload.',\n  },\n  'id.verification.id.photo.instructions.upload.error.invalidFileType': {\n    id: 'id.verification.id.photo.instructions.upload.error.invalidFileType',\n    defaultMessage: 'The file you have selected is not a supported image type. Please choose from the following formats: ',\n    description: 'Error message for file upload that is not a supported image type.',\n  },\n  'id.verification.id.photo.instructions.upload.error.fileTooLarge': {\n    id: 'id.verification.id.photo.instructions.upload.error.fileTooLarge',\n    defaultMessage: 'The file you have selected is too large. Please try again with a file less than 10MB.',\n    description: 'Error message for file upload that is larger than 10MB.',\n  },\n  'id.verification.name.check.title': {\n    id: 'id.verification.name.check.title',\n    defaultMessage: 'Double-Check Your Name',\n    description: 'Title for the page where a user double-checks that their name is correct.',\n  },\n  'id.verification.name.check.instructions': {\n    id: 'id.verification.name.check.instructions',\n    defaultMessage: 'Does the name below match the name on your photo ID? If not, update the name below to match your photo ID.',\n    description: 'Text to instruct the user to check that the name displayed on the page matches what is on their photo ID.',\n  },\n  'id.verification.name.check.mismatch.information': {\n    id: 'id.verification.name.check.mismatch.information',\n    defaultMessage: 'If the name below does not match your photo ID, your identity verification will be denied.',\n    description: 'Text to inform the user that if the name displayed on the page does not match what is on their photo ID, identity verification will be denied.',\n  },\n  'id.verification.name.error': {\n    id: 'id.verification.name.error',\n    defaultMessage: 'Please enter your name as it appears on your photo ID.',\n    description: 'Error that shows when the user needs to update their name to match the name on their ID.',\n  },\n  'id.verification.account.name.warning.prefix': {\n    id: 'id.verification.account.name.warning.prefix',\n    defaultMessage: 'Please Note:',\n    description: 'Prefix to the warning that any change to the account name will be saved to the account.',\n  },\n  'id.verification.account.name.settings': {\n    id: 'id.verification.account.name.settings',\n    defaultMessage: 'Account Settings',\n    description: 'Link to Account Settings.',\n  },\n  'id.verification.name.label': {\n    id: 'id.verification.name.label',\n    defaultMessage: 'Name',\n    description: 'Label for name input.',\n  },\n  'id.verification.account.name.photo.alt': {\n    id: 'id.verification.account.name.photo.alt',\n    defaultMessage: 'Photo of your ID to be submitted.',\n    description: 'Alt text for the photo of the user\\'s ID.',\n  },\n  'id.verification.review.title': {\n    id: 'id.verification.review.title',\n    defaultMessage: 'Review Your Photos',\n    description: 'Title for the review your photos page.',\n  },\n  'id.verification.review.description': {\n    id: 'id.verification.review.description',\n    defaultMessage: 'Make sure we can verify your identity with the photos and information you have provided.',\n    description: 'Description for the review your photos page.',\n  },\n  'id.verification.review.portrait.label': {\n    id: 'id.verification.review.portrait.label',\n    defaultMessage: 'Your Portrait',\n    description: 'Label for the portrait card.',\n  },\n  'id.verification.review.portrait.alt': {\n    id: 'id.verification.review.portrait.alt',\n    defaultMessage: 'Photo of your face to be submitted.',\n    description: 'Alt text for the portrait photo.',\n  },\n  'id.verification.review.portrait.retake': {\n    id: 'id.verification.review.portrait.retake',\n    defaultMessage: 'Retake Portrait Photo',\n    description: 'Button to retake the portrait photo.',\n  },\n  'id.verification.review.id.label': {\n    id: 'id.verification.review.id.label',\n    defaultMessage: 'Your Identification Card',\n    description: 'Label for the Photo ID card.',\n  },\n  'id.verification.review.id.alt': {\n    id: 'id.verification.review.id.alt',\n    defaultMessage: 'Photo of your identification card to be submitted.',\n    description: 'Alt text for the ID photo.',\n  },\n  'id.verification.review.id.retake': {\n    id: 'id.verification.review.id.retake',\n    defaultMessage: 'Retake ID Photo',\n    description: 'Button to retake the ID photo.',\n  },\n  'id.verification.review.confirm': {\n    id: 'id.verification.review.confirm',\n    defaultMessage: 'Submit',\n    description: 'Button to confirm all information is correct and submit.',\n  },\n  'id.verification.submission.alert.error.face': {\n    id: 'id.verification.submission.alert.error.face',\n    defaultMessage: 'A photo of your face is required. Please retake your portrait photo.',\n    description: 'Error message displayed when the user\\'s portrait photo is missing.',\n  },\n  'id.verification.submission.alert.error.id': {\n    id: 'id.verification.submission.alert.error.id',\n    defaultMessage: 'A photo of your ID card is required. Please retake your ID photo.',\n    description: 'Error message displayed when the user\\'s ID photo is missing.',\n  },\n  'id.verification.submission.alert.error.name': {\n    id: 'id.verification.submission.alert.error.name',\n    defaultMessage: 'A valid account name is required. Please update your account name to match the name on your ID.',\n    description: 'Error message displayed when the user\\'s account name is missing.',\n  },\n  'id.verification.submission.alert.error.unsupported': {\n    id: 'id.verification.submission.alert.error.unsupported',\n    defaultMessage: 'One or more of the files you have uploaded is in an unsupported format. Please choose from the following: ',\n    description: 'Error message displayed when the user uploads an unsupported file type.',\n  },\n  'id.verification.review.error': {\n    id: 'id.verification.review.error',\n    defaultMessage: '{siteName} Support Page',\n    description: 'Text linking to the platform support page.',\n  },\n  'id.verification.submitted.title': {\n    id: 'id.verification.submitted.title',\n    defaultMessage: 'Identity Verification in Progress',\n    description: 'Title for the submitted page.',\n  },\n  'id.verification.submitted.text': {\n    id: 'id.verification.submitted.text',\n    defaultMessage: 'We have received your information and are verifying your identity. You will be notified when the verification process is complete (usually within 5 days). In the meantime, you can still access all available course content.',\n    description: 'Text confirming that ID verification request has been received.',\n  },\n  'id.verification.return.dashboard': {\n    id: 'id.verification.return.dashboard',\n    defaultMessage: 'Return to Your Dashboard',\n    description: 'Button to return to the dashboard.',\n  },\n  'id.verification.return.course': {\n    id: 'id.verification.return.course',\n    defaultMessage: 'Return to Course',\n    description: 'Return to the course which ID verification was accessed from.',\n  },\n  'id.verification.return.generic': {\n    id: 'id.verification.return.generic',\n    defaultMessage: 'Return',\n    description: 'Button to return to the user\\'s original location.',\n  },\n  'id.verification.photo.upload.help.title': {\n    id: 'id.verification.photo.upload.help.title',\n    defaultMessage: 'Upload a Photo Instead',\n    description: 'Title for section that allows switching to photo upload mode.',\n  },\n  'id.verification.photo.camera.help.title': {\n    id: 'id.verification.photo.camera.help.title',\n    defaultMessage: 'Use Your Camera Instead',\n    description: 'Title for section that allows switching to camera mode.',\n  },\n  'id.verification.photo.upload.help.text': {\n    id: 'id.verification.photo.upload.help.text',\n    defaultMessage: 'If you are having trouble using the photo capture above, you may want to upload a photo instead. To upload a photo, click the button below.',\n    description: 'Help text for switching to upload mode.',\n  },\n  'id.verification.photo.camera.help.text': {\n    id: 'id.verification.photo.camera.help.text',\n    defaultMessage: 'If you are having trouble uploading a photo above, you may want to use your camera instead. To use your camera, click the button below.',\n    description: 'Help text for switching to camera mode.',\n  },\n  'id.verification.photo.upload.help.button': {\n    id: 'id.verification.upload.help.button',\n    defaultMessage: 'Switch to Upload Mode',\n    description: 'Button used to switch to upload mode.',\n  },\n  'id.verification.photo.camera.help.button': {\n    id: 'id.verification.camera.help.button',\n    defaultMessage: 'Switch to Camera Mode',\n    description: 'Button used to switch to camera mode.',\n  },\n});\n\nexport default messages;\n","import React from 'react';\n\nconst IdVerificationContext = React.createContext({});\n\nconst MEDIA_ACCESS = {\n  PENDING: 'pending',\n  UNSUPPORTED: 'unsupported',\n  DENIED: 'denied',\n  GRANTED: 'granted',\n};\n\nconst ERROR_REASONS = {\n  COURSE_ENROLLMENT: 'course_enrollment',\n  EXISTING_REQUEST: 'existing_request',\n  CANNOT_VERIFY: 'cannot_verify',\n};\n\nconst VERIFIED_MODES = ['verified', 'professional', 'masters', 'executive_education'];\n\nexport default IdVerificationContext;\nexport {\n  MEDIA_ACCESS,\n  ERROR_REASONS,\n  VERIFIED_MODES,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { getConfig } from '@edx/frontend-platform';\nimport { injectIntl, intlShape, FormattedMessage } from '@edx/frontend-platform/i18n';\n\nimport messages from './IdVerification.messages';\nimport { ERROR_REASONS } from './IdVerificationContext';\n\nconst AccessBlocked = ({ error, intl }) => {\n  const handleMessage = () => {\n    if (error === ERROR_REASONS.COURSE_ENROLLMENT) {\n      return <p>{intl.formatMessage(messages['id.verification.access.blocked.enrollment'])}</p>;\n    }\n    if (error === ERROR_REASONS.EXISTING_REQUEST) {\n      return <p>{intl.formatMessage(messages['id.verification.access.blocked.pending'])}</p>;\n    }\n    return (\n      <FormattedMessage\n        id=\"id.verification.access.blocked.denied\"\n        defaultMessage=\"We cannot verify your identity at this time. If you have yet to activate your account, please check your spam folder for the activation email from {email}.\"\n        description=\"Text that displays when user is denied from making a request, and to check their email for an activation email.\"\n        values={{\n          email: <strong>no-reply@registration.edx.org</strong>,\n        }}\n      />\n    );\n  };\n\n  return (\n    <div>\n      <h3 aria-level=\"1\" tabIndex=\"-1\">\n        {intl.formatMessage(messages['id.verification.access.blocked.title'])}\n      </h3>\n      {handleMessage()}\n      <div className=\"action-row\">\n        <a className=\"btn btn-primary mt-3\" href={`${getConfig().LMS_BASE_URL}/dashboard`}>\n          {intl.formatMessage(messages['id.verification.return.dashboard'])}\n        </a>\n      </div>\n    </div>\n  );\n};\n\nAccessBlocked.propTypes = {\n  intl: intlShape.isRequired,\n  error: PropTypes.string.isRequired,\n};\n\nexport default injectIntl(AccessBlocked);\n","import React, { createContext, useMemo } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { getVerifiedNameHistory } from '../account-settings/data/service';\nimport { getMostRecentApprovedOrPendingVerifiedName } from '../utils';\nimport { useAsyncCall } from '../hooks';\nimport { SUCCESS_STATUS } from '../constants';\n\nexport const VerifiedNameContext = createContext();\n\nexport const VerifiedNameContextProvider = ({ children }) => {\n  const verifiedNameHistoryData = useAsyncCall(getVerifiedNameHistory);\n\n  let verifiedName = '';\n  const { status, data } = verifiedNameHistoryData;\n  if (status === SUCCESS_STATUS && data) {\n    const { results } = data;\n    verifiedName = getMostRecentApprovedOrPendingVerifiedName(results);\n  }\n\n  const value = useMemo(() => ({\n    verifiedNameHistoryCallStatus: status,\n    verifiedName,\n  }), [status, verifiedName]);\n\n  return (<VerifiedNameContext.Provider value={value}>{children}</VerifiedNameContext.Provider>);\n};\n\nVerifiedNameContextProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import React, {\n  useState, useContext, useEffect, useMemo,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport { AppContext } from '@edx/frontend-platform/react';\n\nimport { getProfileDataManager } from '../account-settings/data/service';\nimport PageLoading from '../account-settings/PageLoading';\nimport { useAsyncCall } from '../hooks';\nimport { IDLE_STATUS, LOADING_STATUS, SUCCESS_STATUS } from '../constants';\n\nimport { getExistingIdVerification, getEnrollments } from './data/service';\nimport AccessBlocked from './AccessBlocked';\nimport { hasGetUserMediaSupport } from './getUserMediaShim';\nimport IdVerificationContext, { MEDIA_ACCESS, ERROR_REASONS, VERIFIED_MODES } from './IdVerificationContext';\nimport { VerifiedNameContext } from './VerifiedNameContext';\n\nconst IdVerificationContextProvider = ({ children }) => {\n  const { authenticatedUser } = useContext(AppContext);\n  const { verifiedNameHistoryCallStatus, verifiedName } = useContext(VerifiedNameContext);\n\n  const idVerificationData = useAsyncCall(getExistingIdVerification);\n  const enrollmentsData = useAsyncCall(getEnrollments);\n\n  const [facePhotoFile, setFacePhotoFile] = useState(null);\n  const [idPhotoFile, setIdPhotoFile] = useState(null);\n  const [idPhotoName, setIdPhotoName] = useState(null);\n  const [mediaStream, setMediaStream] = useState(null);\n  const [mediaAccess, setMediaAccess] = useState(\n    hasGetUserMediaSupport ? MEDIA_ACCESS.PENDING : MEDIA_ACCESS.UNSUPPORTED,\n  );\n\n  const [profileDataManager, setProfileDataManager] = useState(null);\n  useEffect(() => {\n    // Determine if the user's profile data is managed by a third-party identity provider.\n    // If so, they cannot update their account name manually.\n    if (authenticatedUser.roles.length > 0) {\n      (async () => {\n        const thirdPartyManager = await getProfileDataManager(\n          authenticatedUser.username,\n          authenticatedUser.roles,\n        );\n        if (thirdPartyManager) {\n          setProfileDataManager(thirdPartyManager);\n        }\n      })();\n    }\n  }, [authenticatedUser]);\n\n  // Default to upload for the ID image\n  const [useCameraForId, setUseCameraForId] = useState(false);\n\n  // If the user reaches the end of the flow and goes back to retake their photos,\n  // this flag ensures that they are directed straight back to the summary panel\n  const [reachedSummary, setReachedSummary] = useState(false);\n\n  let canVerify = true;\n  let error = '';\n  let existingIdVerification;\n\n  if (idVerificationData?.data) {\n    existingIdVerification = idVerificationData.data;\n  }\n\n  if (enrollmentsData.status === SUCCESS_STATUS && enrollmentsData?.data) {\n    const verifiedEnrollments = enrollmentsData.data.filter((enrollment) => (\n      VERIFIED_MODES.includes(enrollment.mode)\n    ));\n    if (verifiedEnrollments.length === 0) {\n      canVerify = false;\n      error = ERROR_REASONS.COURSE_ENROLLMENT;\n    }\n  }\n\n  const contextValue = useMemo(() => ({\n    existingIdVerification,\n    facePhotoFile,\n    idPhotoFile,\n    idPhotoName,\n    mediaStream,\n    mediaAccess,\n    userId: authenticatedUser.userId,\n    // If the learner has an applicable verified name, then this should override authenticatedUser.name\n    // when determining the context value nameOnAccount.\n    nameOnAccount: verifiedName || authenticatedUser.name,\n    profileDataManager,\n    useCameraForId,\n    reachedSummary,\n    setFacePhotoFile,\n    setIdPhotoFile,\n    setIdPhotoName,\n    setUseCameraForId,\n    setReachedSummary,\n    tryGetUserMedia: async () => {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({ video: true });\n        setMediaAccess(MEDIA_ACCESS.GRANTED);\n        setMediaStream(stream);\n        // stop the stream, as we are not using it yet\n        const tracks = stream.getTracks();\n        tracks.forEach(track => track.stop());\n      } catch (err) {\n        setMediaAccess(MEDIA_ACCESS.DENIED);\n      }\n    },\n    stopUserMedia: () => {\n      if (mediaStream) {\n        const tracks = mediaStream.getTracks();\n        tracks.forEach(track => track.stop());\n        setMediaStream(null);\n      }\n    },\n  }), [authenticatedUser.name, authenticatedUser.userId, existingIdVerification, facePhotoFile,\n    idPhotoFile, idPhotoName, mediaAccess, mediaStream, profileDataManager, reachedSummary,\n    useCameraForId, verifiedName]);\n\n  const loadingStatuses = [IDLE_STATUS, LOADING_STATUS];\n  // If we are waiting for verification status or verified name history endpoint, show spinner.\n  if (loadingStatuses.includes(idVerificationData.status) || loadingStatuses.includes(verifiedNameHistoryCallStatus)) {\n    return <PageLoading srMessage=\"Loading verification status\" />;\n  }\n\n  if (!canVerify) {\n    return <AccessBlocked error={error} />;\n  }\n\n  return (\n    <IdVerificationContext.Provider value={contextValue}>\n      {children}\n    </IdVerificationContext.Provider>\n  );\n};\n\nIdVerificationContextProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default IdVerificationContextProvider;\n","import { useContext } from 'react';\nimport IdVerificationContext from './IdVerificationContext';\n\nconst SLUGS = {\n  REVIEW_REQUIREMENTS: 'review-requirements',\n  CHOOSE_MODE: 'choose-mode',\n  REQUEST_CAMERA_ACCESS: 'request-camera-access',\n  PORTRAIT_PHOTO_CONTEXT: 'portrait-photo-context',\n  TAKE_PORTRAIT_PHOTO: 'take-portrait-photo',\n  ID_CONTEXT: 'id-context',\n  TAKE_ID_PHOTO: 'take-id-photo',\n  GET_NAME_ID: 'get-name-id',\n  SUMMARY: 'summary',\n  SUBMITTED: 'submitted',\n};\n\nconst panelSteps = [\n  SLUGS.REVIEW_REQUIREMENTS,\n  SLUGS.REQUEST_CAMERA_ACCESS,\n  SLUGS.PORTRAIT_PHOTO_CONTEXT,\n  SLUGS.TAKE_PORTRAIT_PHOTO,\n  SLUGS.ID_CONTEXT,\n  SLUGS.TAKE_ID_PHOTO,\n  SLUGS.GET_NAME_ID,\n  SLUGS.SUMMARY,\n  SLUGS.SUBMITTED,\n];\n\n// eslint-disable-next-line import/prefer-default-export\nexport const useNextPanelSlug = (originSlug) => {\n  // Go back to the summary view if that's where they came from\n  const { reachedSummary } = useContext(IdVerificationContext);\n\n  const canRerouteToSummary = [\n    SLUGS.TAKE_PORTRAIT_PHOTO,\n    SLUGS.TAKE_ID_PHOTO,\n    SLUGS.GET_NAME_ID,\n  ];\n\n  if (reachedSummary && canRerouteToSummary.includes(originSlug)) {\n    return SLUGS.SUMMARY;\n  }\n\n  const nextIndex = panelSteps.indexOf(originSlug) + 1;\n  return nextIndex < panelSteps.length ? panelSteps[nextIndex] : null;\n};\n\n// check if the user is too far into the flow and if so, return the slug of the\n// furthest panel they are allow to be.\nexport const useVerificationRedirectSlug = (slug) => {\n  const { facePhotoFile, idPhotoFile } = useContext(IdVerificationContext);\n  const indexOfCurrentPanel = panelSteps.indexOf(slug);\n  if (!facePhotoFile) {\n    if (indexOfCurrentPanel > panelSteps.indexOf(SLUGS.TAKE_PORTRAIT_PHOTO)) {\n      return SLUGS.PORTRAIT_PHOTO_CONTEXT;\n    }\n  } else if (!idPhotoFile) {\n    if (indexOfCurrentPanel > panelSteps.indexOf(SLUGS.TAKE_ID_PHOTO)) {\n      return SLUGS.ID_CONTEXT;\n    }\n  }\n\n  // The user has satisfied requirements to view the panel they're on.\n  return null;\n};\n","import React, { useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Navigate } from 'react-router-dom';\nimport { useVerificationRedirectSlug } from '../routing-utilities';\n\nconst BasePanel = ({\n  children,\n  focusOnMount,\n  name,\n  title,\n}) => {\n  const headingRef = useRef();\n\n  // focus heading element on mount\n  useEffect(() => {\n    if (focusOnMount && headingRef.current) {\n      headingRef.current.focus();\n    }\n  }, [focusOnMount]);\n\n  const redirectSlug = useVerificationRedirectSlug(name);\n  if (redirectSlug) {\n    return <Navigate replace to={`/id-verification/${redirectSlug}`} />;\n  }\n\n  return (\n    <div className={`verification-panel ${name}-panel`}>\n      <h3 aria-level=\"1\" ref={headingRef} tabIndex=\"-1\">{title}</h3>\n      {children}\n    </div>\n  );\n};\n\nBasePanel.propTypes = {\n  children: PropTypes.node.isRequired,\n  focusOnMount: PropTypes.bool,\n  name: PropTypes.string.isRequired,\n  title: PropTypes.node.isRequired,\n};\n\nBasePanel.defaultProps = {\n  focusOnMount: true,\n};\n\nexport default BasePanel;\n","export default __webpack_public_path__ + \"86769bb88078f8daeeb384a2ef24dba7.png\";","import React, { useEffect, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getConfig } from '@edx/frontend-platform';\nimport { sendTrackEvent } from '@edx/frontend-platform/analytics';\nimport { injectIntl, intlShape, FormattedMessage } from '@edx/frontend-platform/i18n';\nimport { Alert, Hyperlink } from '@edx/paragon';\n\nimport { useNextPanelSlug } from '../routing-utilities';\nimport BasePanel from './BasePanel';\n\nimport IdVerificationContext from '../IdVerificationContext';\nimport messages from '../IdVerification.messages';\nimport exampleCard from '../assets/example-card.png';\n\nconst ReviewRequirementsPanel = (props) => {\n  const { userId, profileDataManager } = useContext(IdVerificationContext);\n  const panelSlug = 'review-requirements';\n  const nextPanelSlug = useNextPanelSlug(panelSlug);\n\n  useEffect(() => {\n    sendTrackEvent('edx.id_verification.started', {\n      category: 'id_verification',\n      user_id: userId,\n    });\n  }, [userId]);\n\n  function renderManagedProfileMessage() {\n    if (!profileDataManager) {\n      return null;\n    }\n\n    return (\n      <div>\n        <Alert className=\"alert alert-primary\" role=\"alert\">\n          <FormattedMessage\n            id=\"id.verification.requirements.account.managed.alert\"\n            defaultMessage=\"Your account settings are managed by {managerTitle}. If the name on your photo ID does not match the name on your account, please contact your {profileDataManager} administrator or {support} for help before completing the Photo Verification process.\"\n            description=\"Alert message informing the user their account data is managed by a third party.\"\n            values={{\n              managerTitle: <strong>{profileDataManager}</strong>,\n              profileDataManager,\n              support: (\n                <Hyperlink destination={getConfig().SUPPORT_URL} target=\"_blank\">\n                  {props.intl.formatMessage(messages['id.verification.support'])}\n                </Hyperlink>\n              ),\n            }}\n          />\n        </Alert>\n      </div>\n    );\n  }\n\n  return (\n    <BasePanel\n      name={panelSlug}\n      title={props.intl.formatMessage(messages['id.verification.requirements.title'])}\n      focusOnMount={false}\n    >\n      {renderManagedProfileMessage()}\n      <p>\n        {props.intl.formatMessage(messages['id.verification.requirements.description'])}\n      </p>\n      <div className=\"card mb-4 shadow accent border-warning\">\n        <div className=\"card-body\">\n          <h6 aria-level=\"3\">\n            {props.intl.formatMessage(messages['id.verification.requirements.card.device.title'])}\n          </h6>\n          <p className=\"mb-0\">\n            <FormattedMessage\n              id=\"id.verification.requirements.card.device.text\"\n              defaultMessage=\"You need a device that has a camera. If you receive a browser prompt for access to your camera, please make sure to click {allow}.\"\n              description=\"Text explaining that the user needs access to a camera.\"\n              values={{\n                allow: <strong>{props.intl.formatMessage(messages['id.verification.requirements.card.device.allow'])}</strong>,\n              }}\n            />\n          </p>\n        </div>\n      </div>\n      <div className=\"card mb-4 shadow accent border-warning\">\n        <div className=\"card-body\">\n          <h6 aria-level=\"3\">\n            {props.intl.formatMessage(messages['id.verification.requirements.card.id.title'])}\n          </h6>\n          <p className=\"mb-0\">\n            {props.intl.formatMessage(messages['id.verification.requirements.card.id.text'])}\n            <img\n              src={exampleCard}\n              alt={props.intl.formatMessage(messages['id.verification.example.card.alt'])}\n            />\n          </p>\n        </div>\n      </div>\n      <h4 aria-level=\"2\" className=\"mb-3\">\n        {props.intl.formatMessage(messages['id.verification.privacy.title'])}\n      </h4>\n      <h6 aria-level=\"3\">\n        {props.intl.formatMessage(\n          messages['id.verification.privacy.need.photo.question'],\n          { siteName: getConfig().SITE_NAME },\n        )}\n      </h6>\n      <p>\n        {props.intl.formatMessage(messages['id.verification.privacy.need.photo.answer'])}\n      </p>\n      <h6 aria-level=\"3\">\n        {props.intl.formatMessage(\n          messages['id.verification.privacy.do.with.photo.question'],\n          { siteName: getConfig().SITE_NAME },\n        )}\n      </h6>\n      <p>\n        {props.intl.formatMessage(\n          messages['id.verification.privacy.do.with.photo.answer'],\n          { siteName: getConfig().SITE_NAME },\n        )}\n      </p>\n\n      <div className=\"action-row\">\n        <Link to={`/id-verification/${nextPanelSlug}`} className=\"btn btn-primary\" data-testid=\"next-button\">\n          {props.intl.formatMessage(messages['id.verification.next'])}\n        </Link>\n      </div>\n    </BasePanel>\n  );\n};\n\nReviewRequirementsPanel.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default injectIntl(ReviewRequirementsPanel);\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport messages from '../IdVerification.messages';\n\nexport const EnableCameraDirectionsPanel = (props) => {\n  if (props.browserName === 'Internet Explorer') {\n    return (\n      <>\n        <h6>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.ie11'])}</h6>\n        <ol>\n          <li>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.ie11.step1'])}</li>\n          <li>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.ie11.step2'])}</li>\n          <li>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.ie11.step3'])}</li>\n        </ol>\n      </>\n    );\n  }\n  if (props.browserName === 'Chrome') {\n    return (\n      <>\n        <h6>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.chrome'])}</h6>\n        <ol>\n          <li>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.chrome.step1'])}</li>\n          <li>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.chrome.step2'])}</li>\n          <ul>\n            <li>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.chrome.step2.windows'])}</li>\n            <li>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.chrome.step2.mac'])}</li>\n          </ul>\n          <li>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.chrome.step3'])}</li>\n          <li>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.chrome.step4'])}</li>\n          <li>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.chrome.step5'])}</li>\n        </ol>\n      </>\n    );\n  }\n  if (props.browserName === 'Firefox') {\n    return (\n      <>\n        <h6>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.firefox'])}</h6>\n        <ol>\n          <li>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.firefox.step1'])}</li>\n          <li>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.firefox.step2'])}</li>\n          <li>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.firefox.step3'])}</li>\n          <li>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.firefox.step4'])}</li>\n          <li>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.firefox.step5'])}</li>\n          <li>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.firefox.step6'])}</li>\n          <li>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.firefox.step7'])}</li>\n        </ol>\n      </>\n    );\n  }\n  if (props.browserName === 'Safari') {\n    return (\n      <>\n        <h6>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.safari'])}</h6>\n        <ol>\n          <li>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.safari.step1'])}</li>\n          <li>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.safari.step2'])}</li>\n          <li>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.safari.step3'])}</li>\n          <li>{props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary.safari.step4'])}</li>\n        </ol>\n      </>\n    );\n  }\n  // eslint-disable-next-line react/jsx-no-useless-fragment\n  return <></>;\n};\n\nEnableCameraDirectionsPanel.propTypes = {\n  intl: intlShape.isRequired,\n  browserName: PropTypes.string.isRequired,\n};\n\nexport default injectIntl(EnableCameraDirectionsPanel);\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport messages from '../IdVerification.messages';\n\nexport const UnsupportedCameraDirectionsPanel = (props) => (\n  <>\n    {props.browserName === 'Chrome' && <span>{props.intl.formatMessage(messages['id.verification.camera.access.failure.unsupported.chrome.explanation'])}</span>}\n    <span> </span>\n    <span>{props.intl.formatMessage(messages['id.verification.camera.access.failure.unsupported.instructions'])}</span>\n  </>\n);\n\nUnsupportedCameraDirectionsPanel.propTypes = {\n  intl: intlShape.isRequired,\n  browserName: PropTypes.string.isRequired,\n};\n\nexport default injectIntl(UnsupportedCameraDirectionsPanel);\n","import React, { useEffect, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport Bowser from 'bowser';\nimport { getConfig } from '@edx/frontend-platform';\nimport { sendTrackEvent } from '@edx/frontend-platform/analytics';\nimport { injectIntl, intlShape, FormattedMessage } from '@edx/frontend-platform/i18n';\n\nimport { useRedirect } from '../../hooks';\nimport { useNextPanelSlug } from '../routing-utilities';\nimport BasePanel from './BasePanel';\nimport IdVerificationContext, { MEDIA_ACCESS } from '../IdVerificationContext';\nimport { EnableCameraDirectionsPanel } from './EnableCameraDirectionsPanel';\nimport { UnsupportedCameraDirectionsPanel } from './UnsupportedCameraDirectionsPanel';\n\nimport messages from '../IdVerification.messages';\n\nconst RequestCameraAccessPanel = (props) => {\n  const { location: returnUrl, text: returnText } = useRedirect();\n  const panelSlug = 'request-camera-access';\n  const nextPanelSlug = useNextPanelSlug(panelSlug);\n  const {\n    tryGetUserMedia, mediaAccess, userId,\n  } = useContext(IdVerificationContext);\n  const browserName = Bowser.parse(window.navigator.userAgent).browser.name;\n\n  useEffect(() => {\n    if (mediaAccess === MEDIA_ACCESS.UNSUPPORTED) {\n      sendTrackEvent('edx.id_verification.camera.unsupported', {\n        category: 'id_verification',\n        user_id: userId,\n      });\n    }\n    if (mediaAccess === MEDIA_ACCESS.DENIED) {\n      sendTrackEvent('edx.id_verification.camera.denied', {\n        category: 'id_verification',\n        user_id: userId,\n      });\n    }\n  }, [mediaAccess, userId]);\n\n  const getTitle = () => {\n    if (mediaAccess === MEDIA_ACCESS.GRANTED) {\n      return props.intl.formatMessage(messages['id.verification.camera.access.title.success']);\n    }\n    if ([MEDIA_ACCESS.UNSUPPORTED, MEDIA_ACCESS.DENIED].includes(mediaAccess)) {\n      return props.intl.formatMessage(messages['id.verification.camera.access.title.failed']);\n    }\n    return props.intl.formatMessage(messages['id.verification.camera.access.title']);\n  };\n\n  const returnLink = (\n    <a className=\"btn btn-primary\" href={`${getConfig().LMS_BASE_URL}/${returnUrl}`}>\n      {props.intl.formatMessage(messages[returnText])}\n    </a>\n  );\n\n  return (\n    <BasePanel\n      name={panelSlug}\n      title={getTitle()}\n    >\n      {mediaAccess === MEDIA_ACCESS.PENDING && (\n        <div>\n          <p>\n            <FormattedMessage\n              id=\"id.verification.request.camera.access.instructions\"\n              defaultMessage=\"In order to take a photo using your webcam, you may receive a browser prompt for access to your camera. {clickAllow}\"\n              description=\"Instructions to enable camera access.\"\n              values={{\n                clickAllow: <strong>{props.intl.formatMessage(messages['id.verification.camera.access.click.allow'])}</strong>,\n              }}\n            />\n          </p>\n          <div className=\"action-row\">\n            <button type=\"button\" className=\"btn btn-primary\" onClick={tryGetUserMedia}>\n              {props.intl.formatMessage(messages['id.verification.camera.access.enable'])}\n            </button>\n          </div>\n        </div>\n      )}\n\n      {mediaAccess === MEDIA_ACCESS.GRANTED && (\n        <div>\n          <p data-testid=\"camera-access-success\">\n            {props.intl.formatMessage(messages['id.verification.camera.access.success'])}\n          </p>\n          <div className=\"action-row\">\n            <Link to={`/id-verification/${nextPanelSlug}`} className=\"btn btn-primary\" data-testid=\"next-button\">\n              {props.intl.formatMessage(messages['id.verification.next'])}\n            </Link>\n          </div>\n        </div>\n      )}\n\n      {mediaAccess === MEDIA_ACCESS.DENIED && (\n        <div data-testid=\"camera-failure-instructions\">\n          <p data-testid=\"camera-access-failure\">\n            {props.intl.formatMessage(messages['id.verification.camera.access.failure.temporary'])}\n          </p>\n          <EnableCameraDirectionsPanel browserName={browserName} intl={props.intl} />\n          <div className=\"action-row\">\n            {returnLink}\n          </div>\n        </div>\n      )}\n\n      {mediaAccess === MEDIA_ACCESS.UNSUPPORTED && (\n        <div data-testid=\"camera-unsupported-instructions\">\n          <p data-testid=\"camera-unsupported-failure\">\n            {props.intl.formatMessage(messages['id.verification.camera.access.failure.unsupported'])}\n          </p>\n          <UnsupportedCameraDirectionsPanel browserName={browserName} intl={props.intl} />\n          <div className=\"action-row\">\n            {returnLink}\n          </div>\n        </div>\n      )}\n\n    </BasePanel>\n  );\n};\n\nRequestCameraAccessPanel.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default injectIntl(RequestCameraAccessPanel);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Collapsible } from '@edx/paragon';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\n\nimport { getConfig } from '@edx/frontend-platform';\nimport messages from './IdVerification.messages';\n\nconst CameraHelp = (props) => (\n  <div>\n    <Collapsible\n      styling=\"card\"\n      title={props.intl.formatMessage(messages['id.verification.camera.help.sight.question'])}\n      className=\"mb-4 shadow\"\n      defaultOpen={props.isOpen}\n    >\n      <p>\n        {props.intl.formatMessage(messages[`id.verification.camera.help.sight.answer.${props.isPortrait ? 'portrait' : 'id'}`])}\n      </p>\n    </Collapsible>\n    <Collapsible\n      styling=\"card\"\n      title={props.intl.formatMessage(messages[`id.verification.camera.help.difficulty.question.${props.isPortrait ? 'portrait' : 'id'}`])}\n      className=\"mb-4 shadow\"\n      defaultOpen={props.isOpen}\n    >\n      <p>\n        {props.intl.formatMessage(\n          messages['id.verification.camera.help.difficulty.answer'],\n          { siteName: getConfig().SITE_NAME },\n        )}\n      </p>\n    </Collapsible>\n  </div>\n);\n\nCameraHelp.propTypes = {\n  intl: intlShape.isRequired,\n  isOpen: PropTypes.bool,\n  isPortrait: PropTypes.bool,\n};\n\nCameraHelp.defaultProps = {\n  isOpen: false,\n  isPortrait: false,\n};\n\nexport default injectIntl(CameraHelp);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\n\nimport { useNextPanelSlug } from '../routing-utilities';\nimport BasePanel from './BasePanel';\nimport CameraHelp from '../CameraHelp';\nimport messages from '../IdVerification.messages';\n\nconst PortraitPhotoContextPanel = (props) => {\n  const panelSlug = 'portrait-photo-context';\n  const nextPanelSlug = useNextPanelSlug(panelSlug);\n  return (\n    <BasePanel\n      name={panelSlug}\n      title={props.intl.formatMessage(messages['id.verification.photo.tips.title'])}\n    >\n      <p>\n        {props.intl.formatMessage(messages['id.verification.photo.tips.description'])}\n      </p>\n      <div className=\"card mb-4 shadow accent border-warning\">\n        <div className=\"card-body\">\n          <h6>\n            {props.intl.formatMessage(messages['id.verification.photo.tips.list.title'])}\n          </h6>\n          <p>\n            {props.intl.formatMessage(messages['id.verification.photo.tips.list.description'])}\n          </p>\n          <ul className=\"mb-0\">\n            <li>\n              {props.intl.formatMessage(messages['id.verification.photo.tips.list.well.lit'])}\n            </li>\n            <li>\n              {props.intl.formatMessage(messages['id.verification.photo.tips.list.inside.frame'])}\n            </li>\n          </ul>\n        </div>\n      </div>\n      <CameraHelp isOpen isPortrait />\n      <div className=\"action-row\">\n        <Link to={`/id-verification/${nextPanelSlug}`} className=\"btn btn-primary\" data-testid=\"next-button\">\n          {props.intl.formatMessage(messages['id.verification.next'])}\n        </Link>\n      </div>\n    </BasePanel>\n  );\n};\n\nPortraitPhotoContextPanel.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default injectIntl(PortraitPhotoContextPanel);\n","/* eslint-disable jsx-a11y/media-has-caption */\n/* eslint-disable jsx-a11y/no-access-key */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { sendTrackEvent } from '@edx/frontend-platform/analytics';\n// eslint-disable-next-line import/no-unresolved\nimport * as blazeface from '@tensorflow-models/blazeface';\nimport CameraPhoto, { FACING_MODES } from 'jslib-html5-camera-photo';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { Form, Spinner } from '@edx/paragon';\n\nimport shutter from './data/camera-shutter.base64.json';\nimport messages from './IdVerification.messages';\n\nclass Camera extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    this.cameraPhoto = null;\n    this.videoRef = React.createRef();\n    this.canvasRef = React.createRef();\n    this.setDetection = this.setDetection.bind(this);\n    this.state = {\n      dataUri: '',\n      videoHasLoaded: false,\n      shouldDetect: false,\n      isFinishedLoadingDetection: true,\n      shouldGiveFeedback: true,\n      feedback: '',\n    };\n  }\n\n  componentDidMount() {\n    this.cameraPhoto = new CameraPhoto(this.videoRef.current);\n    this.cameraPhoto.startCamera(\n      this.props.isPortrait ? FACING_MODES.USER : FACING_MODES.ENVIRONMENT,\n      { width: 640, height: 480 },\n    );\n  }\n\n  async componentWillUnmount() {\n    this.cameraPhoto.stopCamera();\n  }\n\n  setDetection() {\n    this.setState(\n      (state) => ({ shouldDetect: !state.shouldDetect }),\n      () => {\n        if (this.state.shouldDetect) {\n          this.setState({ isFinishedLoadingDetection: false });\n          this.startDetection();\n        }\n        this.sendEvent();\n      },\n    );\n  }\n\n  setVideoHasLoaded() {\n    this.setState({ videoHasLoaded: 'true' });\n  }\n\n  getGridPosition(coordinates) {\n    // Used to determine where a face is (i.e. top-left, center-right, bottom-center, etc.)\n\n    const x = coordinates[0];\n    const y = coordinates[1];\n\n    let messageBase = 'id.verification.photo.feedback';\n\n    const heightUpperLimit = 320;\n    const heightMiddleLimit = 160;\n\n    if (y < heightMiddleLimit) {\n      messageBase += '.top';\n    } else if (y < heightUpperLimit && y >= heightMiddleLimit) {\n      messageBase += '.center';\n    } else {\n      messageBase += '.bottom';\n    }\n\n    const widthRightLimit = 213;\n    const widthMiddleLimit = 427;\n\n    if (x < widthRightLimit) {\n      messageBase += '.right';\n    } else if (x >= widthRightLimit && x < widthMiddleLimit) {\n      messageBase += '.center';\n    } else {\n      messageBase += '.left';\n    }\n\n    return messageBase;\n  }\n\n  getSizeFactor() {\n    let sizeFactor = 1;\n    const settings = this.cameraPhoto.getCameraSettings();\n    if (settings) {\n      const videoWidth = settings.width;\n      const videoHeight = settings.height;\n      // need to multiply by 3 because each pixel contains 3 bytes\n      const currentSize = videoWidth * videoHeight * 3;\n      // chose a limit of 9,999,999 (bytes) so that result will\n      // always be less than 10MB\n      const ratio = 9999999 / currentSize;\n\n      if (ratio < 1) {\n        // if the current resolution creates an image larger than 10 MB, adjust sizeFactor (resolution)\n        // to ensure that image will have a file size of less than 10 MB.\n        sizeFactor = ratio;\n      } else if (videoWidth === 640 && videoHeight === 480) {\n        // otherwise increase the resolution to try and prevent blurry images.\n        sizeFactor = 2;\n      }\n    }\n    return sizeFactor;\n  }\n\n  detectFromVideoFrame = (model, video) => {\n    model.estimateFaces(video).then((predictions) => {\n      if (this.state.shouldDetect && !this.state.dataUri) {\n        this.showDetections(predictions);\n\n        requestAnimationFrame(() => {\n          this.detectFromVideoFrame(model, video);\n        });\n      }\n    });\n  };\n\n  showDetections = (predictions) => {\n    let canvasContext;\n    if (predictions.length > 0) {\n      canvasContext = this.canvasRef.current.getContext('2d');\n      canvasContext.clearRect(0, 0, canvasContext.canvas.width, canvasContext.canvas.height);\n    }\n    // predictions is an array of objects describing each detected face\n    predictions.forEach((prediction) => {\n      const start = [prediction.topLeft[0], prediction.topLeft[1]];\n      const end = [prediction.bottomRight[0], prediction.bottomRight[1]];\n      const size = [end[0] - start[0], end[1] - start[1]];\n\n      // landmarks is an array of points representing each facial landmark (i.e. right eye, left eye, nose, etc.)\n      const features = prediction.landmarks;\n      let isInPosition = true;\n\n      // for each of the landmarks, determine if it is in position\n      for (let j = 0; j < features.length; j++) {\n        const x = features[j][0];\n        const y = features[j][1];\n\n        let isInRange;\n        if (this.props.isPortrait) {\n          isInRange = this.isInRangeForPortrait(x, y);\n        } else {\n          isInRange = this.isInRangeForID(x, y);\n        }\n        // if it is not in range, give feedback depending on which feature is out of range\n        isInPosition = isInPosition && isInRange;\n      }\n\n      // draw a box depending on if all landmarks are in position\n      if (isInPosition) {\n        canvasContext.strokeStyle = '#00ffff';\n        canvasContext.lineWidth = 6;\n        canvasContext.strokeRect(start[0], start[1], size[0], size[1]);\n        // give positive feedback here if user is in correct position\n        this.giveFeedback(predictions.length, [], true);\n      } else {\n        canvasContext.fillStyle = 'rgba(255, 51, 0, 0.75)';\n        canvasContext.fillRect(start[0], start[1], size[0], size[1]);\n        this.giveFeedback(predictions.length, features[0], false);\n      }\n    });\n\n    if (predictions.length === 0) {\n      this.giveFeedback(predictions.length, [], false);\n    }\n  };\n\n  startDetection() {\n    setTimeout(() => {\n      if (this.state.videoHasLoaded) {\n        const loadModelPromise = blazeface.load();\n        Promise.all([loadModelPromise])\n          .then((values) => {\n            this.setState({ isFinishedLoadingDetection: true });\n            this.detectFromVideoFrame(values[0], this.videoRef.current);\n          });\n      } else {\n        this.setState({ isFinishedLoadingDetection: true });\n        this.setState({ shouldDetect: false });\n        // TODO: add error message\n      }\n    }, 1000);\n  }\n\n  sendEvent() {\n    let eventName = 'edx.id_verification';\n    if (this.props.isPortrait) {\n      eventName += '.user_photo';\n    } else {\n      eventName += '.id_photo';\n    }\n\n    if (this.state.shouldDetect) {\n      eventName += '.face_detection_enabled';\n    } else {\n      eventName += '.face_detection_disabled';\n    }\n    sendTrackEvent(eventName);\n  }\n\n  giveFeedback(numFaces, rightEye, isCorrect) {\n    if (this.state.shouldGiveFeedback) {\n      const currentFeedback = this.state.feedback;\n      let newFeedback = '';\n      if (numFaces === 1) {\n        // only give feedback if one face is detected otherwise\n        // it would be difficult to tell a user which face to move\n        if (isCorrect) {\n          newFeedback = this.props.intl.formatMessage(messages['id.verification.photo.feedback.correct']);\n        } else {\n          // give feedback based on where user is\n          newFeedback = this.props.intl.formatMessage(messages[this.getGridPosition(rightEye)]);\n        }\n      } else if (numFaces > 1) {\n        newFeedback = this.props.intl.formatMessage(messages['id.verification.photo.feedback.two.faces']);\n      } else {\n        newFeedback = this.props.intl.formatMessage(messages['id.verification.photo.feedback.no.faces']);\n      }\n      if (currentFeedback !== newFeedback) {\n        // only update status if it is different, so we don't overload the user with status updates\n        this.setState({ feedback: newFeedback });\n      }\n      // turn off feedback for one to ensure that instructions aren't disruptive/interrupting\n      this.setState({ shouldGiveFeedback: false });\n      setTimeout(() => {\n        this.setState({ shouldGiveFeedback: true });\n      }, 1000);\n    }\n  }\n\n  isInRangeForPortrait(x, y) {\n    return x > 47 && x < 570 && y > 100 && y < 410;\n  }\n\n  isInRangeForID(x, y) {\n    return x > 120 && x < 470 && y > 120 && y < 350;\n  }\n\n  takePhoto() {\n    if (this.state.dataUri) {\n      this.reset();\n      return;\n    }\n\n    const config = {\n      sizeFactor: this.getSizeFactor(),\n    };\n\n    this.playShutterClick();\n    const dataUri = this.cameraPhoto.getDataUri(config);\n    this.setState({ dataUri });\n    this.props.onImageCapture(dataUri);\n  }\n\n  playShutterClick() {\n    const audio = new Audio(`data:audio/mp3;base64,${shutter.base64}`);\n    audio.play();\n  }\n\n  reset() {\n    this.setState({ dataUri: '' });\n    if (this.state.shouldDetect) {\n      this.startDetection();\n    }\n  }\n\n  render() {\n    const cameraFlashClass = this.state.dataUri\n      ? 'do-transition camera-flash'\n      : 'camera-flash';\n    return (\n      <div className=\"camera-outer-wrapper shadow\">\n        <Form.Group style={{ textAlign: 'left', padding: '0.5rem', marginBottom: '0.5rem' }}>\n          <Form.Check\n            id=\"videoDetection\"\n            name=\"videoDetection\"\n            label={this.props.intl.formatMessage(messages['id.verification.photo.enable.detection'])}\n            aria-describedby=\"videoDetectionHelpText\"\n            checked={this.state.shouldDetect}\n            onChange={this.setDetection}\n            style={{ padding: '0rem', marginLeft: '1.25rem', float: this.state.isFinishedLoadingDetection ? 'none' : 'left' }}\n          />\n          {!this.state.isFinishedLoadingDetection && <Spinner animation=\"border\" variant=\"primary\" style={{ marginLeft: '0.5rem' }} data-testid=\"spinner\" />}\n          <Form.Text id=\"videoDetectionHelpText\" data-testid=\"videoDetectionHelpText\">\n            {this.props.isPortrait\n              ? this.props.intl.formatMessage(messages['id.verification.photo.enable.detection.portrait.help.text'])\n              : this.props.intl.formatMessage(messages['id.verification.photo.enable.detection.id.help.text'])}\n          </Form.Text>\n        </Form.Group>\n        <div className=\"camera-wrapper\">\n          <div className={cameraFlashClass} />\n          <video\n            ref={this.videoRef}\n            data-testid=\"video\"\n            autoPlay\n            className=\"camera-video\"\n            onLoadedData={() => { this.setVideoHasLoaded(); }}\n            style={{\n              display: this.state.dataUri ? 'none' : 'block',\n              WebkitTransform: 'scaleX(-1)',\n              transform: 'scaleX(-1)',\n            }}\n            playsInline\n          />\n          <canvas\n            ref={this.canvasRef}\n            data-testid=\"detection-canvas\"\n            className=\"canvas-video\"\n            style={{\n              display: !this.state.shouldDetect || this.state.dataUri ? 'none' : 'block',\n              WebkitTransform: 'scaleX(-1)',\n              transform: 'scaleX(-1)',\n            }}\n            width=\"640\"\n            height=\"480\"\n          />\n          <img\n            data-hj-suppress\n            alt=\"imgCamera\"\n            src={this.state.dataUri}\n            className=\"camera-video\"\n            style={{ display: this.state.dataUri ? 'block' : 'none' }}\n          />\n          <div role=\"status\" className=\"sr-only\">{this.state.feedback}</div>\n        </div>\n        <button\n          type=\"button\"\n          className={`btn camera-btn ${\n            this.state.dataUri\n              ? 'btn-outline-primary'\n              : 'btn-primary'\n          }`}\n          accessKey=\"c\"\n          onClick={() => {\n            this.takePhoto();\n          }}\n        >\n          {this.state.dataUri\n            ? this.props.intl.formatMessage(messages['id.verification.photo.retake'])\n            : this.props.intl.formatMessage(messages['id.verification.photo.take'])}\n        </button>\n      </div>\n    );\n  }\n}\n\nCamera.propTypes = {\n  intl: intlShape.isRequired,\n  onImageCapture: PropTypes.func.isRequired,\n  isPortrait: PropTypes.bool.isRequired,\n};\n\nexport default injectIntl(Camera);\n","import React, { useContext, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\n\nimport { useNextPanelSlug } from '../routing-utilities';\nimport BasePanel from './BasePanel';\nimport Camera from '../Camera';\nimport CameraHelp from '../CameraHelp';\nimport IdVerificationContext from '../IdVerificationContext';\n\nimport messages from '../IdVerification.messages';\n\nconst TakePortraitPhotoPanel = (props) => {\n  const panelSlug = 'take-portrait-photo';\n  const nextPanelSlug = useNextPanelSlug(panelSlug);\n  const { setFacePhotoFile, facePhotoFile } = useContext(IdVerificationContext);\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    // This prevents focus switching to the heading when taking a photo\n    setMounted(true);\n  }, []);\n\n  return (\n    <BasePanel\n      name={panelSlug}\n      focusOnMount={!mounted}\n      title={props.intl.formatMessage(messages['id.verification.portrait.photo.title.camera'])}\n    >\n      <div>\n        <p>\n          {props.intl.formatMessage(messages['id.verification.portrait.photo.instructions.camera'])}\n        </p>\n        <Camera onImageCapture={setFacePhotoFile} isPortrait />\n      </div>\n      <CameraHelp isPortrait />\n      <div className=\"action-row\" style={{ visibility: facePhotoFile ? 'unset' : 'hidden' }}>\n        <Link to={`/id-verification/${nextPanelSlug}`} className=\"btn btn-primary\" data-testid=\"next-button\">\n          {props.intl.formatMessage(messages['id.verification.next'])}\n        </Link>\n      </div>\n    </BasePanel>\n  );\n};\n\nTakePortraitPhotoPanel.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default injectIntl(TakePortraitPhotoPanel);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\n\nimport { useNextPanelSlug } from '../routing-utilities';\nimport BasePanel from './BasePanel';\nimport CameraHelp from '../CameraHelp';\nimport messages from '../IdVerification.messages';\nimport exampleCard from '../assets/example-card.png';\n\nconst IdContextPanel = (props) => {\n  const panelSlug = 'id-context';\n  const nextPanelSlug = useNextPanelSlug(panelSlug);\n  return (\n    <BasePanel\n      name={panelSlug}\n      title={props.intl.formatMessage(messages['id.verification.id.tips.title'])}\n    >\n      <p>{props.intl.formatMessage(messages['id.verification.id.tips.description'])}</p>\n      <div className=\"card mb-4 shadow accent border-warning\">\n        <div className=\"card-body\">\n          <h6>\n            {props.intl.formatMessage(messages['id.verification.photo.tips.list.title'])}\n          </h6>\n          <p>\n            {props.intl.formatMessage(messages['id.verification.photo.tips.list.description'])}\n          </p>\n          <ul>\n            <li>\n              {props.intl.formatMessage(messages['id.verification.id.tips.list.well.lit'])}\n            </li>\n            <li>\n              {props.intl.formatMessage(messages['id.verification.id.tips.list.clear'])}\n            </li>\n          </ul>\n          <img\n            src={exampleCard}\n            alt={props.intl.formatMessage(messages['id.verification.example.card.alt'])}\n          />\n        </div>\n      </div>\n      <CameraHelp isOpen />\n      <div className=\"action-row\">\n        <Link to={`/id-verification/${nextPanelSlug}`} className=\"btn btn-primary\" data-testid=\"next-button\">\n          {props.intl.formatMessage(messages['id.verification.next'])}\n        </Link>\n      </div>\n    </BasePanel>\n  );\n};\n\nIdContextPanel.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default injectIntl(IdContextPanel);\n","import React, {\n  useContext, useEffect, useRef,\n} from 'react';\nimport { Form } from '@edx/paragon';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\n\nimport { useNextPanelSlug } from '../routing-utilities';\nimport BasePanel from './BasePanel';\nimport IdVerificationContext from '../IdVerificationContext';\n\nimport messages from '../IdVerification.messages';\n\nconst GetNameIdPanel = (props) => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const nameInputRef = useRef();\n  const panelSlug = 'get-name-id';\n  const nextPanelSlug = useNextPanelSlug(panelSlug);\n\n  const { nameOnAccount, idPhotoName, setIdPhotoName } = useContext(IdVerificationContext);\n  const nameOnAccountValue = nameOnAccount || '';\n\n  useEffect(() => {\n    if (idPhotoName === null) {\n      setIdPhotoName(nameOnAccountValue);\n    }\n\n    if (location.state?.fromSummary && nameInputRef.current) {\n      nameInputRef.current.focus();\n    }\n  }, [idPhotoName, location.state, nameOnAccountValue, setIdPhotoName]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (idPhotoName) {\n      navigate(`/id-verification/${nextPanelSlug}`);\n    }\n  };\n\n  return (\n    <BasePanel\n      name={panelSlug}\n      title={props.intl.formatMessage(messages['id.verification.name.check.title'])}\n    >\n      <p>\n        {props.intl.formatMessage(messages['id.verification.name.check.instructions'])}\n      </p>\n      <p>\n        {props.intl.formatMessage(messages['id.verification.name.check.mismatch.information'])}\n      </p>\n\n      <Form onSubmit={handleSubmit}>\n        <Form.Group>\n          <Form.Label className=\"font-weight-bold\" htmlFor=\"photo-id-name\">\n            {props.intl.formatMessage(messages['id.verification.name.label'])}\n          </Form.Label>\n          <Form.Control\n            controlId=\"photo-id-name\"\n            size=\"lg\"\n            type=\"text\"\n            ref={nameInputRef}\n            isInvalid={!idPhotoName}\n            aria-describedby=\"photo-id-name-feedback\"\n            value={idPhotoName}\n            onChange={e => setIdPhotoName(e.target.value)}\n            data-testid=\"name-input\"\n          />\n          {!idPhotoName && (\n            <Form.Control.Feedback\n              id=\"photo-id-name-feedback\"\n              data-testid=\"id-name-feedback-message\"\n              type=\"invalid\"\n            >\n              {props.intl.formatMessage(messages['id.verification.name.error'])}\n            </Form.Control.Feedback>\n          )}\n        </Form.Group>\n      </Form>\n\n      <div className=\"action-row\">\n        <Link\n          to={`/id-verification/${nextPanelSlug}`}\n          className={`btn btn-primary ${!idPhotoName && 'disabled'}`}\n          data-testid=\"next-button\"\n          aria-disabled={!idPhotoName}\n        >\n          {props.intl.formatMessage(messages['id.verification.next'])}\n        </Link>\n      </div>\n    </BasePanel>\n  );\n};\n\nGetNameIdPanel.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default injectIntl(GetNameIdPanel);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ImagePreview = ({ src, alt, id }) => (\n  <div id={id} className=\"image-preview\">\n\n    <img data-hj-suppress style={{ objectFit: 'contain' }} src={src} alt={alt} />\n\n  </div>\n);\n\nImagePreview.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  id: PropTypes.string,\n};\n\nImagePreview.defaultProps = {\n  id: undefined,\n};\n\nexport default ImagePreview;\n","import React from 'react';\n\nconst SupportedMediaTypes = () => {\n  const SUPPORTED_TYPES = ['.png', '.jpeg', '.jpg', '.bmp', '.webp', '.tiff'];\n\n  const getSupportedTypes = () => SUPPORTED_TYPES.map((type, index) => {\n    if (index === SUPPORTED_TYPES.length - 1) {\n      return type;\n    }\n    return `${type}, `;\n  });\n\n  return <span>{getSupportedTypes()}</span>;\n};\n\nexport default SupportedMediaTypes;\n","import React, { useCallback, useState } from 'react';\nimport { intlShape } from '@edx/frontend-platform/i18n';\nimport PropTypes from 'prop-types';\nimport { Alert } from '@edx/paragon';\nimport messages from './IdVerification.messages';\nimport SupportedMediaTypes from './SupportedMediaTypes';\n\nconst ImageFileUpload = ({ onFileChange, intl }) => {\n  const [error, setError] = useState(null);\n  const errorTypes = {\n    invalidFileType: 'invalidFileType',\n    fileTooLarge: 'fileTooLarge',\n  };\n  const maxFileSize = 10000000;\n\n  const handleChange = useCallback((e) => {\n    if (e.target.files.length === 0) {\n      return;\n    }\n\n    const fileObject = e.target.files[0];\n    if (!fileObject.type.startsWith('image')) {\n      setError(errorTypes.invalidFileType);\n    } else if (fileObject.size >= maxFileSize) {\n      setError(errorTypes.fileTooLarge);\n    } else {\n      setError(null);\n      const fileReader = new FileReader();\n      fileReader.addEventListener('load', () => {\n        onFileChange(fileReader.result);\n      });\n      fileReader.readAsDataURL(fileObject);\n    }\n  }, [errorTypes.fileTooLarge, errorTypes.invalidFileType, onFileChange]);\n\n  return (\n    <>\n      <input\n        type=\"file\"\n        accept=\"image/*\"\n        data-testid=\"fileUpload\"\n        onChange={handleChange}\n      />\n      {error && (\n      <Alert\n        id=\"fileError\"\n        variant=\"danger\"\n        tabIndex=\"-1\"\n        style={{ marginTop: '1rem' }}\n      >\n        {intl.formatMessage(messages[`id.verification.id.photo.instructions.upload.error.${error}`])}\n        <SupportedMediaTypes />\n      </Alert>\n      )}\n    </>\n  );\n};\n\nImageFileUpload.propTypes = {\n  onFileChange: PropTypes.func.isRequired,\n  intl: intlShape.isRequired,\n};\n\nexport default ImageFileUpload;\n","import React, { useContext } from 'react';\nimport { sendTrackEvent } from '@edx/frontend-platform/analytics';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { Button, Collapsible } from '@edx/paragon';\n\nimport IdVerificationContext from './IdVerificationContext';\nimport messages from './IdVerification.messages';\n\nconst CollapsibleImageHelp = (props) => {\n  const {\n    userId, useCameraForId, setUseCameraForId,\n  } = useContext(IdVerificationContext);\n\n  const handleClick = () => {\n    const toggleTo = useCameraForId ? 'upload' : 'camera';\n    const eventName = `edx.id_verification.toggle_to.${toggleTo}`;\n    sendTrackEvent(eventName, {\n      category: 'id_verification',\n      user_id: userId,\n    });\n    setUseCameraForId(!useCameraForId);\n  };\n\n  return (\n    <Collapsible\n      styling=\"card\"\n      title={useCameraForId\n        ? props.intl.formatMessage(messages['id.verification.photo.upload.help.title'])\n        : props.intl.formatMessage(messages['id.verification.photo.camera.help.title'])}\n      className=\"mb-4 shadow\"\n      defaultOpen\n    >\n      <p data-testid=\"help-text\">\n        {useCameraForId\n          ? props.intl.formatMessage(messages['id.verification.photo.upload.help.text'])\n          : props.intl.formatMessage(messages['id.verification.photo.camera.help.text'])}\n      </p>\n      <Button\n        title={useCameraForId ? 'Upload Photo' : 'Take Photo'} // TO-DO: translation\n        data-testid=\"toggle-button\"\n        onClick={handleClick}\n        style={{ marginTop: '0.5rem' }}\n      >\n        {useCameraForId\n          ? props.intl.formatMessage(messages['id.verification.photo.upload.help.button'])\n          : props.intl.formatMessage(messages['id.verification.photo.camera.help.button'])}\n      </Button>\n    </Collapsible>\n  );\n};\n\nCollapsibleImageHelp.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default injectIntl(CollapsibleImageHelp);\n","import React, { useContext, useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\n\nimport { useNextPanelSlug } from '../routing-utilities';\nimport BasePanel from './BasePanel';\nimport Camera from '../Camera';\nimport IdVerificationContext from '../IdVerificationContext';\n\nimport messages from '../IdVerification.messages';\nimport CameraHelp from '../CameraHelp';\nimport ImagePreview from '../ImagePreview';\nimport ImageFileUpload from '../ImageFileUpload';\nimport CollapsibleImageHelp from '../CollapsibleImageHelp';\nimport SupportedMediaTypes from '../SupportedMediaTypes';\n\nconst TakeIdPhotoPanel = (props) => {\n  const panelSlug = 'take-id-photo';\n  const nextPanelSlug = useNextPanelSlug(panelSlug);\n  const { setIdPhotoFile, idPhotoFile, useCameraForId } = useContext(IdVerificationContext);\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    // This prevents focus switching to the heading when taking a photo\n    setMounted(true);\n  }, []);\n\n  return (\n    <BasePanel\n      name={panelSlug}\n      focusOnMount={!mounted}\n      title={useCameraForId\n        ? props.intl.formatMessage(messages['id.verification.id.photo.title.camera'])\n        : props.intl.formatMessage(messages['id.verification.id.photo.title.upload'])}\n    >\n      <div>\n        {idPhotoFile && !useCameraForId && (\n          <ImagePreview\n            src={idPhotoFile}\n            alt={props.intl.formatMessage(messages['id.verification.id.photo.preview.alt'])}\n          />\n        )}\n\n        {useCameraForId ? (\n          <div>\n            <p>\n              {props.intl.formatMessage(messages['id.verification.id.photo.instructions.camera'])}\n            </p>\n            <Camera onImageCapture={setIdPhotoFile} isPortrait={false} />\n          </div>\n        ) : (\n          <div style={{ marginBottom: '1.25rem' }}>\n            <p data-testid=\"upload-text\">\n              {props.intl.formatMessage(messages['id.verification.id.photo.instructions.upload'])}\n              <SupportedMediaTypes />\n            </p>\n            <ImageFileUpload onFileChange={setIdPhotoFile} intl={props.intl} />\n          </div>\n        )}\n      </div>\n      {useCameraForId && <CameraHelp />}\n      <CollapsibleImageHelp />\n      <div className=\"action-row\" style={{ visibility: idPhotoFile ? 'unset' : 'hidden' }}>\n        <Link to={`/id-verification/${nextPanelSlug}`} className=\"btn btn-primary\" data-testid=\"next-button\">\n          {props.intl.formatMessage(messages['id.verification.next'])}\n        </Link>\n      </div>\n    </BasePanel>\n  );\n};\n\nTakeIdPhotoPanel.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default injectIntl(TakeIdPhotoPanel);\n","import React, { useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { Collapsible } from '@edx/paragon';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { sendTrackEvent } from '@edx/frontend-platform/analytics';\n\nimport messages from './IdVerification.messages';\nimport ImageFileUpload from './ImageFileUpload';\nimport IdVerificationContext from './IdVerificationContext';\nimport ImagePreview from './ImagePreview';\nimport SupportedMediaTypes from './SupportedMediaTypes';\n\nconst CameraHelpWithUpload = (props) => {\n  const { setIdPhotoFile, idPhotoFile, userId } = useContext(IdVerificationContext);\n  const [hasUploadedImage, setHasUploadedImage] = useState(false);\n\n  const setAndTrackIdPhotoFile = (image) => {\n    sendTrackEvent('edx.id_verification.upload_id', {\n      category: 'id_verification',\n      user_id: userId,\n    });\n    setHasUploadedImage(true);\n    setIdPhotoFile(image);\n  };\n\n  return (\n    <div>\n      <Collapsible\n        styling=\"card\"\n        title={props.intl.formatMessage(messages['id.verification.id.photo.unclear.question'])}\n        data-testid=\"collapsible\"\n        className=\"mb-4 shadow\"\n        defaultOpen={props.isOpen}\n      >\n        {idPhotoFile && hasUploadedImage && <ImagePreview src={idPhotoFile} alt={props.intl.formatMessage(messages['id.verification.id.photo.preview.alt'])} />}\n        <p>\n          {props.intl.formatMessage(messages['id.verification.id.photo.instructions.upload'])}\n          <SupportedMediaTypes />\n        </p>\n        <ImageFileUpload onFileChange={setAndTrackIdPhotoFile} intl={props.intl} />\n      </Collapsible>\n    </div>\n  );\n};\n\nCameraHelpWithUpload.propTypes = {\n  intl: intlShape.isRequired,\n  isOpen: PropTypes.bool,\n};\n\nCameraHelpWithUpload.defaultProps = {\n  isOpen: false,\n};\n\nexport default injectIntl(CameraHelpWithUpload);\n","import React, { useState, useContext, useEffect } from 'react';\nimport { getConfig } from '@edx/frontend-platform';\nimport {\n  Alert, Hyperlink, Form, Button, Spinner,\n} from '@edx/paragon';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { injectIntl, intlShape, FormattedMessage } from '@edx/frontend-platform/i18n';\n\nimport { submitIdVerification } from '../data/service';\nimport { useNextPanelSlug } from '../routing-utilities';\nimport BasePanel from './BasePanel';\nimport IdVerificationContext from '../IdVerificationContext';\nimport ImagePreview from '../ImagePreview';\n\nimport messages from '../IdVerification.messages';\nimport CameraHelpWithUpload from '../CameraHelpWithUpload';\nimport SupportedMediaTypes from '../SupportedMediaTypes';\n\nconst SummaryPanel = (props) => {\n  const panelSlug = 'summary';\n  const nextPanelSlug = useNextPanelSlug(panelSlug);\n  const {\n    facePhotoFile,\n    idPhotoFile,\n    profileDataManager,\n    nameOnAccount,\n    idPhotoName,\n    stopUserMedia,\n    setReachedSummary,\n  } = useContext(IdVerificationContext);\n  const nameToBeUsed = idPhotoName || nameOnAccount || '';\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [submissionError, setSubmissionError] = useState(null);\n  const navigate = useNavigate();\n\n  useEffect(() => setReachedSummary(true), [setReachedSummary]);\n\n  function renderManagedProfileMessage() {\n    if (!profileDataManager) {\n      return null;\n    }\n\n    return (\n      <p id=\"profile-manager-warning\">\n        <FormattedMessage\n          id=\"id.verification.account.name.summary.alert\"\n          defaultMessage=\"Your account settings are managed by {managerTitle}. If the name on your photo ID does not match the name on your account, please contact your {profileDataManager} administrator or {support} for help.\"\n          description=\"Alert message informing the user their account data is managed by a third party.\"\n          values={{\n            managerTitle: <strong>{profileDataManager}</strong>,\n            profileDataManager,\n            support: (\n              <Hyperlink destination={getConfig().SUPPORT_URL} target=\"_blank\">\n                {props.intl.formatMessage(messages['id.verification.support'])}\n              </Hyperlink>\n            ),\n          }}\n        />\n      </p>\n    );\n  }\n\n  // eslint-disable-next-line react/no-unstable-nested-components\n  const SubmitButton = () => {\n    const handleClick = async () => {\n      setIsSubmitting(true);\n      const verificationData = {\n        facePhotoFile,\n        idPhotoFile,\n        courseRunKey: sessionStorage.getItem('courseRunKey'),\n      };\n      if (idPhotoName) {\n        verificationData.idPhotoName = idPhotoName;\n      } else {\n        /**\n         * If learner has not entered an idPhotoName on the GetNameIdPanel,\n         * use the current nameOnAccount when submitting IDV.\n         */\n        verificationData.idPhotoName = nameOnAccount;\n      }\n      const result = await submitIdVerification(verificationData);\n      if (result.success) {\n        stopUserMedia();\n        navigate(`/id-verification/${nextPanelSlug}`);\n      } else {\n        stopUserMedia();\n        setIsSubmitting(false);\n        setSubmissionError(result);\n      }\n    };\n    return (\n      <Button\n        title=\"Confirmation\"\n        disabled={isSubmitting}\n        onClick={handleClick}\n        data-testid=\"submit-button\"\n      >\n        {props.intl.formatMessage(messages['id.verification.review.confirm'])}\n      </Button>\n    );\n  };\n\n  function getError() {\n    if (submissionError.status === 400) {\n      if (submissionError.message.includes('face_image')) {\n        return props.intl.formatMessage(messages['id.verification.submission.alert.error.face']);\n      }\n      if (submissionError.message.includes('Photo ID image')) {\n        return props.intl.formatMessage(messages['id.verification.submission.alert.error.id']);\n      }\n      if (submissionError.message.includes('Name')) {\n        return props.intl.formatMessage(messages['id.verification.submission.alert.error.name']);\n      }\n      if (submissionError.message.includes('unsupported format')) {\n        return (\n          <>\n            {props.intl.formatMessage(messages['id.verification.submission.alert.error.unsupported'])}\n            <SupportedMediaTypes />\n          </>\n        );\n      }\n    }\n    return (\n      <FormattedMessage\n        id=\"idv.submission.alert.error\"\n        defaultMessage={`\n          We encountered a technical error while trying to submit ID verification.\n          This might be a temporary issue, so please try again in a few minutes.\n          If the problem persists, please go to {support_link} for help.\n        `}\n        values={{\n          support_link: (\n            <Alert.Link href=\"https://support.edx.org/hc/en-us\">\n              {props.intl.formatMessage(\n                messages['id.verification.review.error'],\n                { siteName: getConfig().SITE_NAME },\n              )}\n            </Alert.Link>\n          ),\n        }}\n      />\n    );\n  }\n\n  return (\n    <BasePanel\n      name={panelSlug}\n      title={props.intl.formatMessage(messages['id.verification.review.title'])}\n    >\n      {submissionError && (\n        <Alert\n          variant=\"danger\"\n          data-testid=\"submission-error\"\n          dismissible\n          onClose={() => setSubmissionError(null)}\n        >\n          {getError()}\n        </Alert>\n      )}\n      <p>\n        {props.intl.formatMessage(messages['id.verification.review.description'])}\n      </p>\n      <div className=\"row mb-4\">\n        <div className=\"col-6\">\n          <label htmlFor=\"photo-of-face\" className=\"font-weight-bold\">\n            {props.intl.formatMessage(messages['id.verification.review.portrait.label'])}\n          </label>\n          <ImagePreview\n            id=\"photo-of-face\"\n            src={facePhotoFile}\n            alt={props.intl.formatMessage(messages['id.verification.review.portrait.alt'])}\n          />\n          <Link\n            className=\"btn btn-outline-primary\"\n            to=\"/id-verification/take-portrait-photo\"\n            state={{ fromSummary: true }}\n            data-testid=\"portrait-retake\"\n          >\n            {props.intl.formatMessage(messages['id.verification.review.portrait.retake'])}\n          </Link>\n        </div>\n        <div className=\"col-6\">\n          <label htmlFor=\"photo-of-id/edit\" className=\"font-weight-bold\">\n            {props.intl.formatMessage(messages['id.verification.review.id.label'])}\n          </label>\n          <ImagePreview\n            id=\"photo-of-id\"\n            src={idPhotoFile}\n            alt={props.intl.formatMessage(messages['id.verification.review.id.alt'])}\n          />\n          <Link\n            className=\"btn btn-outline-primary\"\n            to=\"/id-verification/take-id-photo\"\n            state={{ fromSummary: true }}\n            data-testid=\"id-retake\"\n          >\n            {props.intl.formatMessage(messages['id.verification.review.id.retake'])}\n          </Link>\n        </div>\n      </div>\n      <CameraHelpWithUpload />\n      <div className=\"form-group\">\n        <label htmlFor=\"name-to-be-used\" className=\"font-weight-bold\">\n          {props.intl.formatMessage(messages['id.verification.name.label'])}\n        </label>\n        {renderManagedProfileMessage()}\n        <div className=\"d-flex\">\n          <Form.Control\n            id=\"name-to-be-used\"\n            type=\"text\"\n            disabled\n            value={nameToBeUsed}\n            onChange={() => {}}\n            aria-describedby={profileDataManager ? 'profile-manager-warning' : null}\n          />\n          {!profileDataManager && (\n            <Link\n              className=\"btn btn-link ml-3 px-0\"\n              to=\"/id-verification/get-name-id\"\n              state={{ fromSummary: true }}\n            >\n              <FormattedMessage\n                id=\"id.verification.account.name.edit\"\n                defaultMessage=\"Edit {sr}\"\n                description=\"Button to edit name, with clarifying information for screen readers.\"\n                values={{\n                  sr: <span className=\"sr-only\">Name</span>,\n                }}\n              />\n            </Link>\n          )}\n        </div>\n      </div>\n      <SubmitButton />{' '}\n      {isSubmitting && <Spinner animation=\"border\" variant=\"primary\" />}\n    </BasePanel>\n  );\n};\n\nSummaryPanel.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default injectIntl(SummaryPanel);\n","import React, { useContext, useEffect } from 'react';\nimport { getConfig } from '@edx/frontend-platform';\nimport { sendTrackEvent } from '@edx/frontend-platform/analytics';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\n\nimport { useRedirect } from '../../hooks';\n\nimport IdVerificationContext from '../IdVerificationContext';\nimport messages from '../IdVerification.messages';\n\nimport BasePanel from './BasePanel';\n\nconst SubmittedPanel = (props) => {\n  const { userId } = useContext(IdVerificationContext);\n  const { location: returnUrl, text: returnText } = useRedirect();\n  const panelSlug = 'submitted';\n\n  useEffect(() => {\n    sendTrackEvent('edx.id_verification.submitted', {\n      category: 'id_verification',\n      user_id: userId,\n    });\n  }, [userId]);\n\n  return (\n    <BasePanel\n      name={panelSlug}\n      title={props.intl.formatMessage(messages['id.verification.submitted.title'])}\n    >\n      <p>\n        {props.intl.formatMessage(messages['id.verification.submitted.text'])}\n      </p>\n      <a\n        className=\"btn btn-primary\"\n        href={`${getConfig().LMS_BASE_URL}/${returnUrl}`}\n        data-testid=\"return-button\"\n      >\n        {props.intl.formatMessage(messages[returnText])}\n      </a>\n    </BasePanel>\n  );\n};\n\nSubmittedPanel.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default injectIntl(SubmittedPanel);\n","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport {\n  Route, Routes, useLocation, useNavigate,\n} from 'react-router-dom';\nimport camelCase from 'lodash.camelcase';\nimport qs from 'qs';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { Button, ModalDialog, ActionRow } from '@edx/paragon';\nimport { getConfig } from '@edx/frontend-platform';\nimport { idVerificationSelector } from './data/selectors';\nimport './getUserMediaShim';\n\nimport IdVerificationContextProvider from './IdVerificationContextProvider';\nimport { VerifiedNameContextProvider } from './VerifiedNameContext';\nimport ReviewRequirementsPanel from './panels/ReviewRequirementsPanel';\nimport RequestCameraAccessPanel from './panels/RequestCameraAccessPanel';\nimport PortraitPhotoContextPanel from './panels/PortraitPhotoContextPanel';\nimport TakePortraitPhotoPanel from './panels/TakePortraitPhotoPanel';\nimport IdContextPanel from './panels/IdContextPanel';\nimport GetNameIdPanel from './panels/GetNameIdPanel';\nimport TakeIdPhotoPanel from './panels/TakeIdPhotoPanel';\nimport SummaryPanel from './panels/SummaryPanel';\nimport SubmittedPanel from './panels/SubmittedPanel';\n\nimport messages from './IdVerification.messages';\n\n// eslint-disable-next-line react/prefer-stateless-function\nconst IdVerificationPage = (props) => {\n  const { search } = useLocation();\n  const navigate = useNavigate();\n\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  // Save query params in order to route back to the correct location later\n  useEffect(() => {\n    if (search) {\n      const parsedQueryParams = qs.parse(search, {\n        ignoreQueryPrefix: true,\n        interpretNumericEntities: true,\n      });\n      Object.entries(parsedQueryParams).forEach(([key, value]) => {\n        sessionStorage.setItem(camelCase(key), value);\n      });\n    }\n  }, [search]);\n\n  useEffect(() => {\n    navigate('/id-verification/review-requirements');\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className=\"page__id-verification container-fluid py-5\">\n      <div className=\"row\">\n        <div className=\"col-lg-6 col-md-8\">\n          <VerifiedNameContextProvider>\n            <IdVerificationContextProvider>\n              <Routes>\n                <Route path=\"/review-requirements\" element={<ReviewRequirementsPanel />} />\n                <Route path=\"/request-camera-access\" element={<RequestCameraAccessPanel />} />\n                <Route path=\"/portrait-photo-context\" element={<PortraitPhotoContextPanel />} />\n                <Route path=\"/take-portrait-photo\" element={<TakePortraitPhotoPanel />} />\n                <Route path=\"/id-context\" element={<IdContextPanel />} />\n                <Route path=\"/get-name-id\" element={<GetNameIdPanel />} />\n                <Route path=\"/take-id-photo\" element={<TakeIdPhotoPanel />} />\n                <Route path=\"/summary\" element={<SummaryPanel />} />\n                <Route path=\"/submitted\" element={<SubmittedPanel />} />\n              </Routes>\n            </IdVerificationContextProvider>\n          </VerifiedNameContextProvider>\n        </div>\n        <div className=\"col-lg-6 col-md-4 pt-md-0 pt-4 text-right\">\n          <Button variant=\"link\" className=\"px-0\" onClick={() => setIsModalOpen(true)}>\n            Privacy Information\n          </Button>\n        </div>\n      </div>\n      <ModalDialog\n        isOpen={isModalOpen}\n        title=\"Id modal\"\n        onClose={() => setIsModalOpen(false)}\n        size=\"lg\"\n        hasCloseButton={false}\n      >\n        <ModalDialog.Header>\n          <ModalDialog.Title data-testid=\"Id-modal\">\n            {props.intl.formatMessage(messages['id.verification.privacy.title'])}\n          </ModalDialog.Title>\n        </ModalDialog.Header>\n        <ModalDialog.Body>\n          <div className=\"p-3\">\n            <h6>\n              {props.intl.formatMessage(\n                messages['id.verification.privacy.need.photo.question'],\n                { siteName: getConfig().SITE_NAME },\n              )}\n            </h6>\n            <p>{props.intl.formatMessage(messages['id.verification.privacy.need.photo.answer'])}</p>\n            <h6>\n              {props.intl.formatMessage(\n                messages['id.verification.privacy.do.with.photo.question'],\n                { siteName: getConfig().SITE_NAME },\n              )}\n            </h6>\n            <p>\n              {props.intl.formatMessage(\n                messages['id.verification.privacy.do.with.photo.answer'],\n                { siteName: getConfig().SITE_NAME },\n              )}\n            </p>\n          </div>\n        </ModalDialog.Body>\n        <ModalDialog.Footer className=\"p-2\">\n          <ActionRow>\n            <ModalDialog.CloseButton variant=\"link\">\n              Close\n            </ModalDialog.CloseButton>\n          </ActionRow>\n        </ModalDialog.Footer>\n      </ModalDialog>\n\n    </div>\n  );\n};\n\nIdVerificationPage.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default connect(idVerificationSelector, {})(injectIntl(IdVerificationPage));\n","import { messages as headerMessages } from '@edx/frontend-component-header';\nimport { messages as footerMessages } from '@edx/frontend-component-footer';\nimport { messages as paragonMessages } from '@edx/paragon';\nimport arMessages from './messages/ar.json';\nimport deMessages from './messages/de.json';\nimport es419Messages from './messages/es_419.json';\nimport faIRMessages from './messages/fa_IR.json';\nimport frMessages from './messages/fr.json';\nimport frCAMessages from './messages/fr_CA.json';\nimport hiMessages from './messages/hi.json';\nimport itMessages from './messages/it.json';\nimport ptMessages from './messages/pt.json';\nimport ruMessages from './messages/ru.json';\nimport ukMessages from './messages/uk.json';\nimport zhcnMessages from './messages/zh_CN.json';\nimport dedeCAMessages from './messages/de_DE.json';\nimport ititCAMessages from './messages/it_IT.json';\nimport ptptCAMessages from './messages/pt_PT.json';\n// no need to import en messages-- they are in the defaultMessage field\n\nconst appMessages = {\n  ar: arMessages,\n  'es-419': es419Messages,\n  'fa-ir': faIRMessages,\n  fr: frMessages,\n  'zh-cn': zhcnMessages,\n  pt: ptMessages,\n  it: itMessages,\n  de: deMessages,\n  hi: hiMessages,\n  'fr-ca': frCAMessages,\n  ru: ruMessages,\n  uk: ukMessages,\n  'de-de': dedeCAMessages,\n  'it-it': ititCAMessages,\n  'pt-pt': ptptCAMessages,\n};\n\nexport default [\n  headerMessages,\n  paragonMessages,\n  footerMessages,\n  appMessages,\n];\n","import { defineMessages } from '@edx/frontend-platform/i18n';\n\nconst messages = defineMessages({\n  'account.page.title': {\n    id: 'account.page.title',\n    defaultMessage: 'Account | {siteName}',\n    description: 'Title tag',\n  },\n});\n\nexport default messages;\n","import React from 'react';\nimport { Helmet } from 'react-helmet';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport { getConfig } from '@edx/frontend-platform';\n\nimport messages from './messages';\n\nconst Head = ({ intl }) => (\n  <Helmet>\n    <title>\n      {intl.formatMessage(messages['account.page.title'], { siteName: getConfig().SITE_NAME })}\n    </title>\n    <link rel=\"shortcut icon\" href={getConfig().FAVICON_URL} type=\"image/x-icon\" />\n  </Helmet>\n);\n\nHead.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default injectIntl(Head);\n","import { defineMessages } from '@edx/frontend-platform/i18n';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const messages = defineMessages({\n  notificationHeading: {\n    id: 'notification.preference.heading',\n    defaultMessage: 'Notifications',\n    description: 'Notification title',\n  },\n  notificationAppTitle: {\n    id: 'notification.preference.app.title',\n    defaultMessage: `{\n        key, select,\n        discussion {Discussions}\n        coursework {Course Work}\n        other {{key}}\n    }`,\n    description: 'Display text for Notification Types',\n  },\n  notificationTitle: {\n    id: 'notification.preference.title',\n    defaultMessage: `{\n        text, select,\n        core {Core notifications}\n        newDiscussionPost {New discussion posts}\n        newQuestionPost {New question posts}\n        other {{text}}\n    }`,\n    description: 'Display text for Notification Types',\n  },\n  typeLabel: {\n    id: 'notification.preference.type.label',\n    defaultMessage: 'Type',\n    description: 'Display text for type',\n  },\n  webLabel: {\n    id: 'notification.preference.web,label',\n    defaultMessage: 'Web',\n    description: 'Display text for web',\n  },\n  notificationHelpEmail: {\n    id: 'notification.preference.help.email',\n    defaultMessage: 'Email',\n    description: 'Display text for email',\n  },\n  notificationHelpPush: {\n    id: 'notification.preference.help.push',\n    defaultMessage: 'Push',\n    description: 'Display text for push',\n  },\n  loadMoreCourses: {\n    id: 'notification.preference.load.more.courses',\n    defaultMessage: 'Load more courses',\n    description: 'Load more button to load more courses',\n  },\n  notificationPreferenceGuideLink: {\n    id: 'notification.preference.guide.link',\n    defaultMessage: 'as detailed here',\n    description: 'Link of the notification preference for learner guide',\n  },\n  notificationPreferenceGuideBody: {\n    id: 'notification.preference.guide.body',\n    defaultMessage: 'Notifications for certain activities are enabled by default, ',\n    description: 'Body of the notification preferences for learner guide',\n  },\n});\n","import React, { useEffect, useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { injectIntl, intlShape } from '@edx/frontend-platform/i18n';\nimport {\n  Container, Icon, Spinner, Button,\n} from '@edx/paragon';\nimport { ArrowForwardIos } from '@edx/paragon/icons';\nimport { fetchCourseList } from './data/thunks';\nimport { selectCourseListStatus, selectCourseList, selectPagination } from './data/selectors';\nimport {\n  IDLE_STATUS,\n  LOADING_STATUS,\n  SUCCESS_STATUS,\n} from '../constants';\nimport { messages } from './messages';\nimport { NotFoundPage } from '../account-settings';\nimport { useFeedbackWrapper } from '../hooks';\n\nconst NotificationCourses = ({ intl }) => {\n  useFeedbackWrapper();\n  const dispatch = useDispatch();\n  const coursesList = useSelector(selectCourseList());\n  const courseListStatus = useSelector(selectCourseListStatus());\n  const { hasMore, currentPage } = useSelector(selectPagination());\n\n  const loadMore = useCallback((page = 1, pageSize = 10) => {\n    dispatch(fetchCourseList(page, pageSize));\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (courseListStatus === IDLE_STATUS) { loadMore(); }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (courseListStatus === SUCCESS_STATUS && coursesList.length === 0) {\n    return <NotFoundPage />;\n  }\n\n  return (\n    <Container size=\"md\">\n      <h2 className=\"notification-heading mt-6 mb-5.5\">\n        {intl.formatMessage(messages.notificationHeading)}\n      </h2>\n      <div data-testid=\"courses-list\">\n        {coursesList.map(course => (\n          <Link\n            key={course.id}\n            to={`/notifications/${course.id}`}\n            className=\"text-decoration-none\"\n          >\n            <div className=\"mb-4 d-flex text-gray-700\">\n              <span className=\"ml-0 mr-auto\">\n                {course.name}\n              </span>\n              <span className=\"ml-auto mr-0\">\n                <Icon src={ArrowForwardIos} />\n              </span>\n            </div>\n          </Link>\n        ))}\n      </div>\n      {courseListStatus === LOADING_STATUS ? (\n        <div className=\"d-flex\">\n          <Spinner\n            variant=\"primary\"\n            animation=\"border\"\n            className=\"mx-auto my-auto\"\n            size=\"lg\"\n            data-testid=\"loading-spinner\"\n          />\n        </div>\n      ) : hasMore && (\n        <Button variant=\"primary\" className=\"w-100 bg-primary-500\" onClick={() => loadMore(currentPage + 1)}>\n          {intl.formatMessage(messages.loadMoreCourses)}\n        </Button>\n      )}\n    </Container>\n  );\n};\n\nNotificationCourses.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default injectIntl(NotificationCourses);\n","import { Form } from '@edx/paragon';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ToggleSwitch = ({\n  name,\n  value,\n  disabled,\n  onChange,\n}) => (\n  <Form.Switch\n    name={name}\n    checked={value}\n    disabled={disabled}\n    onChange={onChange}\n  />\n);\n\nToggleSwitch.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.bool.isRequired,\n  disabled: PropTypes.bool,\n  onChange: PropTypes.func,\n};\n\nToggleSwitch.defaultProps = {\n  onChange: () => null,\n  disabled: false,\n};\n\nexport default React.memo(ToggleSwitch);\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useIntl } from '@edx/frontend-platform/i18n';\nimport { Icon, OverlayTrigger, Tooltip } from '@edx/paragon';\nimport { InfoOutline } from '@edx/paragon/icons';\nimport { messages } from './messages';\nimport ToggleSwitch from './ToggleSwitch';\nimport {\n  selectPreference,\n  selectPreferenceNonEditableChannels,\n  selectSelectedCourseId,\n  selectNotificationPreferencesStatus,\n} from './data/selectors';\nimport { updatePreferenceToggle } from './data/thunks';\nimport { LOADING_STATUS } from '../constants';\n\nconst NotificationPreferenceRow = ({ appId, preferenceName }) => {\n  const dispatch = useDispatch();\n  const intl = useIntl();\n  const courseId = useSelector(selectSelectedCourseId());\n  const preference = useSelector(selectPreference(appId, preferenceName));\n  const nonEditable = useSelector(selectPreferenceNonEditableChannels(appId, preferenceName));\n  const preferencesStatus = useSelector(selectNotificationPreferencesStatus());\n\n  const onToggle = useCallback((event) => {\n    const {\n      checked,\n      name: notificationChannel,\n    } = event.target;\n    dispatch(updatePreferenceToggle(\n      courseId,\n      appId,\n      preferenceName,\n      notificationChannel,\n      checked,\n    ));\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [appId, preferenceName]);\n\n  const tooltipId = `${preferenceName}-tooltip`;\n  return (\n    <div className=\"d-flex mb-3\" data-testid=\"notification-preference\">\n      <div className=\"d-flex align-items-center mr-auto\">\n        {intl.formatMessage(messages.notificationTitle, { text: preferenceName })}\n        {preference.info !== '' && (\n          <OverlayTrigger\n            id={tooltipId}\n            className=\"d-inline\"\n            placement=\"right\"\n            overlay={(\n              <Tooltip id={tooltipId}>\n                {preference.info}\n              </Tooltip>\n                )}\n          >\n            <span className=\"ml-2\">\n              <Icon src={InfoOutline} />\n            </span>\n          </OverlayTrigger>\n        )}\n      </div>\n      <div className=\"d-flex align-items-center\">\n        {['web'].map((channel) => (\n          <div\n            id={`${preferenceName}-${channel}`}\n            className={classNames(\n              'd-flex',\n              { 'ml-auto': channel === 'web' },\n              { 'mx-auto': channel === 'email' },\n              { 'ml-auto mr-0': channel === 'push' },\n            )}\n          >\n            <ToggleSwitch\n              name={channel}\n              value={preference[channel]}\n              onChange={onToggle}\n              disabled={nonEditable.includes(channel) || preferencesStatus === LOADING_STATUS}\n            />\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nNotificationPreferenceRow.propTypes = {\n  appId: PropTypes.string.isRequired,\n  preferenceName: PropTypes.string.isRequired,\n};\n\nexport default React.memo(NotificationPreferenceRow);\n","import React, { useCallback, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useIntl } from '@edx/frontend-platform/i18n';\nimport { Collapsible } from '@edx/paragon';\nimport { messages } from './messages';\nimport ToggleSwitch from './ToggleSwitch';\nimport {\n  selectPreferenceAppToggleValue,\n  selectPreferencesOfApp,\n  selectSelectedCourseId,\n} from './data/selectors';\nimport NotificationPreferenceRow from './NotificationPreferenceRow';\nimport { updateAppPreferenceToggle } from './data/thunks';\n\nconst NotificationPreferenceApp = ({ appId }) => {\n  const dispatch = useDispatch();\n  const intl = useIntl();\n  const courseId = useSelector(selectSelectedCourseId());\n  const appPreferences = useSelector(selectPreferencesOfApp(appId));\n  const appToggle = useSelector(selectPreferenceAppToggleValue(appId));\n\n  const preferences = useMemo(() => (\n    appPreferences.map(preference => (\n      <NotificationPreferenceRow\n        key={preference.id}\n        appId={appId}\n        preferenceName={preference.id}\n      />\n    ))), [appId, appPreferences]);\n\n  const onChangeAppSettings = useCallback((event) => {\n    dispatch(updateAppPreferenceToggle(courseId, appId, event.target.checked));\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [appId]);\n\n  if (!courseId) {\n    return null;\n  }\n  return (\n    <Collapsible.Advanced open={appToggle} data-testid=\"notification-app\" className=\"mb-5\">\n      <Collapsible.Trigger>\n        <div className=\"d-flex align-items-center\">\n          <span className=\"mr-auto\">\n            {intl.formatMessage(messages.notificationAppTitle, { key: appId })}\n          </span>\n          <span className=\"d-flex\" id={`${appId}-app-toggle`}>\n            <ToggleSwitch\n              name={appId}\n              value={appToggle}\n              onChange={onChangeAppSettings}\n            />\n          </span>\n        </div>\n        <hr className=\"border-light-400 my-3\" />\n      </Collapsible.Trigger>\n      <Collapsible.Body>\n        <div className=\"d-flex flex-row header-label\">\n          <span className=\"col-8 px-0\">{intl.formatMessage(messages.typeLabel)}</span>\n          <span className=\"d-flex col-4 px-0\">\n            <span className=\"ml-auto\">{intl.formatMessage(messages.webLabel)}</span>\n          </span>\n        </div>\n        <div className=\"my-3\">\n          { preferences }\n        </div>\n      </Collapsible.Body>\n    </Collapsible.Advanced>\n  );\n};\n\nNotificationPreferenceApp.propTypes = {\n  appId: PropTypes.string.isRequired,\n};\n\nexport default React.memo(NotificationPreferenceApp);\n","import React, { useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, useParams } from 'react-router-dom';\nimport { useIntl } from '@edx/frontend-platform/i18n';\nimport {\n  Container, Icon, Spinner, Hyperlink,\n} from '@edx/paragon';\nimport { ArrowBack } from '@edx/paragon/icons';\nimport {\n  selectCourseListStatus,\n  selectCourse,\n  selectPreferenceAppsId,\n  selectNotificationPreferencesStatus,\n  selectCourseList,\n} from './data/selectors';\nimport { fetchCourseList, fetchCourseNotificationPreferences } from './data/thunks';\nimport { messages } from './messages';\nimport NotificationPreferenceApp from './NotificationPreferenceApp';\nimport {\n  FAILURE_STATUS,\n  IDLE_STATUS,\n  LOADING_STATUS,\n  SUCCESS_STATUS,\n} from '../constants';\nimport { NotFoundPage } from '../account-settings';\n\nconst NotificationPreferences = () => {\n  const { courseId } = useParams();\n  const dispatch = useDispatch();\n  const intl = useIntl();\n  const courseStatus = useSelector(selectCourseListStatus());\n  const coursesList = useSelector(selectCourseList());\n  const course = useSelector(selectCourse(courseId));\n  const notificationStatus = useSelector(selectNotificationPreferencesStatus());\n  const preferenceAppsIds = useSelector(selectPreferenceAppsId());\n  const isLoading = notificationStatus === LOADING_STATUS || courseStatus === LOADING_STATUS;\n\n  const preferencesList = useMemo(() => (\n    preferenceAppsIds.map(appId => (\n      <NotificationPreferenceApp appId={appId} key={appId} />\n    ))\n  ), [preferenceAppsIds]);\n\n  useEffect(() => {\n    if ([IDLE_STATUS, FAILURE_STATUS].includes(courseStatus)) {\n      dispatch(fetchCourseList());\n    }\n    dispatch(fetchCourseNotificationPreferences(courseId));\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [courseId]);\n\n  if (\n    (courseStatus === SUCCESS_STATUS && coursesList.length === 0)\n    || (notificationStatus === FAILURE_STATUS && coursesList.length !== 0)\n  ) {\n    return <NotFoundPage />;\n  }\n\n  return (\n    <Container size=\"sm\" className=\"notification-preferences\">\n      <h2 className=\"notification-heading mt-6 mb-4.5\">\n        {intl.formatMessage(messages.notificationHeading)}\n      </h2>\n      <div className=\"mb-6 text-gray-700\">\n        {intl.formatMessage(messages.notificationPreferenceGuideBody)}\n        <Hyperlink\n          destination=\"https://edx.readthedocs.io/projects/open-edx-learner-guide/en/latest/sfd_notifications/managing_notifications.html\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"text-decoration-underline\"\n        >\n          {intl.formatMessage(messages.notificationPreferenceGuideLink)}\n        </Hyperlink>\n      </div>\n      <div className=\"h-100\">\n        <div className=\"d-flex mb-5\">\n          <Link to=\"/notifications\">\n            <Icon className=\"text-primary-500\" src={ArrowBack} />\n          </Link>\n          <span className=\"notification-course-title ml-auto mr-auto text-primary-500\">\n            {course?.name}\n          </span>\n        </div>\n        {preferencesList}\n        {isLoading && (\n        <div className=\"d-flex\">\n          <Spinner\n            variant=\"primary\"\n            animation=\"border\"\n            className=\"mx-auto my-auto\"\n            size=\"lg\"\n            data-testid=\"loading-spinner\"\n          />\n        </div>\n        )}\n      </div>\n    </Container>\n  );\n};\n\nexport default NotificationPreferences;\n","import 'core-js/stable';\nimport 'regenerator-runtime/runtime';\n\nimport 'formdata-polyfill';\nimport { AppProvider, ErrorPage } from '@edx/frontend-platform/react';\nimport {\n  subscribe, initialize, APP_INIT_ERROR, APP_READY, mergeConfig,\n} from '@edx/frontend-platform';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Route, Routes, Outlet } from 'react-router-dom';\n\nimport Header from '@edx/frontend-component-header';\nimport Footer from '@edx/frontend-component-footer';\n\nimport configureStore from './data/configureStore';\nimport AccountSettingsPage, { NotFoundPage } from './account-settings';\nimport IdVerificationPage from './id-verification';\nimport messages from './i18n';\n\nimport './index.scss';\nimport Head from './head/Head';\nimport NotificationCourses from './notification-preferences/NotificationCourses';\nimport NotificationPreferences from './notification-preferences/NotificationPreferences';\n\nsubscribe(APP_READY, () => {\n  ReactDOM.render(\n    <AppProvider store={configureStore()}>\n      <Head />\n      <Routes>\n        <Route element={(\n          <div className=\"d-flex flex-column\" style={{ minHeight: '100vh' }}>\n            <Header />\n            <main className=\"flex-grow-1\" id=\"main\">\n              <Outlet />\n            </main>\n            <Footer />\n          </div>\n        )}\n        >\n          <Route path=\"/notifications/:courseId\" element={<NotificationPreferences />} />\n          <Route path=\"/notifications\" element={<NotificationCourses />} />\n          <Route path=\"/id-verification/*\" element={<IdVerificationPage />} />\n          <Route path=\"/\" element={<AccountSettingsPage />} />\n          <Route path=\"/notfound\" element={<NotFoundPage />} />\n          <Route path=\"*\" element={<NotFoundPage />} />\n        </Route>\n      </Routes>\n    </AppProvider>,\n    document.getElementById('root'),\n  );\n});\n\nsubscribe(APP_INIT_ERROR, (error) => {\n  ReactDOM.render(<ErrorPage message={error.message} />, document.getElementById('root'));\n});\n\ninitialize({\n  messages,\n  requireAuthenticatedUser: true,\n  hydrateAuthenticatedUser: true,\n  handlers: {\n    config: () => {\n      mergeConfig({\n        SUPPORT_URL: process.env.SUPPORT_URL,\n        ENABLE_DEMOGRAPHICS_COLLECTION: (process.env.ENABLE_DEMOGRAPHICS_COLLECTION || false),\n        DEMOGRAPHICS_BASE_URL: process.env.DEMOGRAPHICS_BASE_URL,\n        ENABLE_COPPA_COMPLIANCE: (process.env.ENABLE_COPPA_COMPLIANCE || false),\n        ENABLE_ACCOUNT_DELETION: (process.env.ENABLE_ACCOUNT_DELETION !== 'false'),\n        ENABLE_DOB_UPDATE: (process.env.ENABLE_DOB_UPDATE || false),\n        MARKETING_EMAILS_OPT_IN: (process.env.MARKETING_EMAILS_OPT_IN || false),\n        PASSWORD_RESET_SUPPORT_LINK: process.env.PASSWORD_RESET_SUPPORT_LINK,\n        LEARNER_FEEDBACK_URL: process.env.LEARNER_FEEDBACK_URL,\n      }, 'App loadConfig override handler');\n    },\n  },\n});\n"],"names":["defineMessages","id","defaultMessage","description","AsyncActionType","constructor","topic","name","this","BASE","BEGIN","SUCCESS","FAILURE","RESET","FORBIDDEN","getModuleState","state","originalPath","path","length","key","shift","undefined","Error","handleFailure","error","navigate","failureAction","arguments","failureRedirectPath","fieldErrors","put","logError","message","unpackFieldErrors","Object","entries","reduce","acc","_ref","k","v","user_message","handleRequestError","unpackFunction","response","data","field_errors","apiError","create","FETCH_SETTINGS","SAVE_SETTINGS","SAVE_MULTIPLE_SETTINGS","FETCH_TIME_ZONES","SAVE_PREVIOUS_SITE_LANGUAGE","OPEN_FORM","CLOSE_FORM","UPDATE_DRAFT","RESET_DRAFTS","BEGIN_NAME_CHANGE","fetchSettingsBegin","type","fetchSettingsSuccess","values","thirdPartyAuthProviders","profileDataManager","timeZones","verifiedNameHistory","payload","fetchSettingsFailure","openForm","formId","closeForm","updateDraft","value","beginNameChange","saveSettings","commitValues","saveSettingsBegin","saveSettingsSuccess","confirmationValues","saveSettingsReset","saveSettingsFailure","_ref2","errors","savePreviousSiteLanguage","previousSiteLanguage","saveMultipleSettings","settingsArray","form","saveMultipleSettingsBegin","saveMultipleSettingsSuccess","saveMultipleSettingsFailure","_ref3","fetchTimeZones","country","fetchTimeZonesSuccess","FETCH_SITE_LANGUAGES","fetchSiteLanguagesBegin","fetchSiteLanguagesSuccess","siteLanguageList","fetchSiteLanguagesFailure","defaultState","loading","loaded","loadingError","action","_objectSpread","code","released","async","getSiteLanguageList","patchPreferences","username","params","processedParams","snakeCaseObject","convertKeyNames","pref_lang","getAuthenticatedHttpClient","patch","getConfig","LMS_BASE_URL","headers","postSetLang","formData","FormData","append","post","handleFetchSiteLanguages","call","e","handleNavigation","saga","takeEvery","storePath","siteLanguageSelector","siteLanguageListSelector","createSelector","siteLanguage","siteLanguageOptionsSelector","map","label","compareVerifiedNamesByCreatedDate","a","b","aTimeSinceEpoch","Date","created","getTime","storeName","accountSettingsSelector","editableFieldNameSelector","props","verifiedNameSettingsSelector","accountSettings","history","results","useVerifiedNameForCerts","use_verified_name_for_certs","sortedVerifiedNameHistorySelector","verifiedNameSettings","Array","isArray","sort","mostRecentVerifiedNameSelector","sortedHistory","mostRecentApprovedVerifiedNameValueSelector","mostRecentVerifiedName","approvedVerifiedNames","filter","status","approvedVerifiedName","verifiedName","valuesSelector","mostRecentApprovedVerifiedNameValue","keys","includes","verified_name","draftsSelector","drafts","previousSiteLanguageSelector","editableFieldErrorSelector","editableFieldConfirmationValuesSelector","isEditingSelector","openFormId","errorSelector","nameChangeModalSelector","nameChangeModal","saveStateSelector","saveState","editableFieldSelector","createStructuredSelector","confirmationValue","isEditing","profileDataManagerSelector","staticFieldsSelector","staticFields","push","chooseFormValue","draft","committed","formValuesSelector","formValues","forEach","transformTimeZonesToOptions","timeZoneArr","time_zone","timeZonesSelector","countryTimeZonesSelector","countryTimeZones","activeAccountSelector","is_active","previousValue","betaLanguageBannerSelector","accountSettingsPageSelector","siteLanguageOptions","committedValues","formErrors","timeZoneOptions","countryTimeZoneOptions","activeAccount","isActive","tpaProviders","thirdPartyAuth","providers","certPreferenceSelector","originalFullName","originalVerifiedName","demographicsSectionSelector","nameChangeSelector","nameChange","PageLoading","Component","renderSrMessage","srMessage","_jsx","className","children","render","style","height","role","propTypes","PropTypes","isRequired","JumpNav","intl","displayDemographicsLink","stickToTop","useWindowSize","width","breakpoints","small","minWidth","showPreferences","useSelector","notificationPreferences","_jsxs","classNames","Scrollspy","items","currentClassName","NavHashLink","to","formatMessage","messages","ENABLE_DEMOGRAPHICS_COLLECTION","ENABLE_ACCOUNT_DELETION","_Fragment","Link","target","rel","Icon","src","OpenInNew","intlShape","injectIntl","DELETE_ACCOUNT","CONFIRMATION","CANCEL","deleteAccountBegin","deleteAccountSuccess","deleteAccountFailure","reason","Alert","icon","defaultProps","PrintingInstructions","actionLink","Hyperlink","destination","SITE_NAME","FormattedMessage","ConfirmationModal","getShortErrorMessageId","renderError","errorType","headerMessageId","detailsMessageId","FontAwesomeIcon","faExclamationCircle","onCancel","onChange","onSubmit","password","open","passwordFieldId","invalidMessage","deleteAccountModalText2MessageKey","AlertModal","isOpen","title","onClose","footerNode","ActionRow","Button","variant","onClick","faExclamationTriangle","siteName","ValidationFormGroup","for","invalid","htmlFor","Input","SuccessModal","ModalLayer","ModalCloseButton","BeforeProceedingBanner","instructionMessageId","supportArticleUrl","DeleteAccount","React","super","_defineProperty","deleteAccount","setState","deleteAccountCancel","trim","deleteAccountReset","global","location","LOGOUT_URL","hasLinkedTPA","isVerifiedAccount","canDelete","deleteAccountText2MessageKey","optInInstructionMessageId","MARKETING_EMAILS_OPT_IN","deleteAccountConfirmation","disabled","process","ConnectedConfirmationModal","handleSubmit","handleCancel","handlePasswordChange","ConnectedSuccessModal","handleFinalClose","connect","oldStatus","postDeleteAccount","formurlencoded","catch","handleDeleteAccount","onChildExit","htmlNode","contains","document","activeElement","enteringChild","previousSibling","nextSibling","focusableElements","querySelectorAll","focus","SwitchContent","expression","cases","getContent","caseKey","default","TransitionReplace","CertificatePreference","fieldName","dispatch","useDispatch","checked","setChecked","useState","modalIsOpen","setModalIsOpen","useEffect","Form","Checkbox","handleCheckboxChange","ModalDialog","size","hasCloseButton","isFullscreenOnMobile","preventDefault","Header","Title","Body","Group","Label","RadioSet","Radio","Footer","CloseButton","commonMessages","StatefulButton","labels","disabledStates","EditableField","emptyLabel","userSuppliedValue","confirmationMessageDefinition","helpText","onEdit","isEditable","isGrayedOut","others","_objectWithoutProperties","_excluded","handleEdit","editing","get","controlId","isInvalid","Control","Text","Feedback","hasIcon","faPencilAlt","rawValue","finalValue","renderValue","EditableSelectField","options","selectOptions","option","group","subOption","as","selectedOption","find","RESET_PASSWORD","resetPasswordBegin","resetPasswordSuccess","resetPasswordForbidden","ConfirmationAlert","email","technicalSupportLink","PASSWORD_RESET_SUPPORT_LINK","RequestInProgressAlert","ResetPassword","resetPassword","postResetPassword","handleResetPassword","REQUEST_NAME_CHANGE","requestNameChangeBegin","requestNameChangeSuccess","requestNameChangeFailure","NameChangeModal","targetFormId","useNavigate","getAuthenticatedUser","verifiedNameInput","setVerifiedNameInput","confirmedWarning","setConfirmedWarning","resetLocalState","useCallback","handleClose","renderTitle","encodeURIComponent","draftProfileName","requestNameChange","profileName","Col","placeholder","general_error","DISCONNECT_AUTH","disconnectAuthBegin","providerId","disconnectAuthSuccess","disconnectAuthFailure","disconnectAuthReset","ThirdPartyAuth","currentTarget","getAttribute","disconnectionStatuses","disconnectUrl","disconnectAuth","renderUnconnectedProvider","url","renderConnectedProvider","hasError","onClickDisconnect","renderProvider","connectUrl","connected","renderNoProviders","getThirdPartyAuthProviders","connect_url","disconnect_url","postDisconnectAuth","handleDisconnectAuth","TO","FROM","DEMOGRAPHICS_FIELDS","convertData","dataObject","direction","converted","newValue","ethnicityData","ethnicity","convertEthnicity","replace","createDemographicsError","JSON","parse","customAttributes","httpErrorResponseData","demographics_gender","gender_description","demographics_work_status","work_status_description","demographicsError","httpErrorType","getDemographics","userId","requestUrl","DEMOGRAPHICS_BASE_URL","httpErrorStatus","user","postDemographics","demographics_gender_description","demographics_income","demographics_learner_education_level","demographics_parent_education_level","demographics_military_history","demographics_work_status_description","demographics_current_work_sector","demographics_future_work_sector","demographics_user_ethnicity","getDemographicsOptions","SOCIAL_PLATFORMS","unpackAccountResponseData","unpackedData","platformData","social_links","platform","social_link","language_proficiencies","getAccount","getPreferences","getTimeZones","forCountry","country_code","getProfileDataManager","userRoles","split","enterprise","enterprise_customer","sync_learner_profile_data","shouldDisplayDemographicsQuestions","display","getVerifiedNameHistory","client","postVerifiedName","Accept","getSettings","account","preferences","shouldDisplayDemographicsQuestionsResponse","demographics","demographicsOptions","Promise","all","shouldDisplayDemographicsSection","patchSettings","preferenceKeys","demographicsKeys","certificateKeys","accountCommitValues","omit","preferenceCommitValues","pick","demographicsCommitValues","pickBy","isDemographicsKey","certCommitValues","patchRequests","isEmpty","commitData","packedData","year_of_birth","packAccountCommitData","unpackedFieldErrors","_ref4","patchAccount","convertedCommitValues","patchDemographics","postValues","postVerifiedNameConfig","assign","postNameChange","handleRequestNameChange","profile_name","err","YEAR_OF_BIRTH_OPTIONS","currentYear","getFullYear","years","startYear","reverse","COPPA_COMPLIANCE_YEAR","EDUCATION_LEVELS","GENDER_OPTIONS","COUNTRY_STATES_MAP","CA","US","getStatesList","toUpperCase","DECLINED","BetaLanguageBanner","getSiteLanguageEntry","languageCode","l","getTransifexLink","getTransifexURLPath","tokenizedCode","savedLanguage","context","locale","isSavedLanguageReleased","noPreviousLanguageSet","previousLanguage","beta_language","handleRevertLanguage","previous_language","contextType","AppContext","EmailField","OneTimeDismissibleAlert","dismissed","setDismissed","localStorage","getItem","dismissible","setItem","show","Heading","header","body","DOBModal","close","toggle","useToggle","monthValue","setMonthValue","yearValue","setYearValue","handleChange","handleComplete","field_name","field_value","padding","month","year","Checkboxes","selected","setSelected","index","isFirst","isChecked","autoFocus","event","handleToggle","newSelected","i","concat","DemographicsSection","memoize","hasRetrievedDemographicsOptions","demographicsGenderOptions","addDefaultOption","actions","POST","gender","choices","display_name","demographicsEthnicityOptions","user_ethnicity","child","demographicsIncomeOptions","income","demographicsMilitaryHistoryOptions","military_history","demographicsEducationLevelOptions","learner_education_level","demographicsWorkStatusOptions","work_status","demographicsWorkSectorOptions","current_work_sector","ethnicities","matchingOption","join","field","messageId","renderDemographicsServiceIssueWarning","tabIndex","ref","alertRef","editableFieldProps","handleEditableFieldChange","getApiOptions","showSelfDescribe","showWorkStatusDescribe","forwardRef","MARKETING_SITE_BASE_URL","hidden","ethnicityFieldDisplay","Actions","fetchNotificationPreferenceSuccess","courseId","fetchNotificationPreferenceFailed","updatePreferenceValue","appId","preferenceName","notificationChannel","updateAppToggle","normalizePreferences","responseData","notificationPreferenceConfig","appKeys","apps","enabled","nonEditable","flatPreferences","notificationTypes","preferenceId","web","info","flat","fetchCourseList","page","pageSize","getCourseList","normalizedData","camelCaseObject","courseList","enrollment","course","displayName","pagination","count","currentPage","hasMore","Boolean","next","totalPages","numPages","AccountSettingsPage","concatTimeZoneOptions","countryOptions","getCountryList","stateOptions","languageProficiencyOptions","getLanguageList","yearOfBirthOptions","educationLevelOptions","genderOptions","proctoredExamId","messageString","valueOf","CheckCircle","href","willCertNameChange","WarningFilled","verifiedNameRecord","proctored_exam_attempt_id","renderVerifiedNameSuccessMessage","renderVerifiedNameFailureMessage","renderVerifiedNameSubmittedMessage","color","messageStr","duplicateTpaProvider","getQueryParameters","duplicate_provider","navLinkRefs","componentDidMount","fetchSettings","fetchSiteLanguages","sendTrackingLogEvent","visibility","user_id","authenticatedUser","componentDidUpdate","prevProps","locationHash","hash","current","window","scrollTo","offsetTop","isManagedProfile","renderDuplicateTpaProviderMessage","provider","renderManagedProfileMessage","managerTitle","support","SUPPORT_URL","renderEmptyStaticFieldMessage","renderNameChangeModal","NameChange","renderSecondaryEmailField","secondary_email_enabled","secondary_email","renderDemographicsSection","renderContent","getLocalizedOptions","showState","getLocalizedTimeZoneOptions","findIndex","shouldUpdateDOB","ENABLE_COPPA_COMPLIANCE","ENABLE_DOB_UPDATE","toString","renderVerifiedNameMessage","pending_name_change","renderFullNameHelpText","handleSubmitProfileName","renderVerifiedNameIcon","renderVerifiedNameHelpText","handleSubmitVerifiedName","level_of_education","social_link_linkedin","social_link_facebook","social_link_twitter","renderLoading","phone_number","useLocation","pathname","deleteAccountReducer","siteLanguageReducer","resetPasswordReducer","nameChangeReducer","thirdPartyAuthReducer","dispatcherIsOpenForm","handleFetchSettings","roles","_yield$call","handleSaveSettings","savedValues","getLocale","prefLang","publish","LOCALE_CHANGED","handleRtl","delay","handleSaveMultipleSettings","savedSettings","handleFetchTimeZones","deleteAccountSaga","siteLanguageSaga","resetPasswordSaga","nameChangeSaga","thirdPartyAuthSaga","NotFoundPage","maxWidth","IDLE_STATUS","LOADING_STATUS","SUCCESS_STATUS","FAILURE_STATUS","courses","selectedCourse","preference","app","rootSaga","accountSettingsSaga","sagaMiddleware","createSagaMiddleware","configureStore","initialState","store","createStore","combineReducers","accountSettingsStoreName","accountSettingsReducer","notificationPreferencesReducer","ENVIRONMENT","loggerMiddleware","createLogger","collapsed","composeWithDevTools","applyMiddleware","thunkMiddleware","compose","composeMiddleware","run","hasGetUserMediaSupport","navigator","mediaDevices","getUserMedia","webkitGetUserMedia","mozGetUserMedia","useAsyncCall","asyncFunc","setData","currData","useRedirect","redirect","setRedirect","text","sessionStorage","getExistingIdVerification","requestConfig","expires","canVerify","can_verify","getEnrollments","constraints","resolve","reject","MEDIA_ACCESS","PENDING","UNSUPPORTED","DENIED","GRANTED","ERROR_REASONS","VERIFIED_MODES","AccessBlocked","VerifiedNameContext","createContext","VerifiedNameContextProvider","verifiedNameHistoryData","verifiedNames","names","applicableNames","getMostRecentApprovedOrPendingVerifiedName","useMemo","verifiedNameHistoryCallStatus","Provider","IdVerificationContextProvider","useContext","idVerificationData","enrollmentsData","facePhotoFile","setFacePhotoFile","idPhotoFile","setIdPhotoFile","idPhotoName","setIdPhotoName","mediaStream","setMediaStream","mediaAccess","setMediaAccess","setProfileDataManager","thirdPartyManager","useCameraForId","setUseCameraForId","reachedSummary","setReachedSummary","existingIdVerification","mode","contextValue","nameOnAccount","tryGetUserMedia","stream","video","getTracks","track","stop","stopUserMedia","loadingStatuses","IdVerificationContext","SLUGS","panelSteps","useNextPanelSlug","originSlug","nextIndex","indexOf","BasePanel","focusOnMount","headingRef","useRef","redirectSlug","slug","indexOfCurrentPanel","useVerificationRedirectSlug","Navigate","ReviewRequirementsPanel","panelSlug","nextPanelSlug","sendTrackEvent","category","allow","exampleCard","alt","EnableCameraDirectionsPanel","browserName","UnsupportedCameraDirectionsPanel","RequestCameraAccessPanel","returnUrl","returnText","Bowser","userAgent","browser","returnLink","clickAllow","CameraHelp","Collapsible","styling","defaultOpen","isPortrait","PortraitPhotoContextPanel","Camera","model","estimateFaces","then","predictions","shouldDetect","dataUri","showDetections","requestAnimationFrame","detectFromVideoFrame","canvasContext","canvasRef","getContext","clearRect","canvas","prediction","start","topLeft","end","bottomRight","features","landmarks","isInPosition","j","x","y","isInRange","isInRangeForPortrait","isInRangeForID","strokeStyle","lineWidth","strokeRect","giveFeedback","fillStyle","fillRect","cameraPhoto","videoRef","setDetection","bind","videoHasLoaded","isFinishedLoadingDetection","shouldGiveFeedback","feedback","CameraPhoto","startCamera","FACING_MODES","USER","stopCamera","startDetection","sendEvent","setVideoHasLoaded","getGridPosition","coordinates","messageBase","getSizeFactor","sizeFactor","settings","getCameraSettings","videoWidth","videoHeight","ratio","setTimeout","loadModelPromise","blazeface","eventName","numFaces","rightEye","isCorrect","currentFeedback","newFeedback","takePhoto","reset","config","playShutterClick","getDataUri","onImageCapture","Audio","shutter","play","cameraFlashClass","textAlign","marginBottom","Check","marginLeft","float","Spinner","animation","autoPlay","onLoadedData","WebkitTransform","transform","playsInline","accessKey","TakePortraitPhotoPanel","mounted","setMounted","IdContextPanel","GetNameIdPanel","nameInputRef","nameOnAccountValue","fromSummary","ImagePreview","objectFit","SupportedMediaTypes","SUPPORTED_TYPES","ImageFileUpload","onFileChange","setError","errorTypes","files","fileObject","startsWith","fileReader","FileReader","addEventListener","result","readAsDataURL","accept","marginTop","CollapsibleImageHelp","handleClick","TakeIdPhotoPanel","CameraHelpWithUpload","hasUploadedImage","setHasUploadedImage","image","SummaryPanel","nameToBeUsed","isSubmitting","setIsSubmitting","submissionError","setSubmissionError","SubmitButton","verificationData","courseRunKey","keyMap","postData","jsKey","apiKey","urlEncodedPostData","qs","success","String","submitIdVerification","support_link","getError","sr","SubmittedPanel","IdVerificationPage","search","isModalOpen","setIsModalOpen","parsedQueryParams","ignoreQueryPrefix","interpretNumericEntities","camelCase","Routes","Route","element","appMessages","ar","arMessages","es419Messages","faIRMessages","fr","frMessages","pt","ptMessages","it","itMessages","de","deMessages","hi","hiMessages","frCAMessages","ru","ruMessages","uk","ukMessages","headerMessages","paragonMessages","footerMessages","Head","Helmet","FAVICON_URL","notificationHeading","notificationAppTitle","notificationTitle","typeLabel","webLabel","notificationHelpEmail","notificationHelpPush","loadMoreCourses","notificationPreferenceGuideLink","notificationPreferenceGuideBody","NotificationCourses","usabilla_live","lightningjs","require","LEARNER_FEEDBACK_URL","coursesList","courseListStatus","loadMore","Container","ArrowForwardIos","ToggleSwitch","Switch","NotificationPreferenceRow","useIntl","selectPreference","selectPreferences","selectPreferenceNonEditableChannels","preferencesStatus","onToggle","updatePreferenceToggle","notificationApp","notificationType","patchData","snakeCase","patchPreferenceToggle","tooltipId","OverlayTrigger","placement","overlay","Tooltip","InfoOutline","channel","NotificationPreferenceApp","appPreferences","selectPreferencesOfApp","appToggle","selectPreferenceApp","selectPreferenceAppToggleValue","onChangeAppSettings","updateAppPreferenceToggle","patchAppPreferenceToggle","Advanced","Trigger","NotificationPreferences","useParams","courseStatus","selectCourseList","selectCourse","notificationStatus","preferenceAppsIds","isLoading","preferencesList","updateSelectedCourse","getCourseNotificationPreferences","fetchCourseNotificationPreferences","ArrowBack","subscribe","APP_READY","ReactDOM","AppProvider","minHeight","Outlet","getElementById","APP_INIT_ERROR","ErrorPage","initialize","requireAuthenticatedUser","hydrateAuthenticatedUser","handlers","mergeConfig"],"sourceRoot":""}