{"version":3,"file":"730.5e641290a8708115f59a.js","mappings":"2UAeA,MAqFA,EArF4BA,KAC1B,MAAMC,GAAOC,EAAAA,EAAAA,KACPC,GAAWC,EAAAA,EAAAA,MACXC,GAAcC,EAAAA,EAAAA,IAAYC,EAAAA,KACzBC,EAAQC,EAAMC,IAASC,EAAAA,EAAAA,IAAU,IACjCC,EAAQC,IAAaC,EAAAA,EAAAA,UAAS,MAE/BC,GAAgBC,EAAAA,EAAAA,cAAaC,IACjCP,IACAP,GAASe,EAAAA,EAAAA,IAAoBD,GAAc,GAC1C,IAEGE,GAAyBH,EAAAA,EAAAA,cAAaI,IAC1C,MAAMC,EAAO,CACXD,UACAE,SAAU,iBAEZnB,GAASoB,EAAAA,EAAAA,IAAgCF,GAAM,GAC9C,IASH,OAPAG,EAAAA,EAAAA,YAAU,KACRL,GAAuB,GAChB,KACLA,GAAuB,EAAM,IAE9B,KAGDM,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,qDAAoDF,UACjEC,EAAAA,EAAAA,KAACE,EAAAA,GAAM,CACLC,GAAG,eACHC,IAAK/B,EAAKgC,cAAcC,EAAAA,EAAAA,YACxBC,IAAKtB,EACLuB,QAAQ,WACRC,QAAS5B,EACT6B,KAAK,KACLC,UAAW/B,EAASgC,EAAAA,IAAaC,EAAAA,IAAWd,SAE3C1B,EAAKgC,cAAcC,EAAAA,EAAAA,YAAsB,CACxCQ,KAAMrC,SAIZuB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mBAAkBF,UAC/BC,EAAAA,EAAAA,KAACe,EAAAA,EAAU,CACTC,QAASlC,EACTmC,YAAajC,EACbJ,OAAQA,EAAOmB,UAEfF,EAAAA,EAAAA,MAAA,OACEI,UAAU,yCACV,cAAY,oCAAmCF,SAAA,EAE/CC,EAAAA,EAAAA,KAACkB,EAAAA,GAAAA,KAAa,CACZjB,UAAU,2CACVkB,GAAIjB,EAAAA,GACJM,QAAQ,WACRE,KAAK,SACLD,QAASA,IAAMtB,GAAc,GAC7BiC,WAA2B,IAAhB3C,EAAsBsB,SAEhC1B,EAAKgC,cAAcC,EAAAA,EAAAA,YAAsB,CACxCQ,MAAM,OAGVd,EAAAA,EAAAA,KAACkB,EAAAA,GAAAA,KAAa,CACZjB,UAAU,sCACVkB,GAAIjB,EAAAA,GACJM,QAAQ,WACRE,KAAK,SACLD,QAASA,IAAMtB,GAAc,GAC7BiC,WAA2B,IAAhB3C,EAAqBsB,SAE/B1B,EAAKgC,cAAcC,EAAAA,EAAAA,YAAsB,CACxCQ,MAAM,eAMf,C","sources":["webpack://@edx/frontend-app-discussions/./src/discussions/post-comments/comments/CommentsSort.jsx"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\n\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { useIntl } from '@edx/frontend-platform/i18n';\nimport {\n  Button, Dropdown, ModalPopup, useToggle,\n} from '@edx/paragon';\nimport { ExpandLess, ExpandMore } from '@edx/paragon/icons';\n\nimport { updateUserDiscussionsTourByName } from '../../tours/data';\nimport { selectCommentSortOrder } from '../data/selectors';\nimport { setCommentSortOrder } from '../data/slices';\nimport messages from '../messages';\n\nconst CommentSortDropdown = () => {\n  const intl = useIntl();\n  const dispatch = useDispatch();\n  const sortedOrder = useSelector(selectCommentSortOrder);\n  const [isOpen, open, close] = useToggle(false);\n  const [target, setTarget] = useState(null);\n\n  const handleActions = useCallback((reverseOrder) => {\n    close();\n    dispatch(setCommentSortOrder(reverseOrder));\n  }, []);\n\n  const enableCommentsSortTour = useCallback((enabled) => {\n    const data = {\n      enabled,\n      tourName: 'response_sort',\n    };\n    dispatch(updateUserDiscussionsTourByName(data));\n  }, []);\n\n  useEffect(() => {\n    enableCommentsSortTour(true);\n    return () => {\n      enableCommentsSortTour(false);\n    };\n  }, []);\n\n  return (\n    <>\n      <div className=\"comments-sort d-flex justify-content-end mx-4 mt-2\">\n        <Button\n          id=\"comment-sort\"\n          alt={intl.formatMessage(messages.actionsAlt)}\n          ref={setTarget}\n          variant=\"tertiary\"\n          onClick={open}\n          size=\"sm\"\n          iconAfter={isOpen ? ExpandLess : ExpandMore}\n        >\n          {intl.formatMessage(messages.commentSort, {\n            sort: sortedOrder,\n          })}\n        </Button>\n      </div>\n      <div className=\"actions-dropdown\">\n        <ModalPopup\n          onClose={close}\n          positionRef={target}\n          isOpen={isOpen}\n        >\n          <div\n            className=\"bg-white p-1 shadow d-flex flex-column\"\n            data-testid=\"comment-sort-dropdown-modal-popup\"\n          >\n            <Dropdown.Item\n              className=\"d-flex justify-content-start py-1.5 mb-1\"\n              as={Button}\n              variant=\"tertiary\"\n              size=\"inline\"\n              onClick={() => handleActions(false)}\n              autoFocus={sortedOrder === false}\n            >\n              {intl.formatMessage(messages.commentSort, {\n                sort: false,\n              })}\n            </Dropdown.Item>\n            <Dropdown.Item\n              className=\"d-flex justify-content-start py-1.5\"\n              as={Button}\n              variant=\"tertiary\"\n              size=\"inline\"\n              onClick={() => handleActions(true)}\n              autoFocus={sortedOrder === true}\n            >\n              {intl.formatMessage(messages.commentSort, {\n                sort: true,\n              })}\n            </Dropdown.Item>\n          </div>\n        </ModalPopup>\n      </div>\n    </>\n  );\n};\n\nexport default CommentSortDropdown;\n"],"names":["CommentSortDropdown","intl","useIntl","dispatch","useDispatch","sortedOrder","useSelector","selectCommentSortOrder","isOpen","open","close","useToggle","target","setTarget","useState","handleActions","useCallback","reverseOrder","setCommentSortOrder","enableCommentsSortTour","enabled","data","tourName","updateUserDiscussionsTourByName","useEffect","_jsxs","_Fragment","children","_jsx","className","Button","id","alt","formatMessage","messages","ref","variant","onClick","size","iconAfter","ExpandLess","ExpandMore","sort","ModalPopup","onClose","positionRef","Dropdown","as","autoFocus"],"sourceRoot":""}