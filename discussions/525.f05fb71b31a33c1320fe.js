"use strict";(globalThis.webpackChunk_edx_frontend_app_discussions=globalThis.webpackChunk_edx_frontend_app_discussions||[]).push([[525],{9002:(e,s,i)=>{i.d(s,{e:()=>y,Rg:()=>C,Zf:()=>j});var t=i(89526),d=i(2652),r=i.n(d),n=i(59458),o=i(8503),a=i(64403),l=i.n(a),c=i(48446),u=i(65092),x=i(565),m=(i(90244),i(63414)),p=i(29519),h=i(43494),g=i(1987),v=i(67557);const f=e=>{let{topic:s,showDivider:i,index:t}=e;const d=(0,n.Z)(),{courseId:r}=(0,u.UO)(),{inactiveFlags:a,activeFlags:f}=((0,c.v9)(h.hJ),(0,c.v9)(h.bK),s),b=e=>window.location.pathname.includes(e),j=(0,g.uu)(p.Z5.TOPICS.TOPIC,{courseId:r,topicId:s.id});return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(x.rU,{className:l()("discussion-topic p-0 text-decoration-none text-primary-500",{"border-light-400 border-bottom":i}),"data-topic-id":s.id,to:j,onClick:()=>b(s.id),"aria-current":b(s.id)?"page":void 0,role:"option",tabIndex:b(s.id)||0===t?0:-1,children:(0,v.jsx)("div",{className:"d-flex flex-row pt-2.5 pb-2 px-4",children:(0,v.jsxs)("div",{className:"d-flex flex-column flex-fill",style:{minWidth:0},children:[(0,v.jsx)("div",{className:"d-flex flex-column justify-content-start mw-100 flex-fill",children:(0,v.jsx)("div",{className:"topic-name text-truncate",children:s?.name||s?.displayName||d.formatMessage(o.Z.unnamedTopicSubCategories)})}),(0,v.jsx)(m.Z,{threadCounts:s?.threadCounts})]})})}),!i&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"divider border-top border-light-500"}),(0,v.jsx)("div",{className:"divider pt-1 bg-light-300"})]})]})},b=r().shape({id:r().string,usage_key:r().string,name:r().string,thread_counts:r().shape({discussions:r().number,questions:r().number}),enabled_in_context:r().bool,flags:r().number});f.propTypes={topic:b,showDivider:r().bool,index:r().number},f.defaultProps={showDivider:!0,index:-1,topic:{usage_key:""}};const j=t.memo(f),N=e=>{let{archivedTopics:s,showDivider:i}=e;const d=(0,n.Z)(),r=(0,t.useMemo)((()=>s?.map(((e,i)=>(0,v.jsx)(j,{topic:e,showDivider:s.length-1!==i},e.id)))),[s]);return(0,v.jsxs)(v.Fragment,{children:[i&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"divider border-top border-light-500"}),(0,v.jsx)("div",{className:"divider pt-1 bg-light-300"})]}),(0,v.jsxs)("div",{className:"discussion-topic-group d-flex flex-column text-primary-500","data-testid":"archived-group",children:[(0,v.jsx)("div",{className:"pt-3 px-4 font-weight-bold",children:d.formatMessage(o.Z.archivedTopics)}),r]})]})};N.propTypes={archivedTopics:r().arrayOf(b).isRequired,showDivider:r().bool},N.defaultProps={showDivider:!1};const y=t.memo(N),w=e=>{let{section:s,sectionTitle:i,sectionId:d,showDivider:r}=e;const a=(0,n.Z)(),{courseId:c}=(0,u.UO)(),h=(0,t.useCallback)((e=>window.location.pathname.includes(e)),[]),f=(0,t.useCallback)((e=>(0,g.uu)(p.Z5.TOPICS.CATEGORY,{courseId:c,category:e})),[c]),b=(0,t.useMemo)((()=>s?.map(((e,i)=>(0,v.jsx)(x.rU,{className:l()("subsection p-0 text-decoration-none text-primary-500",{"border-bottom border-light-400":s.length-1!==i}),role:"option","data-subsection-id":e.id,"data-testid":"subsection-group",to:f(e.id),onClick:()=>h(e.id),"aria-current":h(s.id)?"page":void 0,tabIndex:h(e.id)||0===i?0:-1,children:(0,v.jsx)("div",{className:"d-flex flex-row pt-2.5 pb-2 px-4",children:(0,v.jsx)("div",{className:"d-flex flex-column flex-fill",style:{minWidth:0},children:(0,v.jsxs)("div",{className:"d-flex flex-column justify-content-start mw-100 flex-fill",children:[(0,v.jsx)("div",{className:"topic-name text-truncate",children:e?.displayName||a.formatMessage(o.Z.unnamedSubsection)}),(0,v.jsx)(m.Z,{threadCounts:e?.threadCounts})]})})})},e.id)))),[s,f,h]);return(0,v.jsxs)("div",{className:"discussion-topic-group d-flex flex-column text-primary-500","data-section-id":d,"data-testid":"section-group",children:[(0,v.jsx)("div",{className:"pt-3 px-4 font-weight-bold",children:i||a.formatMessage(o.Z.unnamedSection)}),b,r&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"divider border-top border-light-500"}),(0,v.jsx)("div",{className:"divider pt-1 bg-light-300"})]})]})};w.propTypes={section:r().arrayOf(r().shape({id:r().string,blockId:r().string,lmsWebUrl:r().string,legacyWebUrl:r().string,studentViewUrl:r().string,type:r().string,displayName:r().string,children:r().arrayOf(b)})).isRequired,sectionTitle:r().string.isRequired,sectionId:r().string.isRequired,showDivider:r().bool.isRequired};const C=t.memo(w)},72525:(e,s,i)=>{i.r(s),i.d(s,{default:()=>w});var t=i(89526),d=i(64403),r=i.n(d),n=i(65455),o=i.n(n),a=i(48446),l=i(86009),c=i(96419),u=i(29519),x=i(57983),m=i(43494),p=i(35743),h=i(51873),g=i(1987),v=i(10999),f=i(72807),b=i(50280),j=i(9002),N=i(67557);const y=()=>{const e=(0,a.v9)(v.OL),s=(0,a.v9)(v.al),i=(0,a.v9)(v.qq),d=(0,a.v9)(v.Lk),r=(0,t.useMemo)((()=>i?.map(((e,s)=>(0,N.jsx)(j.Zf,{topic:e,showDivider:i.length-1!==s},e.id)))),[i]),n=(0,t.useMemo)((()=>s?.map(((e,i)=>(0,N.jsx)(j.Rg,{section:e?.children,sectionId:e.id,sectionTitle:e.displayName,showDivider:s.length-1!==i},e.id)))),[s]);return(0,N.jsxs)(N.Fragment,{children:[r,n,!o()(d)&&(0,N.jsx)(j.e,{archivedTopics:d,showDivider:!o()(i)||!o()(s)}),e===u.eE.IN_PROGRESS&&(0,N.jsx)("div",{className:"d-flex justify-content-center p-4",children:(0,N.jsx)(l.Z,{animation:"border",variant:"primary",size:"lg"})})]})},w=()=>{const e=(0,a.I0)(),{courseId:s}=(0,t.useContext)(x.H),i=(0,a.v9)(m.BY),d=(0,a.v9)(v.S1),n=(0,a.v9)(v.Vm),l=(0,a.v9)(v.OL),w=(0,a.v9)(m.Kb),C=(0,a.v9)(v.T5);(0,t.useEffect)((()=>{i&&e((0,b.Z)(s))}),[i]),(0,t.useEffect)((()=>{w&&(e((0,p.Dg)()),e((0,p._Q)()))}),[w]);const T=(0,t.useCallback)((()=>{e((0,f.Tv)(""))}),[]);return(0,N.jsxs)("div",{className:"d-flex flex-column h-100","data-testid":"inContext-topics-view",children:[d&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(c.Z,{text:d,count:n.length,loadingStatus:l,onClear:T}),0===n.length&&l===u.eE.SUCCESSFUL&&(0,N.jsx)(h.Z,{})]}),(0,N.jsx)("div",{className:r()("list-group list-group-flush flex-fill",{"justify-content-center":l===u.eE.IN_PROGRESS&&o()(C)}),role:"list",onKeyDown:e=>(0,g.$y)(e),children:d?n?.map((e=>(0,N.jsx)(j.Zf,{topic:e},e.id))):(0,N.jsx)(y,{})})]})}}}]);
//# sourceMappingURL=525.f05fb71b31a33c1320fe.js.map