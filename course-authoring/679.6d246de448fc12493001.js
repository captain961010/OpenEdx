"use strict";(globalThis.webpackChunk_edx_frontend_app_course_authoring=globalThis.webpackChunk_edx_frontend_app_course_authoring||[]).push([[679],{38349:(e,s,n)=>{n.d(s,{Z:()=>D});var a=n(56549),t=n(48387),r=n(95381),i=n(34926),o=n(41857),l=n(23768),d=n(4138),u=n(77062),c=n(95765),g=n(40113),p=n(36284),b=n(6871),h=n(2652),f=n.n(h),m=n(89526),v=n(2984),j=n(58417),x=n(29519),y=n(87037),M=n(26672),S=n(72079),O=n(56132),R=n(88146),C=n(58408),Z=n(79138),P=n(22423),k=n(72999),w=n(26329),E=n(94488);const T=(0,n(93477).vU)({cancel:{id:"course-authoring.pages-resources.app-settings-modal.button.cancel",defaultMessage:"Cancel"},save:{id:"course-authoring.pages-resources.app-settings-modal.button.save",defaultMessage:"Save"},saving:{id:"course-authoring.pages-resources.app-settings-modal.button.saving",defaultMessage:"Saving"},saved:{id:"course-authoring.pages-resources.app-settings-modal.button.saved",defaultMessage:"Saved"},retry:{id:"course-authoring.pages-resources.app-settings-modal.button.retry",defaultMessage:"Retry"},enabled:{id:"course-authoring.pages-resources.app-settings-modal.badge.enabled",defaultMessage:"Enabled"},disabled:{id:"course-authoring.pages-resources.app-settings-modal.badge.disabled",defaultMessage:"Disabled"},errorSavingTitle:{id:"course-authoring.pages-resources.app-settings-modal.save-error.title",defaultMessage:"We couldn't apply your changes."},errorSavingMessage:{id:"course-authoring.pages-resources.app-settings-modal.save-error.message",defaultMessage:"Please check your entries and try again."}});var q=n(67557);function N(e,s){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),n.push.apply(n,a)}return n}function L(e){for(var s=1;s<arguments.length;s++){var n=null!=arguments[s]?arguments[s]:{};s%2?N(Object(n),!0).forEach((function(s){_(e,s,n[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))}))}return e}function _(e,s,n){return(s=function(e){var s=function(e,s){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof s?s:String(s)}(s))in e?Object.defineProperty(e,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[s]=n,e}const A=e=>{let{formikProps:s,children:n,showForm:a}=e;return n&&(0,q.jsx)(r.Z,{children:a?(0,q.jsx)(m.Fragment,{children:n(s)},"app-enabled"):(0,q.jsx)(m.Fragment,{},"app-disabled")})};A.propTypes={formikProps:f().object.isRequired,showForm:f().bool.isRequired,children:f().func},A.defaultProps={children:null};const F=e=>{let{intl:s,title:n,onClose:a,variant:t,isMobile:r,children:l,footer:d}=e;return(0,q.jsxs)(i.Z,{title:n,isOpen:!0,onClose:a,size:"lg",variant:t,hasCloseButton:r,isFullscreenOnMobile:!0,children:[(0,q.jsx)(i.Z.Header,{children:(0,q.jsx)(i.Z.Title,{"data-testid":"modal-title",children:n})}),(0,q.jsx)(i.Z.Body,{children:l}),(0,q.jsx)(i.Z.Footer,{className:"p-4",children:(0,q.jsxs)(o.Z,{children:[(0,q.jsx)(i.Z.CloseButton,{variant:"tertiary",children:s.formatMessage(T.cancel)}),d]})})]})};F.propTypes={intl:a.gm.isRequired,title:f().string.isRequired,onClose:f().func.isRequired,variant:f().oneOf(["default","dark"]).isRequired,isMobile:f().bool.isRequired,children:f().node.isRequired,footer:f().node},F.defaultProps={footer:null};const I=e=>{let{intl:s,appId:n,title:a,children:t,configureBeforeEnable:r,initialValues:i,validationSchema:o,onClose:h,onSettingsSave:f,enableAppLabel:N,enableAppHelp:_,learnMoreText:I,enableReinitialize:D,hideAppToggle:B}=e;const{courseId:H}=(0,m.useContext)(E.e),U=(0,v.v9)(Z.vc),z=(0,v.v9)(Z.Yu),V=(0,m.useRef)(null),[G,J]=(0,m.useState)(!1),Y=(0,O.tT)("courseApps",n),W=(0,v.I0)(),$=z===x.eE.IN_PROGRESS?"pending":"default",K=(0,C.dD)(),Q=K?"dark":"default";(0,m.useEffect)((()=>{z===x.eE.SUCCESSFUL&&(W((0,P.Yn)({status:""})),h())}),[z]);const X=e=>{let{handleSubmit:s,errors:n}=e;return async e=>{await s(e),Object.keys(n).length>0&&(await J(!0),V?.current.scrollIntoView?.())}},ee=Y.documentationLinks?.learnMoreConfiguration&&(0,q.jsx)(l.ZP,{className:"text-primary-500",destination:Y.documentationLinks.learnMoreConfiguration,target:"_blank",rel:"noreferrer noopener",children:I});return U===x.eE.SUCCESSFUL?(0,q.jsx)(b.J9,{initialValues:L({enabled:!!Y?.enabled},i),validationSchema:j.Ry().shape(L({enabled:j.O7()},o)),onSubmit:async e=>{let s=!0;Y.enabled!==e.enabled&&(s=await W((0,k.JU)(H,Y.id,e.enabled))),f&&(s=s&&await f(e)),await J(!s),!s&&V?.current.scrollIntoView()},enableReinitialize:D,children:e=>(0,q.jsx)(d.ZP,{onSubmit:X(e),children:(0,q.jsxs)(F,{title:a,isOpen:!0,onClose:h,variant:Q,isMobile:K,isFullscreenOnMobile:!0,intl:s,footer:(0,q.jsx)(u.Z,{labels:{default:s.formatMessage(T.save),pending:s.formatMessage(T.saving),complete:s.formatMessage(T.saved)},state:$,onClick:X(e)}),children:[G&&(0,q.jsxs)(c.Z,{variant:"danger",icon:p.Z,ref:V,children:[(0,q.jsx)(c.Z.Heading,{children:e.errors.enabled?.title||s.formatMessage(T.errorSavingTitle)}),e.errors.enabled?.message||s.formatMessage(T.errorSavingMessage)]}),!B&&(0,q.jsx)(M.Z,{id:`enable-${n}-toggle`,name:"enabled",onChange:s=>e.handleChange(s),onBlur:e.handleBlur,checked:e.values.enabled,label:(0,q.jsxs)("div",{className:"d-flex align-items-center",children:[N,e.values.enabled&&(0,q.jsx)(g.Z,{className:"ml-2",variant:"success","data-testid":"enable-badge",children:s.formatMessage(T.enabled)})]}),helpText:(0,q.jsxs)("div",{children:[(0,q.jsx)("p",{children:_}),(0,q.jsx)("span",{className:"py-3",children:ee})]})}),(e.values.enabled||r)&&t&&(0,q.jsx)(w.Z,{marginAdj:{default:0,sm:0}}),(0,q.jsx)(A,{formikProps:e,showForm:e.values.enabled||r,children:t})]})})}):(0,q.jsxs)(F,{intl:s,title:a,isOpen:!0,onClose:h,size:"sm",variant:Q,isMobile:K,isFullscreenOnMobile:!0,children:[U===x.eE.IN_PROGRESS&&(0,q.jsx)(S.Z,{}),U===x.eE.FAILED&&(0,q.jsx)(y.Z,{}),U===x.eE.DENIED&&(0,q.jsx)(R.Z,{})]})};I.propTypes={intl:a.gm.isRequired,title:f().string.isRequired,appId:f().string.isRequired,children:f().func,onSettingsSave:f().func,initialValues:f().shape({}),validationSchema:f().shape({}),onClose:f().func.isRequired,enableAppLabel:f().string.isRequired,enableAppHelp:f().string.isRequired,learnMoreText:f().string.isRequired,configureBeforeEnable:f().bool,enableReinitialize:f().bool,hideAppToggle:f().bool},I.defaultProps={children:null,onSettingsSave:null,initialValues:{},validationSchema:{},configureBeforeEnable:!1,enableReinitialize:!1,hideAppToggle:!1};const D=(0,t.Z)(I)},11679:(e,s,n)=>{n.r(s),n.d(s,{default:()=>c}),n(89526);var a=n(2652),t=n.n(a),r=n(56549),i=n(48387),o=n(38349);const l=(0,n(93477).vU)({heading:{id:"course-authoring.pages-resources.notes.heading",defaultMessage:"Configure notes"},enableNotesLabel:{id:"course-authoring.pages-resources.notes.enable-notes.label",defaultMessage:"Notes"},enableNotesHelp:{id:"course-authoring.pages-resources.notes.enable-notes.help",defaultMessage:"Learners can access their notes either in the body of the\n    course of on a notes page. On the notes page, a learner can see all the\n    notes made during the course. The page also contains links to the location\n    of the notes in the course body."},enableNotesLink:{id:"course-authoring.pages-resources.notes.enable-notes.link",defaultMessage:"Learn more about notes"}});var d=n(67557);const u=e=>{let{intl:s,onClose:n}=e;return(0,d.jsx)(o.Z,{appId:"edxnotes",title:s.formatMessage(l.heading),enableAppHelp:s.formatMessage(l.enableNotesHelp),enableAppLabel:s.formatMessage(l.enableNotesLabel),learnMoreText:s.formatMessage(l.enableNotesLink),onClose:n})};u.propTypes={intl:r.gm.isRequired,onClose:t().func.isRequired};const c=(0,i.Z)(u)}}]);
//# sourceMappingURL=679.6d246de448fc12493001.js.map